{"version":3,"file":"651_b8bef0fe84847e105f18.js","mappings":"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","sources":["webpack://portfolio/./src/page/applications/spaceInvaders/style.m.css","webpack://portfolio/./node_modules/css-loader/dist/runtime/getUrl.js","webpack://portfolio/./src/page/applications/spaceInvaders/assets/text-logo.png","webpack://portfolio/./src/page/applications/spaceInvaders/style.m.css?c023","webpack://portfolio/./src/utils/toolkit/isDefined.ts","webpack://portfolio/./src/utils/toolkit/invoke.ts","webpack://portfolio/./src/utils/dom/onKeyUp.ts","webpack://portfolio/./src/page/applications/spaceInvaders/engine/GameElement/constants.ts","webpack://portfolio/./src/page/applications/spaceInvaders/engine/GameElement/index.ts","webpack://portfolio/./src/page/applications/spaceInvaders/engine/GameElement/utils.ts","webpack://portfolio/./src/page/applications/spaceInvaders/engine/Game/index.ts","webpack://portfolio/./src/page/applications/spaceInvaders/game/constants.ts","webpack://portfolio/./src/page/applications/spaceInvaders/elements/button/getEventCoords.ts","webpack://portfolio/./src/page/applications/spaceInvaders/elements/button/getEventHandler.ts","webpack://portfolio/./src/page/applications/spaceInvaders/elements/button/index.ts","webpack://portfolio/./src/page/applications/spaceInvaders/game/end/utils.ts","webpack://portfolio/./src/page/applications/spaceInvaders/game/end/index.ts","webpack://portfolio/./src/page/applications/spaceInvaders/game/init/constants.ts","webpack://portfolio/./src/page/applications/spaceInvaders/game/init/utils.ts","webpack://portfolio/./src/page/applications/spaceInvaders/game/init/index.ts","webpack://portfolio/./src/page/applications/spaceInvaders/game/pause/index.ts","webpack://portfolio/./src/page/applications/spaceInvaders/game/pause/utils.ts","webpack://portfolio/./src/page/applications/spaceInvaders/game/run/controls/constants.ts","webpack://portfolio/./src/page/applications/spaceInvaders/engine/utils.ts","webpack://portfolio/./src/page/applications/spaceInvaders/elements/invader/constants.ts","webpack://portfolio/./src/page/applications/spaceInvaders/elements/invader/index.ts","webpack://portfolio/./src/page/applications/spaceInvaders/game/run/invaders/constants.ts","webpack://portfolio/./src/page/applications/spaceInvaders/elements/player/constants.ts","webpack://portfolio/./src/page/applications/spaceInvaders/elements/player/index.ts","webpack://portfolio/./src/page/applications/spaceInvaders/game/run/player/index.ts","webpack://portfolio/./src/page/applications/spaceInvaders/elements/score/constants.ts","webpack://portfolio/./src/page/applications/spaceInvaders/elements/score/index.ts","webpack://portfolio/./src/page/applications/spaceInvaders/game/run/score/index.ts","webpack://portfolio/./src/page/applications/spaceInvaders/elements/bullet/constants.ts","webpack://portfolio/./src/page/applications/spaceInvaders/elements/bullet/index.ts","webpack://portfolio/./src/page/applications/spaceInvaders/game/run/bullet/index.ts","webpack://portfolio/./src/page/applications/spaceInvaders/game/run/borders/index.ts","webpack://portfolio/./src/page/applications/spaceInvaders/game/run/index.ts","webpack://portfolio/./src/page/applications/spaceInvaders/game/run/invaders/index.ts","webpack://portfolio/./src/page/applications/spaceInvaders/game/run/controls/index.ts","webpack://portfolio/./src/page/applications/spaceInvaders/game/index.ts","webpack://portfolio/./src/page/applications/spaceInvaders/Content.tsx"],"sourcesContent":["// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/api.js\";\nimport ___CSS_LOADER_GET_URL_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/getUrl.js\";\nvar ___CSS_LOADER_URL_IMPORT_0___ = new URL(\"./assets/space-invaders.woff\", import.meta.url);\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\nvar ___CSS_LOADER_URL_REPLACEMENT_0___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_0___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"@font-face {\\n    font-family: 'SpaceInvaders';\\n    src: url(\" + ___CSS_LOADER_URL_REPLACEMENT_0___ + \") format('woff');\\n    font-style: normal;\\n}\\n\\n.spaceInvaders_root_lNtkt {\\n    height: 100%;\\n    display: flex;\\n    justify-content: center;\\n    align-items: center;\\n    background-color: black;\\n    background-size: 150px;\\n}\\n\\n.spaceInvaders_canvas_JNvly {\\n    max-height: 100%;\\n    max-width: 100%;\\n    outline: 1px solid black;\\n}\\n\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/page/applications/spaceInvaders/style.m.css\"],\"names\":[],\"mappings\":\"AAAA;IACI,4BAA4B;IAC5B,2DAAqD;IACrD,kBAAkB;AACtB;;AAEA;IACI,YAAY;IACZ,aAAa;IACb,uBAAuB;IACvB,mBAAmB;IACnB,uBAAuB;IACvB,sBAAsB;AAC1B;;AAEA;IACI,gBAAgB;IAChB,eAAe;IACf,wBAAwB;AAC5B\",\"sourcesContent\":[\"@font-face {\\n    font-family: 'SpaceInvaders';\\n    src: url(./assets/space-invaders.woff) format('woff');\\n    font-style: normal;\\n}\\n\\n.root {\\n    height: 100%;\\n    display: flex;\\n    justify-content: center;\\n    align-items: center;\\n    background-color: black;\\n    background-size: 150px;\\n}\\n\\n.canvas {\\n    max-height: 100%;\\n    max-width: 100%;\\n    outline: 1px solid black;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\n___CSS_LOADER_EXPORT___.locals = {\n\t\"root\": \"spaceInvaders_root_lNtkt\",\n\t\"canvas\": \"spaceInvaders_canvas_JNvly\"\n};\nexport default ___CSS_LOADER_EXPORT___;\n","\"use strict\";\n\nmodule.exports = function (url, options) {\n  if (!options) {\n    options = {};\n  }\n  if (!url) {\n    return url;\n  }\n  url = String(url.__esModule ? url.default : url);\n\n  // If url is already wrapped in quotes, remove them\n  if (/^['\"].*['\"]$/.test(url)) {\n    url = url.slice(1, -1);\n  }\n  if (options.hash) {\n    url += options.hash;\n  }\n\n  // Should url be wrapped?\n  // See https://drafts.csswg.org/css-values-3/#urls\n  if (/[\"'() \\t\\n]|(%20)/.test(url) || options.needQuotes) {\n    return \"\\\"\".concat(url.replace(/\"/g, '\\\\\"').replace(/\\n/g, \"\\\\n\"), \"\\\"\");\n  }\n  return url;\n};","module.exports = {\n        srcSet: __webpack_public_path__ + \"6b062cc9ca4233c1-1136.webp\"+\" 1136w\",\n        images: [{path: __webpack_public_path__ + \"6b062cc9ca4233c1-1136.webp\",width: 1136,height: 474}],\n        src: __webpack_public_path__ + \"6b062cc9ca4233c1-1136.webp\",\n        toString: function(){return __webpack_public_path__ + \"6b062cc9ca4233c1-1136.webp\"},\n        placeholder: \"data:image/webp;base64,UklGRk4FAABXRUJQVlA4WAoAAAAQAAAAJwAAEAAAQUxQSCICAAABkChJsmlbc/Bs27Zt27Zt27Zt+977bNu2fW2cc/Zaqx7/ISImQMQu2QOMmS2rieFJTilPRCGRUr5Gt5CqSrm45hCbiIhDpqAMg+6iNbelHUyWtG/w8EZGYhllKoldRGyS8CVac+UV2vAj/iS4IPnDMZhc21BG01wcIuKQ5mg0XsdQBp3LCwJT5IwxbxStHkPE3u0ZxCYidinixhi+H8EYTJNXWFQpSuhGrUYGQXROscs/beKFMkReBM2P3vj5MqYa77242A9taC7O/yW7gzZ8DEZxdzpeZ/BuzevrHF2EhSuv2P+yx3LYY11HKZZdIvxR7e2ERvJ2FBHR3DiHhX8KsTudTptNbLFkDpahzDJuidygc1d8h2EUC9ZjQWlxioit1MwKuUcXmwi+bXrxKXcS/9CUiX56Kl+Ksb602koIjJS4TUYMzXCZ91f5Mt6NYmoPOtbCKhv/K36uvntwc/IKiiarcDPUV1vGowHNzyNUHgErEwdgMfAoblwKzeUAYjg6EbdCWwa0gjy74V1R/x/Xmf8ODl1BaS76o/mW+jPaEBOKx6X4luvlh28MDTg9nxXB0HYHFlEHw+FLTRmFxxitCPW2uJmP2x+5+PPSdpahmPUef07cI5j3sSX5OwJDCcJV5iRb67F1N69++H6IHIviyAfPKSZsIoKp4pBeZsbs4EaXnkqpiIE9XbmyBJy6EPKzTTm/z6FDLxzZGpypRdDHfiJWUDggBgMAAJARAJ0BKigAEQA+UR6NRKOhoRgNVAA4BQS2AFiPf/tHzD8T+aJ2JbDO4BqNsB4gH6we73zs3WAfwD1AP2A9KL9u/g8/ZP0paVK9k/FLKZsCf9jxobuYNUz7YHmy/yXomf6Xk7+Sf+V/XvgI/kv9K/1HA0/syJ2HzwanjoYPs63fPM6KryLVRPwDrG9JxZ2mZi/o8h0AAP3jvuVTW4YdLPOn74ApUVrSJs+5F/flt8kmFfx7ObmywwYH5SH58VUH1QsNAVFDpMy3zFDxuvBO7W4uH/5a7GbxAZq8fg3v+sGyx6SrPo/Z8tSDBSPGbyWUG5e4xdlkikby/JdFJLxwEkR36QHc37rgdGJCfsmfCuT8tBv5F13Y7KfultFAo62WwBHIYxw8qzMZ0pB5v2/Hb/9eGuPbpTC8IEXpo/Yt8rXD2Dg94D2KUIoG88sLwlecZDX/47SVLZQkb+CLqpMPdGRKL0KcROA7lf+ufDvzES78o08ezbK8v8X+FW3OcL/+u26mBbdRVPXQ5XoHmLScAYeGCGqv6UT3o7N6L5wPEh/em8jRCZwxuV7zwpP23SjfIFDKwakI05/uYgSHndoHKosZoYa+5+V/FGOiEqrT+GXtC7eEN/GO6+cJuPAsaHiYIC1n2nd+z8rWGCyxfLAzolVxbn97MB/4tbZ0XU0P0pEJ+GOLE3NFlfplmrMiQJ/Rmf3bG8uOOmtZTuVMuDlSOBhm+HeEJM+x6EOvbMsD+YkVTEMxffiIDzrdDXMQLzM/+SfwIxlcvNQ774gzuBJLSR8CwcFvLkhxcpiW+xJ/Vf+fNDzG8lQLUo2VbWbTD/J0pI5qTnMzX0dpJ7B/xrzL0WX1rSZuHNl7b2FoUAXUpT9Om+m/RSBMDJurAuPkMdhfZse4Yn/ugGs//Amv6O9fuAfzoD6EulkDpYWmvx8wrHiMRkryRYrio3SXaviVO0EFkQDe+q6vIGSk5spo7rAHYoE1zMKHxGxfInkDIiIVwM/l7F9sonwYc2gx+sonwdXaf13O7BFgAA==\",\n        width: 1136,\n        height: 474\n      }","\n      import API from \"!../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[1].use[1]!./style.m.css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[1].use[1]!./style.m.css\";\n       export default content && content.locals ? content.locals : undefined;\n","export const isDefined = <T>(value: T | undefined | void): value is T => {\n    return value !== undefined;\n};\n","import type {Lambda} from '../types';\n\nexport const invoke = (cb: Lambda): void => {cb()};\n","import type {OnKeyEventOptions, OnKeyEventUnsubscribe} from './onKeyEvent';\nimport {onKeyEvent} from './onKeyEvent';\n\nexport const onKeyUp = (\n    key: string,\n    handler: (event: KeyboardEvent) => void,\n    options?: OnKeyEventOptions,\n): OnKeyEventUnsubscribe => {\n    return onKeyEvent('keyup', key, handler, options);\n};\n","import type {Style} from './types';\n\nexport const DEFAULT_STYLE: Style = {\n    backgroundColor: 'transparent',\n    borderColor: 'transparent',\n    borderWidth: 0,\n    color: 'black',\n    fontFamily: 'serif',\n    fontSize: 14,\n    fontWeight: 1,\n    textAlign: 'center',\n    textBaseline: 'middle',\n    fitText: true,\n} as const;\n","import type {DeepPartial} from 'utility-types';\n\nimport {isDefined} from '~/utils/toolkit';\nimport type {Lambda} from '~/utils/types';\n\nimport type {Game} from '../Game';\n\nimport type {Position, Size, Bounds, Speed, Style, Rect} from './types';\nimport {DEFAULT_STYLE} from './constants';\nimport {checkCollision} from './utils';\n\nexport * from './types';\n\nexport type GameElementParams = DeepPartial<{\n    position: Position;\n    size: Size;\n    speed: Speed;\n    style: Style;\n}>;\n\nexport class GameElement {\n    /* props */\n\n    private _x = 0;\n    /**\n     * Horizontal coordinate of the upper-left corner of the element.\n     * The coordinate axis goes from left to right.\n     */\n    get x(): number {\n        return this._x;\n    }\n\n    private _y = 0;\n    /**\n     * Vertical coordinate of the upper-left corner of the element.\n     * The coordinate axis goes from top to bottom.\n     */\n    get y(): number {\n        return this._y;\n    }\n\n    private _width = 0;\n    /** Width of the element. */\n    get width(): number {\n        return this._width;\n    }\n\n    private _height = 0;\n    /** Height of the element. */\n    get height(): number {\n        return this._height;\n    }\n\n    private _speedX = 0;\n    /** Movement speed of the element along the x axis. */\n    get speedX(): number {\n        return this._speedX;\n    }\n\n    private _speedY = 0;\n    /** Movement speed of the element along the y axis. */\n    get speedY(): number {\n        return this._speedY;\n    }\n\n    private _tags: Set<string> = new Set();\n    /** Identifiers of the element. */\n    get tags(): Set<string> {\n        return this._tags;\n    }\n\n    /** Styles describing the display of the element. */\n    style: Style = {...DEFAULT_STYLE};\n    /** Text value of the element. */\n    text: string | undefined;\n    /** Image filling the element. */\n    image: HTMLImageElement | null = null;\n\n    private collisions: Map<GameElement | string, Lambda[]> = new Map();\n    private destructors: Set<Lambda> = new Set();\n\n    /* constructor */\n    constructor({position, size, speed, style}: GameElementParams = {}) {\n        position && this.setPosition(position);\n        size && this.setSize(size);\n        speed && this.setSpeed(speed);\n        style && this.setStyle(style);\n    }\n\n    /* computeds */\n\n    /** Central x-axis coordinate of the element. */\n    get centerX(): number {\n        return this.x + this.width / 2;\n    }\n\n    /** Central y-axis coordinate of the element. */\n    get centerY(): number {\n        return this.y + this.height / 2;\n    }\n\n    /** Tuple of shape `[x, y, width, height]`. */\n    get rect(): Rect {\n        return [this.x, this.y, this.width, this.height];\n    }\n\n    /** Coordinates of each side of the element. */\n    get bounds(): Bounds {\n        const {x, y, width, height} = this;\n\n        return {\n            top: y,\n            bottom: y + height,\n            left: x,\n            right: x + width,\n        };\n    }\n\n    /* methods */\n\n    /** Merge provided object with own element position. */\n    setPosition({x, y}: Partial<Position>): void {\n        if (isDefined(x)) this._x = x;\n        if (isDefined(y)) this._y = y;\n    }\n\n    /** Merge provided object with own element size. */\n    setSize({width, height}: Partial<Size>): void {\n        if (isDefined(width)) this._width = width;\n        if (isDefined(height)) this._height = height;\n    }\n\n    /** Merge provided object with own element speed. */\n    setSpeed({speedX, speedY}: Partial<Speed>): void {\n        if (isDefined(speedX)) this._speedX = speedX;\n        if (isDefined(speedY)) this._speedY = speedY;\n    }\n\n    /** Merge provided object with own element style. */\n    setStyle(style: Partial<Style>): void {\n        Object.assign(this.style, style);\n    }\n\n    /** Check if the element has intersection with other element. */\n    collides(element: GameElement): boolean {\n        const a = this.bounds;\n        const b = element.bounds;\n\n        // https://ru.stackoverflow.com/a/758539\n        const top = Math.max(a.top, b.top);\n        const bottom = Math.min(a.bottom, b.bottom);\n        const left = Math.max(a.left, b.left);\n        const right = Math.min(a.right, b.right);\n\n        return top <= bottom && left <= right;\n    }\n\n    /** Shift the element by the speed value. */\n    move(): void {\n        this._x += this._speedX;\n        this._y += this._speedY;\n    }\n\n    private drawRect(context: CanvasRenderingContext2D): void {\n        context.fillStyle = this.style.backgroundColor;\n        context.fillRect(...this.rect);\n    }\n\n    private drawBorders(context: CanvasRenderingContext2D): void {\n        context.strokeStyle = this.style.borderColor;\n        context.lineWidth = this.style.borderWidth;\n        context.strokeRect(...this.rect);\n    }\n\n    private drawText(context: CanvasRenderingContext2D, text: string): void {\n        context.fillStyle = this.style.color;\n        context.lineWidth = this.style.fontWeight;\n        context.font = `${this.style.fontSize}px ${this.style.fontFamily}`;\n        context.textAlign = this.style.textAlign;\n        context.textBaseline = this.style.textBaseline;\n        context.fillText(\n            text,\n            this.centerX,\n            this.centerY,\n            this.style.fitText ? this.width : undefined,\n        );\n    }\n\n    private drawImage(context: CanvasRenderingContext2D, image: HTMLImageElement): void {\n        context.drawImage(image, ...this.rect);\n    }\n\n    /** Draw the element. */\n    draw(context: CanvasRenderingContext2D): void {\n        this.drawRect(context);\n        this.drawBorders(context);\n        if (this.image) this.drawImage(context, this.image);\n        if (this.text) this.drawText(context, this.text);\n    }\n\n    /**\n     * When the element collides other, the callback will be invoked.\n     * Returns unsubscribe function.\n     */\n    addOnCollision(value: GameElement | string, callback: Lambda): Lambda {\n        const array = this.collisions.get(value) ?? [];\n        array.push(callback);\n        this.collisions.set(value, array);\n\n        return () => this.removeOnCollision(value, callback);\n    }\n\n    /** Remove collision callback. */\n    removeOnCollision(value: GameElement | string, callback: Lambda): void {\n        const array = this.collisions.get(value) ?? [];\n        const result = array.filter(val => val !== callback);\n        this.collisions.set(value, result);\n    }\n\n    /** Check collision with all registered elements, and call corresponding callbacks. */\n    checkCollisions(game: Game): void {\n        this.collisions.forEach((callbacks, value) => {\n            const elements = value instanceof GameElement\n                ? [value]\n                : game.getElements(value);\n\n            checkCollision(this, elements, callbacks);\n        });\n    }\n\n    /**\n     * When the element is destroyed, the callback will be invoked.\n     * Returns unsubscribe function.\n     */\n    addOnDestroy(callback: Lambda): Lambda {\n        this.destructors.add(callback);\n\n        return () => this.removeOnDestroy(callback);\n    }\n\n    /** Remove destroy callback. */\n    removeOnDestroy(callback: Lambda): void {\n        this.destructors.delete(callback);\n    }\n\n    /** Call all element destructors. */\n    destroy(): void {\n        this.destructors.forEach(callback => callback());\n    }\n}\n","import type {Lambda} from '~/utils/types';\nimport {invoke} from '~/utils/toolkit';\n\nimport type {GameElement} from '.';\n\nexport const checkCollision = (\n    target: GameElement,\n    elements: GameElement[],\n    callbacks: Lambda[],\n): void => {\n    if (elements.some(element => element.collides(target))) {\n        callbacks.forEach(invoke);\n    }\n};\n","import {invoke, isDefined} from '~/utils/toolkit';\nimport {onKeyDown, onKeyUp} from '~/utils/dom';\nimport type {OnKeyEventOptions} from '~/utils/dom';\nimport type {Lambda} from '~/utils/types';\n\nimport {GameElement} from '../GameElement';\n\ntype MakeSceneCallback = (game: Game, args?: any) => void;\n\nexport class Game {\n    /* props */\n\n    /** Map of game scenes and their initialization functions. */\n    private scenes: Map<string, MakeSceneCallback> = new Map();\n    /** Current scene. */\n    scene: string | null = null;\n    /** List of all game elements. */\n    private elements: Set<GameElement> = new Set();\n    /** Current `requestAnimationFrame` id */\n    private rafId = 0;\n    /** Timestamp of last frame */\n    private lastFrameTime = performance.now();\n\n    private _canvas: HTMLCanvasElement;\n    get canvas(): HTMLCanvasElement {\n        return this._canvas;\n    }\n\n    private _context: CanvasRenderingContext2D;\n    get context(): CanvasRenderingContext2D {\n        return this._context;\n    }\n\n    private unsibscribes: Set<Lambda> = new Set();\n\n    /* constructor */\n    constructor(canvas: HTMLCanvasElement) {\n        canvas.tabIndex = 1;\n        canvas.focus();\n        this._canvas = canvas;\n        this._context = canvas.getContext('2d')!;\n    }\n\n    /* computeds */\n\n    /** Width of the game field. */\n    get width(): number {\n        return this.canvas.width;\n    }\n\n    /** Height of the game field. */\n    get height(): number {\n        return this.canvas.height;\n    }\n\n    /* methods */\n\n    /** Register game scene with its initialization function. */\n    addScene(name: string, callback: MakeSceneCallback): void {\n        this.scenes.set(name, callback);\n    }\n\n    /**\n     * Set game active scene.\n     * Note, you should call clean function manually if needed.\n    */\n    applyScene(name: string, args?: Record<PropertyKey, unknown>): void {\n        const scene = this.scenes.get(name);\n        if (!scene) {\n            throw new Error(`Game has no scene \"${name}\". Make sure to add it with \"makeScene\".`);\n        }\n\n        this.scene = name;\n        scene(this, args);\n    }\n\n    /** Remove record about game scene. */\n    deleteScene(name: string): void {\n        this.scenes.delete(name);\n    }\n\n    /** Register a game element. */\n    addElements(value: GameElement | GameElement[]): void {\n        const elements = [value].flat();\n\n        elements.forEach(element => {\n            this.elements.add(element);\n        });\n    }\n\n    /** Get game element by its tag. */\n    getElement<T extends GameElement = GameElement>(tag: string): T | undefined {\n        return Array.from(this.elements).find(element => element.tags.has(tag)) as T;\n    }\n\n    /** Get all game elements with provided tag. */\n    getElements<T extends GameElement = GameElement>(tag: string): T[] {\n        return Array.from(this.elements).filter(element => element.tags.has(tag)) as T[];\n    }\n\n    /** Remove record about game element. */\n    deleteElement(tag: string): void;\n    deleteElement(element: GameElement): void;\n    deleteElement(value: GameElement | string): void {\n        const element = value instanceof GameElement ? value : this.getElement(value);\n        if (!element) return;\n\n        this.elements.delete(element);\n        element.destroy();\n    }\n\n    /**\n     * Remove elements with provided tag.\n     * If no tag provided, all elements would be removed.\n     */\n    deleteElements(tag?: string): void {\n        const elements = isDefined(tag)\n            ? this.getElements(tag)\n            : this.elements;\n\n        elements.forEach(element => {\n            element.destroy();\n            this.elements.delete(element);\n        });\n    }\n\n    /** Start game. */\n    start(scene: string) {\n        this.applyScene(scene);\n        this.run();\n    }\n\n    /** Process game ticks. */\n    run(): void {\n        const run = this.run.bind(this);\n\n        const currentFrameTime = performance.now();\n        const diff = currentFrameTime - this.lastFrameTime;\n\n        // Lock fps.\n        if (diff >= 16) {\n            this.tick();\n            this.lastFrameTime = currentFrameTime;\n        }\n\n        this.rafId = requestAnimationFrame(run);\n    }\n\n    /** Performs unit of work in game. */\n    tick(): void {\n        this.context.clearRect(0, 0, this.width, this.height);\n\n        this.elements.forEach(\n            element => element.draw(this.context),\n        );\n\n        this.elements.forEach(\n            element => element.move(),\n        );\n\n        this.elements.forEach(\n            element => element.checkCollisions(this),\n        );\n    }\n\n    /** Stop game. */\n    stop(): void {\n        cancelAnimationFrame(this.rafId);\n    }\n\n    /**\n     * When the key is pressed, the callback will be invoked.\n     * Returns unsubscribe function.\n     */\n    onKeyDown(key: string, callback: Lambda, options?: OnKeyEventOptions): Lambda {\n        const unsubscribe = onKeyDown(key, callback, {...options, target: this.canvas});\n        this.unsibscribes.add(unsubscribe);\n\n        return () => {\n            unsubscribe();\n            this.unsibscribes.delete(unsubscribe);\n        };\n    }\n\n    /**\n     * When the key is released, the callback will be invoked.\n     * Returns unsubscribe function.\n     */\n    onKeyUp(key: string, callback: Lambda, options?: OnKeyEventOptions): Lambda {\n        const unsubscribe = onKeyUp(key, callback, {...options, target: this.canvas});\n        this.unsibscribes.add(unsubscribe);\n\n        return () => {\n            unsubscribe();\n            this.unsibscribes.delete(unsubscribe);\n        };\n    }\n\n    /** Clear all `onKeyUp` and `onKeyDown` listeners. */\n    clearEventListeners() {\n        this.unsibscribes.forEach(invoke);\n        this.unsibscribes.clear();\n    }\n\n    /** Clear all registered keyboard events and game elements. */\n    clear() {\n        this.deleteElements();\n        this.clearEventListeners();\n    }\n\n    /** Delete the game. */\n    destroy() {\n        this.stop();\n        this.deleteElements();\n        this.clearEventListeners();\n    }\n}\n","import font from '../assets/space-invaders.woff';\n\nexport const GAME_FONT_NAME = 'SpaceInvaders';\nnew FontFace(GAME_FONT_NAME, `url(${font})`).load()\n    .then(result => {\n        document.fonts.add(result);\n        return result;\n    }).catch(() => null);\n\nexport const GAME_SCENE = {\n    INIT: 'init_scene',\n    RUN: 'run_scene',\n    END: 'end_scene',\n    PAUSE: 'pause_scene',\n} as const;\n","type Coords = {\n    x: number;\n    y: number;\n};\n\nexport const getEventCoords = (event: MouseEvent | TouchEvent): Coords => {\n    const target = event.target as HTMLCanvasElement;\n    const rect = target.getBoundingClientRect();\n\n    let offsetX: number;\n    let offsetY: number;\n\n    if ('offsetX' in event && 'offsetY' in event) {\n        offsetX = event.offsetX;\n        offsetY = event.offsetY;\n    } else {\n        const touch = event.changedTouches[0];\n        offsetX = touch.clientX - rect.x;\n        offsetY = touch.clientY - rect.y;\n    }\n\n    const initialWidth = target.width;\n    const initialHeight = target.height;\n\n    const scaleX = rect.width / initialWidth;\n    const scaleY = rect.height / initialHeight;\n\n    const x = offsetX / scaleX;\n    const y = offsetY / scaleY;\n\n    return {x, y};\n};\n","import type {Bounds} from '../../engine';\n\nimport {getEventCoords} from './getEventCoords';\n\nexport const getEventHandler = (\n    bounds: Bounds,\n    handler?: () => void,\n) => (event: MouseEvent | TouchEvent) => {\n    event.preventDefault();\n    const {x, y} = getEventCoords(event);\n\n    if (\n        x > bounds.left\n        && x < bounds.right\n        && y > bounds.top\n        && y < bounds.bottom\n    ) {\n        handler?.();\n    }\n};\n","import {invoke} from '~/utils/toolkit';\nimport type {Lambda} from '~/utils/types';\n\nimport type {GameElementParams} from '../../engine';\nimport {GameElement} from '../../engine';\nimport {GAME_FONT_NAME} from '../../game/constants';\n\nimport {getEventHandler} from './getEventHandler';\n\nexport type ButtonParams = {\n    text: string;\n    canvas: HTMLCanvasElement;\n    onButtonDown?: Lambda;\n    onButtonUp?: Lambda;\n} & GameElementParams;\n\nconst DEFAULT_STYLE = {\n    backgroundColor: 'black',\n    borderColor: 'white',\n    borderWidth: 2,\n    fontFamily: GAME_FONT_NAME,\n    color: 'white',\n};\n\nexport class Button extends GameElement {\n    constructor({\n        canvas,\n        style,\n        text,\n        onButtonDown,\n        onButtonUp,\n        ...rest\n    }: ButtonParams) {\n        super(rest);\n\n        this.text = text;\n        this.setStyle({...DEFAULT_STYLE, ...style});\n\n        const garbage: Array<(() => void)> = [];\n\n        if (onButtonDown) {\n            const downHandler = getEventHandler(this.bounds, onButtonDown);\n            const events = ['touchstart', 'mousedown'] as const;\n            const unmounts = events.map(event => {\n                canvas.addEventListener(event, downHandler);\n                return () => canvas.removeEventListener(event, downHandler);\n            });\n            garbage.push(...unmounts);\n        }\n\n        if (onButtonUp) {\n            const upHandler = getEventHandler(this.bounds, onButtonUp);\n            const events = ['touchend', 'mouseup'] as const;\n            const unmounts = events.map(event => {\n                canvas.addEventListener(event, upHandler);\n                return () => canvas.removeEventListener(event, upHandler);\n            });\n            garbage.push(...unmounts);\n        }\n\n        this.addOnDestroy(() => {\n            garbage.forEach(invoke);\n        });\n    }\n}\n","import {getCenterCoordinate} from '~/utils/getCenterCoordinate';\nimport {KEYBOARD_KEY} from '~/constants/keyboard';\n\nimport {Button} from '../../elements/button';\nimport type {Game, Style} from '../../engine';\nimport {GameElement} from '../../engine';\nimport {GAME_FONT_NAME} from '../constants';\n\nexport const makeTitle = (game: Game, score: number): GameElement => {\n    const position = {\n        x: game.width / 2,\n        y: game.height / 4,\n    };\n\n    const style: Partial<Style> = {\n        fontSize: 40,\n        color: 'white',\n        fontFamily: GAME_FONT_NAME,\n        fitText: false,\n    };\n\n    const title = new GameElement({position, style});\n    title.text = score > 0 ? 'Victory' : 'Game Over';\n\n    return title;\n};\n\nexport const makeSubtitle = (game: Game, score: number): GameElement => {\n    const position = {\n        x: game.width / 2,\n        y: game.height / 3,\n    };\n\n    const style: Partial<Style> = {\n        fontSize: 20,\n        color: 'white',\n        fontFamily: GAME_FONT_NAME,\n        fitText: false,\n    };\n\n    const subtitle = new GameElement({position, style});\n    subtitle.text = `score: ${score}`;\n\n    return subtitle;\n};\n\nexport const makeButton = (game: Game): Button => {\n    const size = {\n        width: 150,\n        height: 60,\n    };\n\n    const position = {\n        x: getCenterCoordinate(game.width, size.width),\n        y: game.height * (3 / 4) - size.height,\n\n    };\n\n    const button = new Button({\n        canvas: game.canvas,\n        size,\n        position,\n        text: 'Restart',\n        style: {\n            fontSize: 30,\n        },\n        onButtonDown: () => {\n            const event = new KeyboardEvent('keydown', {key: KEYBOARD_KEY.SPACE});\n            game.canvas.dispatchEvent(event);\n        },\n    });\n\n    return button;\n};\n","import {KEYBOARD_KEY} from '~/constants/keyboard';\n\nimport {GAME_SCENE} from '../constants';\nimport type {Game} from '../../engine';\n\nimport {makeButton, makeSubtitle, makeTitle} from './utils';\n\ntype Params = {\n    score: number;\n};\n\nexport const endScene = (game: Game, {score}: Params) => {\n    const title = makeTitle(game, score);\n    const subtitle = makeSubtitle(game, score);\n    const button = makeButton(game);\n\n    game.addElements(title);\n    game.addElements(subtitle);\n    game.addElements(button);\n\n    // Delay for event listener to avoid accident key press.\n    setTimeout(() => {\n        game.onKeyDown(KEYBOARD_KEY.SPACE, () => {\n            game.clear();\n            game.applyScene(GAME_SCENE.INIT);\n        }, {once: true});\n    }, 300);\n};\n","import logo from '../../assets/text-logo.png';\n\nexport const logoElement = new Image();\nlogoElement.src = logo.src;\n","import {getCenterCoordinate} from '~/utils/getCenterCoordinate';\nimport {KEYBOARD_KEY} from '~/constants/keyboard';\n\nimport {GameElement} from '../../engine';\nimport type {Game} from '../../engine';\nimport {Button} from '../../elements/button';\nimport logo from '../../assets/text-logo.png';\nimport {GAME_FONT_NAME} from '../constants';\n\nimport {logoElement} from './constants';\n\nexport const makeImage = (game: Game): GameElement => {\n    const padding = 20;\n    const width = game.width - padding * 2;\n    const scale = logo.width / width;\n    const height = logo.height / scale;\n    const size = {width, height};\n\n    const x = padding;\n    const y = game.height / 5;\n    const position = {x, y};\n\n    const image = new GameElement({size, position});\n    image.image = logoElement;\n\n    return image;\n};\n\nexport const makeTexts = (game: Game): GameElement[] => {\n    const size = {\n        height: 30,\n    };\n\n    const labels = [\n        '«Left» - Move left',\n        '«Right» - Move right',\n        '«Space» - Fire',\n    ];\n\n    return labels.map((value, index) => {\n        const y = game.height / 2 + size.height * index;\n        const position = {x: 80, y};\n\n        const text = new GameElement({\n            size,\n            position,\n            style: {\n                color: 'white',\n                fontSize: 24,\n                textAlign: 'left',\n                fitText: false,\n                fontFamily: GAME_FONT_NAME,\n            },\n        });\n\n        text.text = value;\n\n        return text;\n    });\n};\n\nexport const makeButton = (game: Game) => {\n    const size = {\n        height: 60,\n        width: 120,\n    };\n\n    const position = {\n        x: getCenterCoordinate(game.width, size.width),\n        y: game.height * (3 / 4) - size.height,\n    };\n\n    const button = new Button({\n        canvas: game.canvas,\n        size,\n        position,\n        text: 'Start',\n        style: {\n            borderColor: 'red',\n            color: 'yellow',\n            fontSize: 30,\n        },\n        onButtonDown: () => {\n            const event = new KeyboardEvent('keydown', {key: KEYBOARD_KEY.SPACE});\n            game.canvas.dispatchEvent(event);\n        },\n    });\n\n    return button;\n};\n","import {KEYBOARD_KEY} from '~/constants/keyboard';\n\nimport type {Game} from '../../engine';\nimport {GAME_SCENE} from '../constants';\n\nimport {makeButton, makeImage, makeTexts} from './utils';\n\nexport const initScene = (game: Game) => {\n    const image = makeImage(game);\n    const texts = makeTexts(game);\n    const button = makeButton(game);\n\n    game.addElements(image);\n    game.addElements(texts);\n    game.addElements(button);\n\n    // Delay for event listener to avoid accident key press.\n    setTimeout(() => {\n        game.onKeyDown(KEYBOARD_KEY.SPACE, () => {\n            game.clear();\n            game.applyScene(GAME_SCENE.RUN);\n        }, {once: true});\n    }, 300);\n};\n","import type {Game} from '../../engine';\n\nimport {makeButton} from './utils';\n\nexport const pauseScene = (game: Game): void => {\n    const button = makeButton(game);\n    game.addElements(button);\n    button.draw(game.context);\n    game.stop();\n};\n","import {getCenterCoordinate} from '~/utils/getCenterCoordinate';\n\nimport {Button} from '../../elements/button';\nimport type {Game} from '../../engine';\nimport {GAME_SCENE} from '../constants';\n\nexport const makeButton = (game: Game) => {\n    const size = {\n        height: 60,\n        width: 170,\n    };\n\n    const position = {\n        x: getCenterCoordinate(game.width, size.width),\n        y: getCenterCoordinate(game.height, size.height),\n    };\n\n    const button = new Button({\n        canvas: game.canvas,\n        size,\n        position,\n        text: 'Continue',\n        style: {\n            fontSize: 30,\n        },\n        onButtonDown: () => {\n            game.scene = GAME_SCENE.RUN;\n            game.deleteElements('pause');\n            game.run();\n        },\n    });\n\n    button.tags.add('pause');\n\n    return button;\n};\n","import {KEYBOARD_KEY} from '~/constants/keyboard';\n\nimport type {Style} from '../../../engine';\n\nexport const BUTTONS_GAP = 10;\n\nexport const BUTTON_STYLE: Partial<Style> = {\n    fontSize: 20,\n    color: 'white',\n};\n\nexport const getButtonsConfig = (canvas: HTMLCanvasElement) => [\n    {\n        text: '<',\n        onButtonDown: () => {\n            const event = new KeyboardEvent('keydown', {key: KEYBOARD_KEY.ARROW_LEFT});\n            canvas.dispatchEvent(event);\n        },\n        onButtonUp: () => {\n            const event = new KeyboardEvent('keyup', {key: KEYBOARD_KEY.ARROW_LEFT});\n            canvas.dispatchEvent(event);\n        },\n    },\n    {\n        text: 'fire',\n        onButtonDown: () => {\n            const event = new KeyboardEvent('keydown', {key: KEYBOARD_KEY.SPACE});\n            canvas.dispatchEvent(event);\n        },\n    },\n    {\n        text: '>',\n        onButtonDown: () => {\n            const event = new KeyboardEvent('keydown', {key: KEYBOARD_KEY.ARROW_RIGHT});\n            canvas.dispatchEvent(event);\n        },\n        onButtonUp: () => {\n            const event = new KeyboardEvent('keyup', {key: KEYBOARD_KEY.ARROW_RIGHT});\n            canvas.dispatchEvent(event);\n        },\n    },\n];\n","export const makeSvgImage = (image: string): HTMLImageElement => {\n    const img = new Image();\n    img.src = `data:image/svg+xml;charset=utf-8,${encodeURIComponent(image)}`;\n    return img;\n};\n","import type {Speed, Style} from '../../engine';\nimport {makeSvgImage} from '../../engine/utils';\n\nexport const ACCELERATION = 0.15;\n\nexport const INVADER_SPEED: Speed = {\n    speedX: 0.5,\n    speedY: 0,\n};\n\nexport const SHIFT_Y = 8;\n\nexport const INVADER_STYLE: Partial<Style> = {\n    backgroundColor: 'transparent',\n    borderColor: 'transparent',\n    borderWidth: 0,\n};\n\nexport const INVADER_TYPE = {\n    TOP: 'top',\n    MID: 'mid',\n    BOT: 'bot',\n} as const;\n\nconst SPRITES = Object.entries({\n    invaderTop1: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"80\" height=\"80\" fill=\"white\"><path fill=\"#D9D9D9\" d=\"M30 0h10v10H30V0ZM0 70h10v10H0V70Zm10-10h10v10H10V60Zm10 10h10v10H20V70Zm30 0h10v10H50V70Zm20 0h10v10H70V70ZM60 60h10v10H60V60Zm-20 0h10v10H40V60Zm-10 0h10v10H30V60Zm20-10h10v10H50V50Zm-30 0h10v10H20V50Zm50-10h10v10H70V40Zm0-10h10v10H70V30ZM60 40h10v10H60V40Zm0-10h10v10H60V30ZM50 40h10v10H50V40Zm-10 0h10v10H40V40Zm0-10h10v10H40V30ZM30 40h10v10H30V40Zm0-10h10v10H30V30ZM20 40h10v10H20V40Zm-10 0h10v10H10V40ZM0 40h10v10H0V40Zm0-10h10v10H0V30Zm10 0h10v10H10V30Zm50-10h10v10H60V20Zm-10 0h10v10H50V20Zm-10 0h10v10H40V20Zm-10 0h10v10H30V20Zm-20 0h10v10H10V20Zm10 0h10v10H20V20Zm30-10h10v10H50V10Zm-10 0h10v10H40V10Zm-20 0h10v10H20V10Zm10 0h10v10H30V10ZM40 0h10v10H40V0Z\"/></svg>',\n    invaderTop2: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"80\" height=\"80\" fill=\"white\"><path fill=\"#D9D9D9\" d=\"M30 0h10v10H30V0ZM10 20h10v10H10V20Zm0 10h10v10H10V30ZM0 30h10v10H0V30Zm0 10h10v10H0V40Zm10 0h10v10H10V40Zm0 10h10v10H10V50ZM0 60h10v10H0V60Zm10 10h10v10H10V70Zm10-30h10v10H20V40Zm10-10h10v10H30V30Zm0 10h10v10H30V40Zm0 10h10v10H30V50ZM20 20h10v10H20V20Zm10 0h10v10H30V20ZM20 10h10v10H20V10Zm10 0h10v10H30V10ZM50 0H40v10h10V0Zm20 20H60v10h10V20Zm0 10H60v10h10V30Zm10 0H70v10h10V30Zm0 10H70v10h10V40Zm-10 0H60v10h10V40Zm0 10H60v10h10V50Zm10 10H70v10h10V60ZM70 70H60v10h10V70ZM60 40H50v10h10V40ZM50 30H40v10h10V30Zm0 10H40v10h10V40Zm0 10H40v10h10V50Zm10-30H50v10h10V20Zm-10 0H40v10h10V20Zm10-10H50v10h10V10Zm-10 0H40v10h10V10Z\"/></svg>',\n    invaderMid1: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"110\" height=\"80\" fill=\"white\"><path fill=\"#D9D9D9\" d=\"M20 0h10v10H20V0Zm10 10h10v10H30V10Zm0 10h10v10H30V20Zm10 0h10v10H40V20Zm10 0h10v10H50V20ZM40 30h10v10H40V30Zm0 10h10v10H40V40Zm0 10h10v10H40V50Zm10-20h10v10H50V30Zm0 10h10v10H50V40Zm0 10h10v10H50V50Zm10-30h10v10H60V20Zm0 10h10v10H60V30Zm0 10h10v10H60V40Zm0 10h10v10H60V50Zm10 0h10v10H70V50Zm0-10h10v10H70V40Zm0-20h10v10H70V20Zm0-10h10v10H70V10ZM80 0h10v10H80V0Zm0 20h10v10H80V20Zm0 10h10v10H80V30Zm10 0h10v10H90V30Zm0 10h10v10H90V40Zm10 0h10v10h-10V40Zm0-10h10v10h-10V30Zm0-10h10v10h-10V20Zm0-10h10v10h-10V10ZM90 50h10v10H90V50ZM80 40h10v10H80V40Zm0 10h10v10H80V50Zm0 10h10v10H80V60Zm10 10h10v10H90V70ZM30 40h10v10H30V40Zm0 10h10v10H30V50ZM20 20h10v10H20V20Zm0 10h10v10H20V30Zm-10 0h10v10H10V30ZM0 30h10v10H0V30Zm0-10h10v10H0V20Zm0-10h10v10H0V10Zm0 30h10v10H0V40Zm10 0h10v10H10V40Zm0 10h10v10H10V50Zm10 0h10v10H20V50Zm0 10h10v10H20V60ZM10 70h10v10H10V70Zm10-30h10v10H20V40Z\"/></svg>',\n    invaderMid2: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"110\" height=\"80\" fill=\"white\"><path fill=\"#D9D9D9\" d=\"M80 10H70v10h10V10Zm0 10H70v10h10V20Zm10 0H80v10h10V20Zm0 10H80v10h10V30Zm10 0H90v10h10V30Zm0 10H90v10h10V40Zm10 0h-10v10h10V40Zm0 10h-10v10h10V50Zm0 10h-10v10h10V60ZM90 40H80v10h10V40Zm0 10H80v10h10V50Zm0 10H80v10h10V60ZM80 70H70v10h10V70Zm-10 0H60v10h10V70Zm10-30H70v10h10V40Zm0 10H70v10h10V50ZM70 20H60v10h10V20Zm0 10H60v10h10V30Zm0 10H60v10h10V40Zm0 10H60v10h10V50ZM60 20H50v10h10V20Zm0 10H50v10h10V30Zm0 10H50v10h10V40Zm0 10H50v10h10V50ZM90 0H80v10h10V0ZM30 10h10v10H30V10Zm0 10h10v10H30V20Zm-10 0h10v10H20V20Zm0 10h10v10H20V30Zm-10 0h10v10H10V30Zm0 10h10v10H10V40ZM0 40h10v10H0V40Zm0 10h10v10H0V50Zm0 10h10v10H0V60Zm20-20h10v10H20V40Zm0 10h10v10H20V50Zm0 10h10v10H20V60Zm10 10h10v10H30V70Zm10 0h10v10H40V70ZM30 40h10v10H30V40Zm0 10h10v10H30V50Zm10-30h10v10H40V20Zm0 10h10v10H40V30Zm0 10h10v10H40V40Zm0 10h10v10H40V50Z\"/><path fill=\"#D9D9D9\" d=\"M50 20h10v10H50V20Zm0 10h10v10H50V30Zm0 10h10v10H50V40Zm0 10h10v10H50V50ZM20 0h10v10H20V0Z\"/></svg>',\n    invaderBot1: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"120\" height=\"80\" fill=\"white\"><path fill=\"#D9D9D9\" d=\"M40 0h10v10H40V0Zm0 10h10v10H40V10Zm0 10h10v10H40V20ZM50 0h10v10H50V0Zm0 10h10v10H50V10Zm0 10h10v10H50V20Zm0 10h10v10H50V30Zm0 10h10v10H50V40Zm-10 0h10v10H40V40ZM30 10h10v10H30V10Zm0 10h10v10H30V20ZM20 10h10v10H20V10Zm-10 0h10v10H10V10Zm10 10h10v10H20V20Zm-10 0h10v10H10V20ZM0 20h10v10H0V20Zm0 10h10v10H0V30Zm10 0h10v10H10V30Zm10 0h10v10H20V30ZM0 40h10v10H0V40Zm10 0h10v10H10V40Zm10 0h10v10H20V40Zm10 0h10v10H30V40Zm10 10h10v10H40V50Zm-10 0h10v10H30V50Zm0 10h10v10H30V60Zm-10 0h10v10H20V60ZM10 70h10v10H10V70ZM0 70h10v10H0V70ZM80 0H70v10h10V0Zm0 10H70v10h10V10Zm0 10H70v10h10V20ZM70 0H60v10h10V0Zm0 10H60v10h10V10Zm0 10H60v10h10V20Zm0 10H60v10h10V30Zm0 10H60v10h10V40Zm10 0H70v10h10V40Zm10-30H80v10h10V10Zm0 10H80v10h10V20Zm10-10H90v10h10V10Zm10 0h-10v10h10V10Zm-10 10H90v10h10V20Zm10 0h-10v10h10V20Zm10 0h-10v10h10V20Zm0 10h-10v10h10V30Zm-10 0h-10v10h10V30Zm-10 0H90v10h10V30Zm20 10h-10v10h10V40Zm-10 0h-10v10h10V40Zm-10 0H90v10h10V40Zm-10 0H80v10h10V40ZM80 50H70v10h10V50Zm10 0H80v10h10V50Zm0 10H80v10h10V60Zm10 0H90v10h10V60Zm10 10h-10v10h10V70Zm10 0h-10v10h10V70Z\"/></svg>',\n    invaderBot2: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"120\" height=\"80\" fill=\"white\"><path fill=\"#D9D9D9\" d=\"M40 0h10v10H40V0Zm10 0h10v10H50V0Zm0 10h10v10H50V10Zm-10 0h10v10H40V10Zm-10 0h10v10H30V10Zm-10 0h10v10H20V10Zm-10 0h10v10H10V10Zm0 10h10v10H10V20ZM0 20h10v10H0V20Zm0 10h10v10H0V30Zm10 0h10v10H10V30ZM0 40h10v10H0V40Zm10 0h10v10H10V40Zm10-20h10v10H20V20Zm10 0h10v10H30V20Zm10 0h10v10H40V20Zm10 0h10v10H50V20Zm0 10h10v10H50V30Zm-30 0h10v10H20V30Zm0 10h10v10H20V40Zm10 0h10v10H30V40Zm10 0h10v10H40V40Zm10 0h10v10H50V40ZM40 50h10v10H40V50Zm-10 0h10v10H30V50Zm-10 0h10v10H20V50Zm0 10h10v10H20V60Zm-10 0h10v10H10V60Zm10 10h10v10H20V70Zm10 0h10v10H30V70ZM80 0H70v10h10V0ZM70 0H60v10h10V0Zm0 10H60v10h10V10Zm10 0H70v10h10V10Zm10 0H80v10h10V10Zm10 0H90v10h10V10Zm10 0h-10v10h10V10Zm0 10h-10v10h10V20Zm10 0h-10v10h10V20Zm0 10h-10v10h10V30Zm-10 0h-10v10h10V30Zm10 10h-10v10h10V40Zm-10 0h-10v10h10V40Zm-10-20H90v10h10V20Zm-10 0H80v10h10V20Zm-10 0H70v10h10V20Zm-10 0H60v10h10V20Zm0 10H60v10h10V30Zm30 0H90v10h10V30Zm0 10H90v10h10V40Zm-10 0H80v10h10V40Zm-10 0H70v10h10V40Zm-10 0H60v10h10V40Zm10 10H70v10h10V50Zm10 0H80v10h10V50Zm10 0H90v10h10V50Zm0 10H90v10h10V60Zm10 0h-10v10h10V60Zm-10 10H90v10h10V70Zm-10 0H80v10h10V70Z\"/></svg>',\n}).reduce<Record<string, HTMLImageElement>>((acc, [key, value]) => {\n    acc[key] = makeSvgImage(value);\n    return acc;\n}, {});\n\nexport const INVADERS_CONFIG = {\n    [INVADER_TYPE.TOP]: {\n        width: 26,\n        height: 26,\n        sprites: [SPRITES.invaderTop1, SPRITES.invaderTop2],\n    },\n    [INVADER_TYPE.MID]: {\n        width: 36,\n        height: 26,\n        sprites: [SPRITES.invaderMid1, SPRITES.invaderMid2],\n    },\n    [INVADER_TYPE.BOT]: {\n        width: 40,\n        height: 26,\n        sprites: [SPRITES.invaderBot1, SPRITES.invaderBot2],\n    },\n} as const;\n","import type {ValuesType} from 'utility-types';\n\nimport type {GameElementParams} from '../../engine';\nimport {GameElement} from '../../engine';\n\nimport type {INVADER_TYPE} from './constants';\nimport {ACCELERATION, INVADERS_CONFIG, INVADER_STYLE, SHIFT_Y, INVADER_SPEED} from './constants';\n\ntype Sprites = readonly [HTMLImageElement, HTMLImageElement];\ntype InvaderType = ValuesType<typeof INVADER_TYPE>;\n\nexport type InvaderParams = {\n    type: InvaderType;\n} & GameElementParams;\n\nexport class Invader extends GameElement {\n    private sprites: Sprites;\n    private spriteIndex = 0;\n\n    constructor({type, ...rest}: InvaderParams) {\n        const {width, height, sprites} = INVADERS_CONFIG[type];\n        const size = {width, height};\n\n        super({\n            ...rest,\n            size,\n            speed: INVADER_SPEED,\n            style: INVADER_STYLE,\n        });\n\n        this.sprites = sprites;\n        this.image = sprites[this.spriteIndex];\n        this.tags.add('invader');\n\n        const iid = setInterval(() => this.toggleImage(), 1000);\n        this.addOnDestroy(() => {\n            clearInterval(iid);\n        });\n    }\n\n    toggleImage(): void {\n        // eslint-disable-next-line no-bitwise\n        this.spriteIndex ^= 1;\n        this.image = this.sprites[this.spriteIndex];\n    }\n\n    toggleDirection(): void {\n        const speedX = -this.speedX;\n        this.setSpeed({speedX});\n    }\n\n    speedUp(): void {\n        const speedX = Math.sign(this.speedX) * (Math.abs(this.speedX) + ACCELERATION);\n        this.setSpeed({speedX});\n    }\n\n    shiftY(): void {\n        const y = this.y + SHIFT_Y;\n        this.setPosition({y});\n    }\n}\n","import {INVADERS_CONFIG, INVADER_TYPE} from '../../../elements/invader/constants';\n\nexport const INVADERS_GAP = 10;\n\nconst INVADERS_PER_ROW = 7;\nexport const ROWS_CONFIG = [\n    {\n        type: INVADER_TYPE.TOP,\n        count: INVADERS_PER_ROW,\n    },\n    {\n        type: INVADER_TYPE.TOP,\n        count: INVADERS_PER_ROW,\n    },\n    {\n        type: INVADER_TYPE.MID,\n        count: INVADERS_PER_ROW,\n    },\n    {\n        type: INVADER_TYPE.MID,\n        count: INVADERS_PER_ROW,\n    },\n    {\n        type: INVADER_TYPE.BOT,\n        count: INVADERS_PER_ROW,\n    },\n    {\n        type: INVADER_TYPE.BOT,\n        count: INVADERS_PER_ROW,\n    },\n];\n\nexport const INVADERS_MAX_WIDTH = Math.max(\n    ...Object.values(INVADERS_CONFIG).map(({width}) => width),\n);\n","import type {Size} from '../../engine';\nimport {makeSvgImage} from '../../engine/utils';\n\nexport const PLAYER_SIZE: Size = {\n    width: 40,\n    height: 20,\n};\n\nexport const PLAYER_SPEED = 5;\n\nexport const PLAYER_IMAGE = makeSvgImage(\n    '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"100\" height=\"53\" fill=\"white\"><path fill=\"#fff\" d=\"M0 26.9818V53h100V26.9818h-7.8431v-7.7091h-32.353V7.70909h-6.8627V0h-5.8824v7.70909h-6.8627V19.2727H7.84314v7.7091H0Z\"/></svg>',\n);\n","import {GameElement} from '../../engine';\nimport type {GameElementParams} from '../../engine';\nimport type {Bullet} from '../bullet';\n\nimport {PLAYER_IMAGE, PLAYER_SIZE, PLAYER_SPEED} from './constants';\n\nexport class Player extends GameElement {\n    image = PLAYER_IMAGE;\n\n    constructor(params: GameElementParams = {}) {\n        super({...params, size: PLAYER_SIZE});\n\n        this.tags.add('player');\n    }\n\n    goLeft(): void {\n        const speedX = -PLAYER_SPEED;\n        this.setSpeed({speedX});\n    }\n\n    goRight(): void {\n        const speedX = PLAYER_SPEED;\n        this.setSpeed({speedX});\n    }\n\n    stop(): void {\n        this.setSpeed({speedX: 0});\n    }\n\n    moveLeft(): void {\n        const x = this.x - PLAYER_SPEED;\n        this.setPosition({x});\n    }\n\n    moveRight(): void {\n        const x = this.x + PLAYER_SPEED;\n        this.setPosition({x});\n    }\n\n    fire(bullet: Bullet): Bullet {\n        const {width, height} = bullet;\n\n        bullet.setPosition({\n            x: this.centerX - width / 2,\n            y: this.y - height,\n        });\n\n        return bullet;\n    }\n}\n","import {getCenterCoordinate} from '~/utils/getCenterCoordinate';\n\nimport {Player} from '../../../elements/player';\nimport type {Game} from '../../../engine';\n\nconst addGameFieldCollision = (player: Player): void => {\n    player.addOnCollision('border_left', () => player.moveRight());\n    player.addOnCollision('border_right', () => player.moveLeft());\n};\n\nexport const makePlayer = (game: Game): Player => {\n    const player = new Player();\n    const position = {\n        x: getCenterCoordinate(game.width, player.width),\n        y: game.height - 90,\n    };\n    player.setPosition(position);\n\n    addGameFieldCollision(player);\n\n    return player;\n};\n","import type {Style} from '../../engine';\nimport {GAME_FONT_NAME} from '../../game/constants';\n\nexport const SCORE_STYLE: Partial<Style> = {\n    color: 'white',\n    fontSize: 20,\n    textAlign: 'left',\n    fontFamily: GAME_FONT_NAME,\n    fitText: false,\n};\n","import type {GameElementParams} from '../../engine';\nimport {GameElement} from '../../engine';\n\nimport {SCORE_STYLE} from './constants';\n\nexport class Score extends GameElement {\n    value = 0;\n\n    constructor(params: GameElementParams = {}) {\n        super({\n            ...params,\n            style: SCORE_STYLE,\n        });\n\n        this.tags.add('score');\n        this.updateText();\n    }\n\n    updateText(): void {\n        this.text = `score: ${this.value}`;\n    }\n\n    increase(value: number): void {\n        this.value += value;\n        this.updateText();\n    }\n\n    decrease(value: number): void {\n        let next = this.value - value;\n        if (next < 0) {next = 0}\n\n        this.value = next;\n        this.updateText();\n    }\n}\n","import {Score} from '../../../elements/score';\n\nexport const makeScore = (): Score => {\n    const position = {x: 10, y: 20};\n\n    return new Score({position});\n};\n","import type {Size, Style, Speed} from '../../engine';\n\nexport const BULLET_SIZE: Size = {\n    width: 4,\n    height: 10,\n};\n\nexport const BULLET_STYLE: Partial<Style> = {\n    backgroundColor: 'yellow',\n    borderWidth: 0,\n};\n\nexport const BULLET_SPEED: Speed = {\n    speedX: 0,\n    speedY: -5,\n};\n","import type {GameElementParams} from '../../engine';\nimport {GameElement} from '../../engine';\n\nimport {\n    BULLET_SIZE,\n    BULLET_SPEED,\n    BULLET_STYLE,\n} from './constants';\n\nexport class Bullet extends GameElement {\n    constructor(params: GameElementParams = {}) {\n        super({\n            ...params,\n            size: BULLET_SIZE,\n            speed: BULLET_SPEED,\n            style: BULLET_STYLE,\n        });\n\n        this.tags.add('bullet');\n    }\n}\n","import {Bullet} from '../../../elements/bullet';\nimport type {Score} from '../../../elements/score';\nimport type {Game} from '../../../engine';\n\nconst addGameFieldCollision = (bullet: Bullet, game: Game): void => {\n    const callback = () => {\n        const score = game.getElement<Score>('score')!;\n        score.decrease(10);\n\n        game.deleteElement(bullet);\n    };\n\n    bullet.addOnCollision('border_top', callback);\n};\n\nexport const makeBullet = (game: Game): Bullet => {\n    const bullet = new Bullet();\n\n    addGameFieldCollision(bullet, game);\n\n    return bullet;\n};\n","import type {Invader} from '../../../elements/invader';\nimport type {Score} from '../../../elements/score';\nimport type {Game, Rect} from '../../../engine';\nimport {GameElement} from '../../../engine';\n\nconst addInvadersCollision = (border: GameElement, game: Game): void => {\n    const callback = () => {\n        const invaders = game.getElements<Invader>('invader');\n        invaders.forEach(value => {\n            value.toggleDirection();\n            value.shiftY();\n        });\n\n        const score = game.getElement<Score>('score')!;\n        score.decrease(1);\n    };\n\n    border.addOnCollision('invader', callback);\n};\n\nconst makeBorder = ([x, y, width, height]: Rect): GameElement => {\n    const position = {x, y};\n    const size = {width, height};\n\n    const border = new GameElement({position, size});\n    border.tags.add('border');\n\n    return border;\n};\n\nconst makeLeftBorder = (game: Game): GameElement => {\n    const border = makeBorder([0, 0, 0, game.height]);\n    border.tags.add('border_left');\n    addInvadersCollision(border, game);\n\n    return border;\n};\n\nconst makeRightBorder = (game: Game): GameElement => {\n    const border = makeBorder([game.width, 0, 0, game.height]);\n    border.tags.add('border_right');\n    addInvadersCollision(border, game);\n\n    return border;\n};\n\nconst makeTopBorder = (game: Game): GameElement => {\n    const border = makeBorder([0, 0, game.width, 0]);\n    border.tags.add('border_top');\n\n    return border;\n};\n\nconst makeBottomBorder = (game: Game): GameElement => {\n    const border = makeBorder([0, game.height, game.width, 0]);\n    border.tags.add('border_bottom');\n\n    return border;\n};\n\nexport const makeBorders = (game: Game): GameElement[] => {\n    return [\n        makeLeftBorder(game),\n        makeRightBorder(game),\n        makeTopBorder(game),\n        makeBottomBorder(game),\n    ];\n};\n","import {KEYBOARD_KEY} from '~/constants/keyboard';\n\nimport type {Game} from '../../engine';\n\nimport {makeControls} from './controls';\nimport {makeInvaders} from './invaders';\nimport {makePlayer} from './player';\nimport {makeScore} from './score';\nimport {makeBullet} from './bullet';\nimport {makeBorders} from './borders';\n\nexport const runScene = (game: Game): void => {\n    const borders = makeBorders(game);\n    const invaders = makeInvaders(game);\n    const player = makePlayer(game);\n    const controls = makeControls(game);\n    const score = makeScore();\n\n    game.addElements(borders);\n    game.addElements(invaders);\n    game.addElements(player);\n    game.addElements(controls);\n    game.addElements(score);\n\n    game.onKeyDown(KEYBOARD_KEY.ARROW_LEFT, () => {\n        player.goLeft();\n    });\n    game.onKeyUp(KEYBOARD_KEY.ARROW_LEFT, () => {\n        player.stop();\n    });\n\n    game.onKeyDown(KEYBOARD_KEY.ARROW_RIGHT, () => {\n        player.goRight();\n    });\n    game.onKeyUp(KEYBOARD_KEY.ARROW_RIGHT, () => {\n        player.stop();\n    });\n\n    game.onKeyDown(KEYBOARD_KEY.SPACE, () => {\n        const current = game.getElement('bullet');\n        if (current) return;\n\n        const bullet = makeBullet(game);\n        player.fire(bullet);\n        game.addElements(bullet);\n    });\n};\n","import {Invader} from '../../../elements/invader';\nimport {INVADERS_CONFIG} from '../../../elements/invader/constants';\nimport {GameElement} from '../../../engine';\nimport type {Game} from '../../../engine';\nimport type {Score} from '../../../elements/score';\nimport {GAME_SCENE} from '../../constants';\n\nimport {INVADERS_GAP, INVADERS_MAX_WIDTH, ROWS_CONFIG} from './constants';\n\nconst generateInvaders = (): Invader[] => {\n    let y = 50;\n\n    return ROWS_CONFIG.flatMap(({type, count}) => {\n        // Parameters of the invader type in the row.\n        const {width, height} = INVADERS_CONFIG[type];\n        // Difference between largest and current invader type.\n        const offset = (INVADERS_MAX_WIDTH - width) / 2;\n        // Real distance between two invaders in the row.\n        const gap = offset + INVADERS_GAP + offset;\n\n        let x = 1 + offset;\n\n        const result = Array.from({length: count}).map(() => {\n            const position = {x, y};\n            const invader = new Invader({type, position});\n            // Shift next invader.\n            x += width + gap;\n\n            return invader;\n        });\n\n        y += height + INVADERS_GAP;\n\n        return result;\n    });\n};\n\nconst addFatalCollision = (invader: Invader, game: Game): void => {\n    const callback = () => {\n        game.clear();\n        game.applyScene(GAME_SCENE.END, {score: 0});\n    };\n\n    const deadLine = new GameElement({\n        position: {x: 0, y: game.height - 90},\n        size: {width: game.width, height: 0},\n    });\n\n    invader.addOnCollision(deadLine, callback);\n};\n\nconst addBulletCollision = (invader: Invader, game: Game): void => {\n    const callback = () => {\n        game.deleteElement(invader);\n        game.deleteElement('bullet');\n\n        const score = game.getElement<Score>('score')!;\n        score.increase(10);\n\n        const invaders = game.getElements<Invader>('invader');\n        if (invaders.length) {\n            invaders.forEach(value => value.speedUp());\n        } else {\n            game.clear();\n            game.applyScene(GAME_SCENE.END, {score: score.value});\n        }\n    };\n\n    invader.addOnCollision('bullet', callback);\n};\n\nexport const makeInvaders = (game: Game): Invader[] => {\n    const invaders = generateInvaders();\n    invaders.forEach(invader => {\n        addFatalCollision(invader, game);\n        addBulletCollision(invader, game);\n    });\n\n    return invaders;\n};\n","import {Button} from '../../../elements/button';\nimport type {Game} from '../../../engine';\n\nimport {BUTTONS_GAP, BUTTON_STYLE, getButtonsConfig} from './constants';\n\nexport const makeControls = (game: Game): Button[] => {\n    const buttonsConfig = getButtonsConfig(game.canvas);\n    const gap = BUTTONS_GAP;\n    const gapsCount = buttonsConfig.length + 1;\n\n    const width = (game.width - gap * gapsCount) / 3;\n    const height = 50;\n    const size = {width, height};\n\n    const y = game.height - height - gap;\n\n    return buttonsConfig.map(({text, onButtonDown, onButtonUp}, index) => {\n        const x = gap + index * (width + gap);\n        const position = {x, y};\n\n        return new Button({\n            text,\n            onButtonDown,\n            onButtonUp,\n            canvas: game.canvas,\n            size,\n            position,\n            style: BUTTON_STYLE,\n        });\n    });\n};\n","import {Game} from '../engine';\n\nimport {GAME_SCENE} from './constants';\nimport {endScene} from './end';\nimport {initScene} from './init';\nimport {pauseScene} from './pause';\nimport {runScene} from './run';\n\nexport class SpaceInvaders extends Game {\n    constructor(canvas: HTMLCanvasElement) {\n        super(canvas);\n\n        this.addScene(GAME_SCENE.INIT, initScene);\n        this.addScene(GAME_SCENE.RUN, runScene);\n        this.addScene(GAME_SCENE.PAUSE, pauseScene);\n        this.addScene(GAME_SCENE.END, endScene);\n    }\n\n    start(): void {\n        super.start(GAME_SCENE.INIT);\n    }\n\n    pause() {\n        if (this.scene === GAME_SCENE.RUN) {\n            this.applyScene(GAME_SCENE.PAUSE);\n        }\n    }\n}\n","import type {MutableRefObject} from 'react';\nimport {useCallback, useEffect, useRef} from 'react';\n\nimport {useClickOutside} from '~/utils/useClickOutside';\n\nimport css from './style.m.css';\nimport {SpaceInvaders} from './game';\n\nconst Content = () => {\n    const root = useRef<HTMLDivElement>(null);\n    const canvas = useRef<HTMLCanvasElement>(null);\n    const game = useRef() as MutableRefObject<SpaceInvaders>;\n\n    useEffect(() => {\n        if (!canvas.current) return;\n\n        game.current = new SpaceInvaders(canvas.current);\n        game.current.start();\n\n        return () => {\n            game.current.destroy();\n        };\n    }, []);\n\n    const pause = useCallback(() => game.current.pause(), []);\n    useClickOutside(root, pause);\n\n    // Capture focus\n    const onClick = () => {\n        canvas.current?.focus();\n    };\n\n    return (\n        <div\n            className={css.root}\n            ref={root}\n            onClick={onClick}\n        >\n            <canvas\n                ref={canvas}\n                width={400}\n                height={700}\n                className={css.canvas}\n            />\n        </div>\n    );\n};\n\nexport default Content;\n"],"names":["___CSS_LOADER_URL_IMPORT_0___","URL","___CSS_LOADER_EXPORT___","___CSS_LOADER_URL_REPLACEMENT_0___","push","module","id","locals","exports","url","options","String","__esModule","default","test","slice","hash","needQuotes","concat","replace","srcSet","images","path","width","height","src","toString","placeholder","styleTagTransform","setAttributes","insert","domAPI","insertStyleElement","undefined","isDefined","value","invoke","cb","DEFAULT_STYLE","backgroundColor","borderColor","borderWidth","color","fontFamily","fontSize","fontWeight","textAlign","textBaseline","fitText","GameElement","x","this","_x","y","_y","_width","_height","speedX","_speedX","speedY","_speedY","tags","_tags","constructor","position","size","speed","style","Set","image","collisions","Map","destructors","setPosition","setSize","setSpeed","setStyle","centerX","centerY","rect","bounds","top","bottom","left","right","Object","assign","collides","element","a","b","Math","max","min","move","drawRect","context","fillStyle","fillRect","drawBorders","strokeStyle","lineWidth","strokeRect","drawText","text","font","fillText","drawImage","draw","addOnCollision","callback","array","get","set","removeOnCollision","result","filter","val","checkCollisions","game","forEach","callbacks","target","elements","some","checkCollision","getElements","addOnDestroy","add","removeOnDestroy","delete","destroy","Game","canvas","_canvas","_context","scenes","scene","rafId","lastFrameTime","performance","now","unsibscribes","tabIndex","focus","getContext","addScene","name","applyScene","args","Error","deleteScene","addElements","flat","getElement","tag","Array","from","find","has","deleteElement","deleteElements","start","run","bind","currentFrameTime","tick","requestAnimationFrame","clearRect","stop","cancelAnimationFrame","onKeyDown","key","unsubscribe","onKeyUp","handler","onKeyEvent","clearEventListeners","clear","GAME_FONT_NAME","FontFace","load","then","document","fonts","catch","GAME_SCENE","getEventHandler","event","preventDefault","getBoundingClientRect","offsetX","offsetY","touch","changedTouches","clientX","clientY","initialWidth","initialHeight","getEventCoords","Button","onButtonDown","onButtonUp","super","garbage","downHandler","unmounts","map","addEventListener","removeEventListener","upHandler","endScene","score","title","makeTitle","subtitle","makeSubtitle","button","getCenterCoordinate","KeyboardEvent","dispatchEvent","makeButton","setTimeout","once","logoElement","Image","initScene","padding","scale","makeImage","texts","index","makeTexts","pauseScene","BUTTON_STYLE","makeSvgImage","img","encodeURIComponent","INVADER_SPEED","INVADER_STYLE","INVADER_TYPE","SPRITES","entries","invaderTop1","invaderTop2","invaderMid1","invaderMid2","invaderBot1","invaderBot2","reduce","acc","INVADERS_CONFIG","sprites","Invader","type","rest","spriteIndex","iid","setInterval","toggleImage","clearInterval","toggleDirection","speedUp","sign","abs","shiftY","ROWS_CONFIG","count","INVADERS_MAX_WIDTH","values","PLAYER_SIZE","PLAYER_IMAGE","Player","params","goLeft","goRight","moveLeft","moveRight","fire","bullet","SCORE_STYLE","Score","updateText","increase","decrease","next","BULLET_SIZE","BULLET_STYLE","BULLET_SPEED","Bullet","addInvadersCollision","border","makeBorder","makeLeftBorder","makeRightBorder","makeTopBorder","makeBottomBorder","runScene","borders","makeBorders","invaders","flatMap","offset","gap","length","invader","generateInvaders","deadLine","addFatalCollision","addBulletCollision","makeInvaders","player","addGameFieldCollision","makePlayer","controls","buttonsConfig","gapsCount","makeControls","makeBullet","SpaceInvaders","pause","root","useRef","useEffect","current","useCallback","useClickOutside","className","ref","onClick"],"sourceRoot":""}