(self.webpackChunkportfolio=self.webpackChunkportfolio||[]).push([[651],{9386:(t,e,s)=>{"use strict";s.d(e,{Z:()=>m});var h=s(7537),n=s.n(h),i=s(3645),o=s.n(i),r=s(1667),a=s.n(r),v=new URL(s(5114),s.b),c=o()(n()),l=a()(v);c.push([t.id,"@font-face {\n    font-family: 'SpaceInvaders';\n    src: url("+l+") format('woff');\n    font-style: normal;\n}\n\n.spaceInvaders_root_lNtkt {\n    height: 100%;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    background-color: black;\n    background-size: 150px;\n}\n\n.spaceInvaders_canvas_JNvly {\n    max-height: 100%;\n    max-width: 100%;\n    outline: 1px solid black;\n}\n","",{version:3,sources:["webpack://./src/page/applications/spaceInvaders/style.m.css"],names:[],mappings:"AAAA;IACI,4BAA4B;IAC5B,2DAAqD;IACrD,kBAAkB;AACtB;;AAEA;IACI,YAAY;IACZ,aAAa;IACb,uBAAuB;IACvB,mBAAmB;IACnB,uBAAuB;IACvB,sBAAsB;AAC1B;;AAEA;IACI,gBAAgB;IAChB,eAAe;IACf,wBAAwB;AAC5B",sourcesContent:["@font-face {\n    font-family: 'SpaceInvaders';\n    src: url(./assets/space-invaders.woff) format('woff');\n    font-style: normal;\n}\n\n.root {\n    height: 100%;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    background-color: black;\n    background-size: 150px;\n}\n\n.canvas {\n    max-height: 100%;\n    max-width: 100%;\n    outline: 1px solid black;\n}\n"],sourceRoot:""}]),c.locals={root:"spaceInvaders_root_lNtkt",canvas:"spaceInvaders_canvas_JNvly"};const m=c},1667:t=>{"use strict";t.exports=function(t,e){return e||(e={}),t?(t=String(t.__esModule?t.default:t),/^['"].*['"]$/.test(t)&&(t=t.slice(1,-1)),e.hash&&(t+=e.hash),/["'() \t\n]|(%20)/.test(t)||e.needQuotes?'"'.concat(t.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):t):t}},3673:(t,e,s)=>{t.exports={srcSet:s.p+"6b062cc9ca4233c1-1136.webp 1136w",images:[{path:s.p+"6b062cc9ca4233c1-1136.webp",width:1136,height:474}],src:s.p+"6b062cc9ca4233c1-1136.webp",toString:function(){return s.p+"6b062cc9ca4233c1-1136.webp"},placeholder:"data:image/webp;base64,UklGRk4FAABXRUJQVlA4WAoAAAAQAAAAJwAAEAAAQUxQSCICAAABkChJsmlbc/Bs27Zt27Zt27Zt+977bNu2fW2cc/Zaqx7/ISImQMQu2QOMmS2rieFJTilPRCGRUr5Gt5CqSrm45hCbiIhDpqAMg+6iNbelHUyWtG/w8EZGYhllKoldRGyS8CVac+UV2vAj/iS4IPnDMZhc21BG01wcIuKQ5mg0XsdQBp3LCwJT5IwxbxStHkPE3u0ZxCYidinixhi+H8EYTJNXWFQpSuhGrUYGQXROscs/beKFMkReBM2P3vj5MqYa77242A9taC7O/yW7gzZ8DEZxdzpeZ/BuzevrHF2EhSuv2P+yx3LYY11HKZZdIvxR7e2ERvJ2FBHR3DiHhX8KsTudTptNbLFkDpahzDJuidygc1d8h2EUC9ZjQWlxioit1MwKuUcXmwi+bXrxKXcS/9CUiX56Kl+Ksb602koIjJS4TUYMzXCZ91f5Mt6NYmoPOtbCKhv/K36uvntwc/IKiiarcDPUV1vGowHNzyNUHgErEwdgMfAoblwKzeUAYjg6EbdCWwa0gjy74V1R/x/Xmf8ODl1BaS76o/mW+jPaEBOKx6X4luvlh28MDTg9nxXB0HYHFlEHw+FLTRmFxxitCPW2uJmP2x+5+PPSdpahmPUef07cI5j3sSX5OwJDCcJV5iRb67F1N69++H6IHIviyAfPKSZsIoKp4pBeZsbs4EaXnkqpiIE9XbmyBJy6EPKzTTm/z6FDLxzZGpypRdDHfiJWUDggBgMAAJARAJ0BKigAEQA+UR6NRKOhoRgNVAA4BQS2AFiPf/tHzD8T+aJ2JbDO4BqNsB4gH6we73zs3WAfwD1AP2A9KL9u/g8/ZP0paVK9k/FLKZsCf9jxobuYNUz7YHmy/yXomf6Xk7+Sf+V/XvgI/kv9K/1HA0/syJ2HzwanjoYPs63fPM6KryLVRPwDrG9JxZ2mZi/o8h0AAP3jvuVTW4YdLPOn74ApUVrSJs+5F/flt8kmFfx7ObmywwYH5SH58VUH1QsNAVFDpMy3zFDxuvBO7W4uH/5a7GbxAZq8fg3v+sGyx6SrPo/Z8tSDBSPGbyWUG5e4xdlkikby/JdFJLxwEkR36QHc37rgdGJCfsmfCuT8tBv5F13Y7KfultFAo62WwBHIYxw8qzMZ0pB5v2/Hb/9eGuPbpTC8IEXpo/Yt8rXD2Dg94D2KUIoG88sLwlecZDX/47SVLZQkb+CLqpMPdGRKL0KcROA7lf+ufDvzES78o08ezbK8v8X+FW3OcL/+u26mBbdRVPXQ5XoHmLScAYeGCGqv6UT3o7N6L5wPEh/em8jRCZwxuV7zwpP23SjfIFDKwakI05/uYgSHndoHKosZoYa+5+V/FGOiEqrT+GXtC7eEN/GO6+cJuPAsaHiYIC1n2nd+z8rWGCyxfLAzolVxbn97MB/4tbZ0XU0P0pEJ+GOLE3NFlfplmrMiQJ/Rmf3bG8uOOmtZTuVMuDlSOBhm+HeEJM+x6EOvbMsD+YkVTEMxffiIDzrdDXMQLzM/+SfwIxlcvNQ774gzuBJLSR8CwcFvLkhxcpiW+xJ/Vf+fNDzG8lQLUo2VbWbTD/J0pI5qTnMzX0dpJ7B/xrzL0WX1rSZuHNl7b2FoUAXUpT9Om+m/RSBMDJurAuPkMdhfZse4Yn/ugGs//Amv6O9fuAfzoD6EulkDpYWmvx8wrHiMRkryRYrio3SXaviVO0EFkQDe+q6vIGSk5spo7rAHYoE1zMKHxGxfInkDIiIVwM/l7F9sonwYc2gx+sonwdXaf13O7BFgAA==",width:1136,height:474}},594:(t,e,s)=>{"use strict";s.r(e),s.d(e,{default:()=>wt});var h=s(5893),n=s(7294),i=s(1558),o=s(3379),r=s.n(o),a=s(7795),v=s.n(a),c=s(569),l=s.n(c),m=s(3565),d=s.n(m),Z=s(9216),V=s.n(Z),H=s(4589),p=s.n(H),g=s(9386),u={};u.styleTagTransform=p(),u.setAttributes=d(),u.insert=l().bind(null,"head"),u.domAPI=v(),u.insertStyleElement=V(),r()(g.Z,u);const w=g.Z&&g.Z.locals?g.Z.locals:void 0,f=t=>void 0!==t,y=t=>{t()};var b=s(1991),x=s(6030);const A={backgroundColor:"transparent",borderColor:"transparent",borderWidth:0,color:"black",fontFamily:"serif",fontSize:14,fontWeight:1,textAlign:"center",textBaseline:"middle",fitText:!0};class E{get x(){return this._x}get y(){return this._y}get width(){return this._width}get height(){return this._height}get speedX(){return this._speedX}get speedY(){return this._speedY}get tags(){return this._tags}constructor({position:t,size:e,speed:s,style:h}={}){this._x=0,this._y=0,this._width=0,this._height=0,this._speedX=0,this._speedY=0,this._tags=new Set,this.style=Object.assign({},A),this.image=null,this.collisions=new Map,this.destructors=new Set,t&&this.setPosition(t),e&&this.setSize(e),s&&this.setSpeed(s),h&&this.setStyle(h)}get centerX(){return this.x+this.width/2}get centerY(){return this.y+this.height/2}get rect(){return[this.x,this.y,this.width,this.height]}get bounds(){const{x:t,y:e,width:s,height:h}=this;return{top:e,bottom:e+h,left:t,right:t+s}}setPosition({x:t,y:e}){f(t)&&(this._x=t),f(e)&&(this._y=e)}setSize({width:t,height:e}){f(t)&&(this._width=t),f(e)&&(this._height=e)}setSpeed({speedX:t,speedY:e}){f(t)&&(this._speedX=t),f(e)&&(this._speedY=e)}setStyle(t){Object.assign(this.style,t)}collides(t){const e=this.bounds,s=t.bounds,h=Math.max(e.top,s.top),n=Math.min(e.bottom,s.bottom),i=Math.max(e.left,s.left),o=Math.min(e.right,s.right);return h<=n&&i<=o}move(){this._x+=this._speedX,this._y+=this._speedY}drawRect(t){t.fillStyle=this.style.backgroundColor,t.fillRect(...this.rect)}drawBorders(t){t.strokeStyle=this.style.borderColor,t.lineWidth=this.style.borderWidth,t.strokeRect(...this.rect)}drawText(t,e){t.fillStyle=this.style.color,t.lineWidth=this.style.fontWeight,t.font=`${this.style.fontSize}px ${this.style.fontFamily}`,t.textAlign=this.style.textAlign,t.textBaseline=this.style.textBaseline,t.fillText(e,this.centerX,this.centerY,this.style.fitText?this.width:void 0)}drawImage(t,e){t.drawImage(e,...this.rect)}draw(t){this.drawRect(t),this.drawBorders(t),this.image&&this.drawImage(t,this.image),this.text&&this.drawText(t,this.text)}addOnCollision(t,e){var s;const h=null!==(s=this.collisions.get(t))&&void 0!==s?s:[];return h.push(e),this.collisions.set(t,h),()=>this.removeOnCollision(t,e)}removeOnCollision(t,e){var s;const h=(null!==(s=this.collisions.get(t))&&void 0!==s?s:[]).filter((t=>t!==e));this.collisions.set(t,h)}checkCollisions(t){this.collisions.forEach(((e,s)=>{((t,e,s)=>{e.some((e=>e.collides(t)))&&s.forEach(y)})(this,s instanceof E?[s]:t.getElements(s),e)}))}addOnDestroy(t){return this.destructors.add(t),()=>this.removeOnDestroy(t)}removeOnDestroy(t){this.destructors.delete(t)}destroy(){this.destructors.forEach((t=>t()))}}class M{get canvas(){return this._canvas}get context(){return this._context}constructor(t){this.scenes=new Map,this.scene=null,this.elements=new Set,this.rafId=0,this.lastFrameTime=performance.now(),this.unsibscribes=new Set,t.tabIndex=1,t.focus(),this._canvas=t,this._context=t.getContext("2d")}get width(){return this.canvas.width}get height(){return this.canvas.height}addScene(t,e){this.scenes.set(t,e)}applyScene(t,e){const s=this.scenes.get(t);if(!s)throw new Error(`Game has no scene "${t}". Make sure to add it with "makeScene".`);this.scene=t,s(this,e)}deleteScene(t){this.scenes.delete(t)}addElements(t){[t].flat().forEach((t=>{this.elements.add(t)}))}getElement(t){return Array.from(this.elements).find((e=>e.tags.has(t)))}getElements(t){return Array.from(this.elements).filter((e=>e.tags.has(t)))}deleteElement(t){const e=t instanceof E?t:this.getElement(t);e&&(this.elements.delete(e),e.destroy())}deleteElements(t){(f(t)?this.getElements(t):this.elements).forEach((t=>{t.destroy(),this.elements.delete(t)}))}start(t){this.applyScene(t),this.run()}run(){const t=this.run.bind(this),e=performance.now();e-this.lastFrameTime>=16&&(this.tick(),this.lastFrameTime=e),this.rafId=requestAnimationFrame(t)}tick(){this.context.clearRect(0,0,this.width,this.height),this.elements.forEach((t=>t.draw(this.context))),this.elements.forEach((t=>t.move())),this.elements.forEach((t=>t.checkCollisions(this)))}stop(){cancelAnimationFrame(this.rafId)}onKeyDown(t,e,s){const h=(0,b.f)(t,e,Object.assign(Object.assign({},s),{target:this.canvas}));return this.unsibscribes.add(h),()=>{h(),this.unsibscribes.delete(h)}}onKeyUp(t,e,s){const h=((t,e,s)=>(0,x.M)("keyup",t,e,s))(t,e,Object.assign(Object.assign({},s),{target:this.canvas}));return this.unsibscribes.add(h),()=>{h(),this.unsibscribes.delete(h)}}clearEventListeners(){this.unsibscribes.forEach(y),this.unsibscribes.clear()}clear(){this.deleteElements(),this.clearEventListeners()}destroy(){this.stop(),this.deleteElements(),this.clearEventListeners()}}var S=s(5114);const O="SpaceInvaders";new FontFace(O,`url(${S})`).load().then((t=>(document.fonts.add(t),t))).catch((()=>null));const D="init_scene",B="run_scene",C="end_scene",I="pause_scene";var k=s(2501),R=s(4924);const Y=(t,e)=>s=>{s.preventDefault();const{x:h,y:n}=(t=>{const e=t.target,s=e.getBoundingClientRect();let h,n;if("offsetX"in t&&"offsetY"in t)h=t.offsetX,n=t.offsetY;else{const e=t.changedTouches[0];h=e.clientX-s.x,n=e.clientY-s.y}const i=e.width,o=e.height;return{x:h/(s.width/i),y:n/(s.height/o)}})(s);h>t.left&&h<t.right&&n>t.top&&n<t.bottom&&(null==e||e())};const _={backgroundColor:"black",borderColor:"white",borderWidth:2,fontFamily:O,color:"white"};class z extends E{constructor(t){var{canvas:e,style:s,text:h,onButtonDown:n,onButtonUp:i}=t;super(function(t,e){var s={};for(var h in t)Object.prototype.hasOwnProperty.call(t,h)&&e.indexOf(h)<0&&(s[h]=t[h]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(h=Object.getOwnPropertySymbols(t);n<h.length;n++)e.indexOf(h[n])<0&&Object.prototype.propertyIsEnumerable.call(t,h[n])&&(s[h[n]]=t[h[n]])}return s}(t,["canvas","style","text","onButtonDown","onButtonUp"])),this.text=h,this.setStyle(Object.assign(Object.assign({},_),s));const o=[];if(n){const t=Y(this.bounds,n),s=["touchstart","mousedown"].map((s=>(e.addEventListener(s,t),()=>e.removeEventListener(s,t))));o.push(...s)}if(i){const t=Y(this.bounds,i),s=["touchend","mouseup"].map((s=>(e.addEventListener(s,t),()=>e.removeEventListener(s,t))));o.push(...s)}this.addOnDestroy((()=>{o.forEach(y)}))}}const X=(t,{score:e})=>{const s=((t,e)=>{const s={x:t.width/2,y:t.height/4},h=new E({position:s,style:{fontSize:40,color:"white",fontFamily:O,fitText:!1}});return h.text=e>0?"Victory":"Game Over",h})(t,e),h=((t,e)=>{const s={x:t.width/2,y:t.height/3},h=new E({position:s,style:{fontSize:20,color:"white",fontFamily:O,fitText:!1}});return h.text=`score: ${e}`,h})(t,e),n=(t=>{const e={width:150,height:60},s={x:(0,R.R)(t.width,e.width),y:t.height*(3/4)-e.height};return new z({canvas:t.canvas,size:e,position:s,text:"Restart",style:{fontSize:30},onButtonDown:()=>{const e=new KeyboardEvent("keydown",{key:k.Y.SPACE});t.canvas.dispatchEvent(e)}})})(t);t.addElements(s),t.addElements(h),t.addElements(n),setTimeout((()=>{t.onKeyDown(k.Y.SPACE,(()=>{t.clear(),t.applyScene(D)}),{once:!0})}),300)};var T=s(3673),P=s.n(T);const F=new Image;F.src=P().src;const K=t=>{const e=(t=>{const e=t.width-40,s=P().width/e,h={width:e,height:P().height/s},n=t.height/5,i=new E({size:h,position:{x:20,y:n}});return i.image=F,i})(t),s=(t=>{const e={height:30};return["«Left» - Move left","«Right» - Move right","«Space» - Fire"].map(((s,h)=>{const n=t.height/2+e.height*h,i=new E({size:e,position:{x:80,y:n},style:{color:"white",fontSize:24,textAlign:"left",fitText:!1,fontFamily:O}});return i.text=s,i}))})(t),h=(t=>{const e={height:60,width:120},s={x:(0,R.R)(t.width,e.width),y:t.height*(3/4)-e.height};return new z({canvas:t.canvas,size:e,position:s,text:"Start",style:{borderColor:"red",color:"yellow",fontSize:30},onButtonDown:()=>{const e=new KeyboardEvent("keydown",{key:k.Y.SPACE});t.canvas.dispatchEvent(e)}})})(t);t.addElements(e),t.addElements(s),t.addElements(h),setTimeout((()=>{t.onKeyDown(k.Y.SPACE,(()=>{t.clear(),t.applyScene(B)}),{once:!0})}),300)},j=t=>{const e=(t=>{const e={height:60,width:170},s={x:(0,R.R)(t.width,e.width),y:(0,R.R)(t.height,e.height)},h=new z({canvas:t.canvas,size:e,position:s,text:"Continue",style:{fontSize:30},onButtonDown:()=>{t.scene=B,t.deleteElements("pause"),t.run()}});return h.tags.add("pause"),h})(t);t.addElements(e),e.draw(t.context),t.stop()},L={fontSize:20,color:"white"},U=t=>{const e=new Image;return e.src=`data:image/svg+xml;charset=utf-8,${encodeURIComponent(t)}`,e},G={speedX:.5,speedY:0},W={backgroundColor:"transparent",borderColor:"transparent",borderWidth:0},J="top",N="mid",Q="bot",q=Object.entries({invaderTop1:'<svg xmlns="http://www.w3.org/2000/svg" width="80" height="80" fill="white"><path fill="#D9D9D9" d="M30 0h10v10H30V0ZM0 70h10v10H0V70Zm10-10h10v10H10V60Zm10 10h10v10H20V70Zm30 0h10v10H50V70Zm20 0h10v10H70V70ZM60 60h10v10H60V60Zm-20 0h10v10H40V60Zm-10 0h10v10H30V60Zm20-10h10v10H50V50Zm-30 0h10v10H20V50Zm50-10h10v10H70V40Zm0-10h10v10H70V30ZM60 40h10v10H60V40Zm0-10h10v10H60V30ZM50 40h10v10H50V40Zm-10 0h10v10H40V40Zm0-10h10v10H40V30ZM30 40h10v10H30V40Zm0-10h10v10H30V30ZM20 40h10v10H20V40Zm-10 0h10v10H10V40ZM0 40h10v10H0V40Zm0-10h10v10H0V30Zm10 0h10v10H10V30Zm50-10h10v10H60V20Zm-10 0h10v10H50V20Zm-10 0h10v10H40V20Zm-10 0h10v10H30V20Zm-20 0h10v10H10V20Zm10 0h10v10H20V20Zm30-10h10v10H50V10Zm-10 0h10v10H40V10Zm-20 0h10v10H20V10Zm10 0h10v10H30V10ZM40 0h10v10H40V0Z"/></svg>',invaderTop2:'<svg xmlns="http://www.w3.org/2000/svg" width="80" height="80" fill="white"><path fill="#D9D9D9" d="M30 0h10v10H30V0ZM10 20h10v10H10V20Zm0 10h10v10H10V30ZM0 30h10v10H0V30Zm0 10h10v10H0V40Zm10 0h10v10H10V40Zm0 10h10v10H10V50ZM0 60h10v10H0V60Zm10 10h10v10H10V70Zm10-30h10v10H20V40Zm10-10h10v10H30V30Zm0 10h10v10H30V40Zm0 10h10v10H30V50ZM20 20h10v10H20V20Zm10 0h10v10H30V20ZM20 10h10v10H20V10Zm10 0h10v10H30V10ZM50 0H40v10h10V0Zm20 20H60v10h10V20Zm0 10H60v10h10V30Zm10 0H70v10h10V30Zm0 10H70v10h10V40Zm-10 0H60v10h10V40Zm0 10H60v10h10V50Zm10 10H70v10h10V60ZM70 70H60v10h10V70ZM60 40H50v10h10V40ZM50 30H40v10h10V30Zm0 10H40v10h10V40Zm0 10H40v10h10V50Zm10-30H50v10h10V20Zm-10 0H40v10h10V20Zm10-10H50v10h10V10Zm-10 0H40v10h10V10Z"/></svg>',invaderMid1:'<svg xmlns="http://www.w3.org/2000/svg" width="110" height="80" fill="white"><path fill="#D9D9D9" d="M20 0h10v10H20V0Zm10 10h10v10H30V10Zm0 10h10v10H30V20Zm10 0h10v10H40V20Zm10 0h10v10H50V20ZM40 30h10v10H40V30Zm0 10h10v10H40V40Zm0 10h10v10H40V50Zm10-20h10v10H50V30Zm0 10h10v10H50V40Zm0 10h10v10H50V50Zm10-30h10v10H60V20Zm0 10h10v10H60V30Zm0 10h10v10H60V40Zm0 10h10v10H60V50Zm10 0h10v10H70V50Zm0-10h10v10H70V40Zm0-20h10v10H70V20Zm0-10h10v10H70V10ZM80 0h10v10H80V0Zm0 20h10v10H80V20Zm0 10h10v10H80V30Zm10 0h10v10H90V30Zm0 10h10v10H90V40Zm10 0h10v10h-10V40Zm0-10h10v10h-10V30Zm0-10h10v10h-10V20Zm0-10h10v10h-10V10ZM90 50h10v10H90V50ZM80 40h10v10H80V40Zm0 10h10v10H80V50Zm0 10h10v10H80V60Zm10 10h10v10H90V70ZM30 40h10v10H30V40Zm0 10h10v10H30V50ZM20 20h10v10H20V20Zm0 10h10v10H20V30Zm-10 0h10v10H10V30ZM0 30h10v10H0V30Zm0-10h10v10H0V20Zm0-10h10v10H0V10Zm0 30h10v10H0V40Zm10 0h10v10H10V40Zm0 10h10v10H10V50Zm10 0h10v10H20V50Zm0 10h10v10H20V60ZM10 70h10v10H10V70Zm10-30h10v10H20V40Z"/></svg>',invaderMid2:'<svg xmlns="http://www.w3.org/2000/svg" width="110" height="80" fill="white"><path fill="#D9D9D9" d="M80 10H70v10h10V10Zm0 10H70v10h10V20Zm10 0H80v10h10V20Zm0 10H80v10h10V30Zm10 0H90v10h10V30Zm0 10H90v10h10V40Zm10 0h-10v10h10V40Zm0 10h-10v10h10V50Zm0 10h-10v10h10V60ZM90 40H80v10h10V40Zm0 10H80v10h10V50Zm0 10H80v10h10V60ZM80 70H70v10h10V70Zm-10 0H60v10h10V70Zm10-30H70v10h10V40Zm0 10H70v10h10V50ZM70 20H60v10h10V20Zm0 10H60v10h10V30Zm0 10H60v10h10V40Zm0 10H60v10h10V50ZM60 20H50v10h10V20Zm0 10H50v10h10V30Zm0 10H50v10h10V40Zm0 10H50v10h10V50ZM90 0H80v10h10V0ZM30 10h10v10H30V10Zm0 10h10v10H30V20Zm-10 0h10v10H20V20Zm0 10h10v10H20V30Zm-10 0h10v10H10V30Zm0 10h10v10H10V40ZM0 40h10v10H0V40Zm0 10h10v10H0V50Zm0 10h10v10H0V60Zm20-20h10v10H20V40Zm0 10h10v10H20V50Zm0 10h10v10H20V60Zm10 10h10v10H30V70Zm10 0h10v10H40V70ZM30 40h10v10H30V40Zm0 10h10v10H30V50Zm10-30h10v10H40V20Zm0 10h10v10H40V30Zm0 10h10v10H40V40Zm0 10h10v10H40V50Z"/><path fill="#D9D9D9" d="M50 20h10v10H50V20Zm0 10h10v10H50V30Zm0 10h10v10H50V40Zm0 10h10v10H50V50ZM20 0h10v10H20V0Z"/></svg>',invaderBot1:'<svg xmlns="http://www.w3.org/2000/svg" width="120" height="80" fill="white"><path fill="#D9D9D9" d="M40 0h10v10H40V0Zm0 10h10v10H40V10Zm0 10h10v10H40V20ZM50 0h10v10H50V0Zm0 10h10v10H50V10Zm0 10h10v10H50V20Zm0 10h10v10H50V30Zm0 10h10v10H50V40Zm-10 0h10v10H40V40ZM30 10h10v10H30V10Zm0 10h10v10H30V20ZM20 10h10v10H20V10Zm-10 0h10v10H10V10Zm10 10h10v10H20V20Zm-10 0h10v10H10V20ZM0 20h10v10H0V20Zm0 10h10v10H0V30Zm10 0h10v10H10V30Zm10 0h10v10H20V30ZM0 40h10v10H0V40Zm10 0h10v10H10V40Zm10 0h10v10H20V40Zm10 0h10v10H30V40Zm10 10h10v10H40V50Zm-10 0h10v10H30V50Zm0 10h10v10H30V60Zm-10 0h10v10H20V60ZM10 70h10v10H10V70ZM0 70h10v10H0V70ZM80 0H70v10h10V0Zm0 10H70v10h10V10Zm0 10H70v10h10V20ZM70 0H60v10h10V0Zm0 10H60v10h10V10Zm0 10H60v10h10V20Zm0 10H60v10h10V30Zm0 10H60v10h10V40Zm10 0H70v10h10V40Zm10-30H80v10h10V10Zm0 10H80v10h10V20Zm10-10H90v10h10V10Zm10 0h-10v10h10V10Zm-10 10H90v10h10V20Zm10 0h-10v10h10V20Zm10 0h-10v10h10V20Zm0 10h-10v10h10V30Zm-10 0h-10v10h10V30Zm-10 0H90v10h10V30Zm20 10h-10v10h10V40Zm-10 0h-10v10h10V40Zm-10 0H90v10h10V40Zm-10 0H80v10h10V40ZM80 50H70v10h10V50Zm10 0H80v10h10V50Zm0 10H80v10h10V60Zm10 0H90v10h10V60Zm10 10h-10v10h10V70Zm10 0h-10v10h10V70Z"/></svg>',invaderBot2:'<svg xmlns="http://www.w3.org/2000/svg" width="120" height="80" fill="white"><path fill="#D9D9D9" d="M40 0h10v10H40V0Zm10 0h10v10H50V0Zm0 10h10v10H50V10Zm-10 0h10v10H40V10Zm-10 0h10v10H30V10Zm-10 0h10v10H20V10Zm-10 0h10v10H10V10Zm0 10h10v10H10V20ZM0 20h10v10H0V20Zm0 10h10v10H0V30Zm10 0h10v10H10V30ZM0 40h10v10H0V40Zm10 0h10v10H10V40Zm10-20h10v10H20V20Zm10 0h10v10H30V20Zm10 0h10v10H40V20Zm10 0h10v10H50V20Zm0 10h10v10H50V30Zm-30 0h10v10H20V30Zm0 10h10v10H20V40Zm10 0h10v10H30V40Zm10 0h10v10H40V40Zm10 0h10v10H50V40ZM40 50h10v10H40V50Zm-10 0h10v10H30V50Zm-10 0h10v10H20V50Zm0 10h10v10H20V60Zm-10 0h10v10H10V60Zm10 10h10v10H20V70Zm10 0h10v10H30V70ZM80 0H70v10h10V0ZM70 0H60v10h10V0Zm0 10H60v10h10V10Zm10 0H70v10h10V10Zm10 0H80v10h10V10Zm10 0H90v10h10V10Zm10 0h-10v10h10V10Zm0 10h-10v10h10V20Zm10 0h-10v10h10V20Zm0 10h-10v10h10V30Zm-10 0h-10v10h10V30Zm10 10h-10v10h10V40Zm-10 0h-10v10h10V40Zm-10-20H90v10h10V20Zm-10 0H80v10h10V20Zm-10 0H70v10h10V20Zm-10 0H60v10h10V20Zm0 10H60v10h10V30Zm30 0H90v10h10V30Zm0 10H90v10h10V40Zm-10 0H80v10h10V40Zm-10 0H70v10h10V40Zm-10 0H60v10h10V40Zm10 10H70v10h10V50Zm10 0H80v10h10V50Zm10 0H90v10h10V50Zm0 10H90v10h10V60Zm10 0h-10v10h10V60Zm-10 10H90v10h10V70Zm-10 0H80v10h10V70Z"/></svg>'}).reduce(((t,[e,s])=>(t[e]=U(s),t)),{}),$={[J]:{width:26,height:26,sprites:[q.invaderTop1,q.invaderTop2]},[N]:{width:36,height:26,sprites:[q.invaderMid1,q.invaderMid2]},[Q]:{width:40,height:26,sprites:[q.invaderBot1,q.invaderBot2]}};class tt extends E{constructor(t){var{type:e}=t,s=function(t,e){var s={};for(var h in t)Object.prototype.hasOwnProperty.call(t,h)&&e.indexOf(h)<0&&(s[h]=t[h]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(h=Object.getOwnPropertySymbols(t);n<h.length;n++)e.indexOf(h[n])<0&&Object.prototype.propertyIsEnumerable.call(t,h[n])&&(s[h[n]]=t[h[n]])}return s}(t,["type"]);const{width:h,height:n,sprites:i}=$[e],o={width:h,height:n};super(Object.assign(Object.assign({},s),{size:o,speed:G,style:W})),this.spriteIndex=0,this.sprites=i,this.image=i[this.spriteIndex],this.tags.add("invader");const r=setInterval((()=>this.toggleImage()),1e3);this.addOnDestroy((()=>{clearInterval(r)}))}toggleImage(){this.spriteIndex^=1,this.image=this.sprites[this.spriteIndex]}toggleDirection(){const t=-this.speedX;this.setSpeed({speedX:t})}speedUp(){const t=Math.sign(this.speedX)*(Math.abs(this.speedX)+.15);this.setSpeed({speedX:t})}shiftY(){const t=this.y+8;this.setPosition({y:t})}}const et=[{type:J,count:7},{type:J,count:7},{type:N,count:7},{type:N,count:7},{type:Q,count:7},{type:Q,count:7}],st=Math.max(...Object.values($).map((({width:t})=>t))),ht={width:40,height:20},nt=U('<svg xmlns="http://www.w3.org/2000/svg" width="100" height="53" fill="white"><path fill="#fff" d="M0 26.9818V53h100V26.9818h-7.8431v-7.7091h-32.353V7.70909h-6.8627V0h-5.8824v7.70909h-6.8627V19.2727H7.84314v7.7091H0Z"/></svg>');class it extends E{constructor(t={}){super(Object.assign(Object.assign({},t),{size:ht})),this.image=nt,this.tags.add("player")}goLeft(){this.setSpeed({speedX:-5})}goRight(){this.setSpeed({speedX:5})}stop(){this.setSpeed({speedX:0})}moveLeft(){const t=this.x-5;this.setPosition({x:t})}moveRight(){const t=this.x+5;this.setPosition({x:t})}fire(t){const{width:e,height:s}=t;return t.setPosition({x:this.centerX-e/2,y:this.y-s}),t}}const ot={color:"white",fontSize:20,textAlign:"left",fontFamily:O,fitText:!1};class rt extends E{constructor(t={}){super(Object.assign(Object.assign({},t),{style:ot})),this.value=0,this.tags.add("score"),this.updateText()}updateText(){this.text=`score: ${this.value}`}increase(t){this.value+=t,this.updateText()}decrease(t){let e=this.value-t;e<0&&(e=0),this.value=e,this.updateText()}}const at={width:4,height:10},vt={backgroundColor:"yellow",borderWidth:0},ct={speedX:0,speedY:-5};class lt extends E{constructor(t={}){super(Object.assign(Object.assign({},t),{size:at,speed:ct,style:vt})),this.tags.add("bullet")}}const mt=(t,e)=>{t.addOnCollision("invader",(()=>{e.getElements("invader").forEach((t=>{t.toggleDirection(),t.shiftY()})),e.getElement("score").decrease(1)}))},dt=([t,e,s,h])=>{const n=new E({position:{x:t,y:e},size:{width:s,height:h}});return n.tags.add("border"),n},Zt=t=>{const e=dt([0,0,0,t.height]);return e.tags.add("border_left"),mt(e,t),e},Vt=t=>{const e=dt([t.width,0,0,t.height]);return e.tags.add("border_right"),mt(e,t),e},Ht=t=>{const e=dt([0,0,t.width,0]);return e.tags.add("border_top"),e},pt=t=>{const e=dt([0,t.height,t.width,0]);return e.tags.add("border_bottom"),e},gt=t=>{const e=(t=>[Zt(t),Vt(t),Ht(t),pt(t)])(t),s=(t=>{const e=(()=>{let t=50;return et.flatMap((({type:e,count:s})=>{const{width:h,height:n}=$[e],i=(st-h)/2,o=i+10+i;let r=1+i;const a=Array.from({length:s}).map((()=>{const s=new tt({type:e,position:{x:r,y:t}});return r+=h+o,s}));return t+=n+10,a}))})();return e.forEach((e=>{((t,e)=>{const s=new E({position:{x:0,y:e.height-90},size:{width:e.width,height:0}});t.addOnCollision(s,(()=>{e.clear(),e.applyScene(C,{score:0})}))})(e,t),((t,e)=>{t.addOnCollision("bullet",(()=>{e.deleteElement(t),e.deleteElement("bullet");const s=e.getElement("score");s.increase(10);const h=e.getElements("invader");h.length?h.forEach((t=>t.speedUp())):(e.clear(),e.applyScene(C,{score:s.value}))}))})(e,t)})),e})(t),h=(t=>{const e=new it,s={x:(0,R.R)(t.width,e.width),y:t.height-90};return e.setPosition(s),(t=>{t.addOnCollision("border_left",(()=>t.moveRight())),t.addOnCollision("border_right",(()=>t.moveLeft()))})(e),e})(t),n=(t=>{const e=(s=t.canvas,[{text:"<",onButtonDown:()=>{const t=new KeyboardEvent("keydown",{key:k.Y.ARROW_LEFT});s.dispatchEvent(t)},onButtonUp:()=>{const t=new KeyboardEvent("keyup",{key:k.Y.ARROW_LEFT});s.dispatchEvent(t)}},{text:"fire",onButtonDown:()=>{const t=new KeyboardEvent("keydown",{key:k.Y.SPACE});s.dispatchEvent(t)}},{text:">",onButtonDown:()=>{const t=new KeyboardEvent("keydown",{key:k.Y.ARROW_RIGHT});s.dispatchEvent(t)},onButtonUp:()=>{const t=new KeyboardEvent("keyup",{key:k.Y.ARROW_RIGHT});s.dispatchEvent(t)}}]);var s;const h=e.length+1,n=(t.width-10*h)/3,i={width:n,height:50},o=t.height-50-10;return e.map((({text:e,onButtonDown:s,onButtonUp:h},r)=>{const a={x:10+r*(n+10),y:o};return new z({text:e,onButtonDown:s,onButtonUp:h,canvas:t.canvas,size:i,position:a,style:L})}))})(t),i=new rt({position:{x:10,y:20}});t.addElements(e),t.addElements(s),t.addElements(h),t.addElements(n),t.addElements(i),t.onKeyDown(k.Y.ARROW_LEFT,(()=>{h.goLeft()})),t.onKeyUp(k.Y.ARROW_LEFT,(()=>{h.stop()})),t.onKeyDown(k.Y.ARROW_RIGHT,(()=>{h.goRight()})),t.onKeyUp(k.Y.ARROW_RIGHT,(()=>{h.stop()})),t.onKeyDown(k.Y.SPACE,(()=>{if(t.getElement("bullet"))return;const e=(t=>{const e=new lt;return((t,e)=>{t.addOnCollision("border_top",(()=>{e.getElement("score").decrease(10),e.deleteElement(t)}))})(e,t),e})(t);h.fire(e),t.addElements(e)}))};class ut extends M{constructor(t){super(t),this.addScene(D,K),this.addScene(B,gt),this.addScene(I,j),this.addScene(C,X)}start(){super.start(D)}pause(){this.scene===B&&this.applyScene(I)}}const wt=()=>{const t=(0,n.useRef)(null),e=(0,n.useRef)(null),s=(0,n.useRef)();(0,n.useEffect)((()=>{if(e.current)return s.current=new ut(e.current),s.current.start(),()=>{s.current.destroy()}}),[]);const o=(0,n.useCallback)((()=>s.current.pause()),[]);return(0,i.O)(t,o),(0,h.jsx)("div",Object.assign({className:w.root,ref:t,onClick:()=>{var t;null===(t=e.current)||void 0===t||t.focus()}},{children:(0,h.jsx)("canvas",{ref:e,width:400,height:700,className:w.canvas})}))}},5114:(t,e,s)=>{"use strict";t.exports=s.p+"777ddd818be389f600c5.woff"}}]);
//# sourceMappingURL=651_b8bef0fe84847e105f18.js.map