(self.webpackChunkportfolio=self.webpackChunkportfolio||[]).push([[379],{9386:(t,e,h)=>{"use strict";h.d(e,{Z:()=>l});var s=h(7537),i=h.n(s),n=h(3645),o=h.n(n),v=h(1667),r=h.n(v),a=new URL(h(5114),h.b),m=o()(i()),c=r()(a);m.push([t.id,"@font-face {\n    font-family: 'SpaceInvaders';\n    src: url("+c+") format('woff');\n    font-style: normal;\n}\n\n.spaceInvaders_root_lNtkt {\n    height: 100%;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    background-color: black;\n    background-size: 150px;\n}\n\n.spaceInvaders_canvas_JNvly {\n    max-height: 100%;\n    max-width: 100%;\n    outline: 1px solid black;\n}\n","",{version:3,sources:["webpack://./src/page/applications/spaceInvaders/style.m.css"],names:[],mappings:"AAAA;IACI,4BAA4B;IAC5B,2DAAqD;IACrD,kBAAkB;AACtB;;AAEA;IACI,YAAY;IACZ,aAAa;IACb,uBAAuB;IACvB,mBAAmB;IACnB,uBAAuB;IACvB,sBAAsB;AAC1B;;AAEA;IACI,gBAAgB;IAChB,eAAe;IACf,wBAAwB;AAC5B",sourcesContent:["@font-face {\n    font-family: 'SpaceInvaders';\n    src: url(./assets/space-invaders.woff) format('woff');\n    font-style: normal;\n}\n\n.root {\n    height: 100%;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    background-color: black;\n    background-size: 150px;\n}\n\n.canvas {\n    max-height: 100%;\n    max-width: 100%;\n    outline: 1px solid black;\n}\n"],sourceRoot:""}]),m.locals={root:"spaceInvaders_root_lNtkt",canvas:"spaceInvaders_canvas_JNvly"};const l=m},1667:t=>{"use strict";t.exports=function(t,e){return e||(e={}),t?(t=String(t.__esModule?t.default:t),/^['"].*['"]$/.test(t)&&(t=t.slice(1,-1)),e.hash&&(t+=e.hash),/["'() \t\n]|(%20)/.test(t)||e.needQuotes?'"'.concat(t.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):t):t}},3673:(t,e,h)=>{t.exports={srcSet:h.p+"6b062cc9ca4233c1-1136.webp 1136w",images:[{path:h.p+"6b062cc9ca4233c1-1136.webp",width:1136,height:474}],src:h.p+"6b062cc9ca4233c1-1136.webp",toString:function(){return h.p+"6b062cc9ca4233c1-1136.webp"},placeholder:"data:image/webp;base64,UklGRk4FAABXRUJQVlA4WAoAAAAQAAAAJwAAEAAAQUxQSCICAAABkChJsmlbc/Bs27Zt27Zt27Zt+977bNu2fW2cc/Zaqx7/ISImQMQu2QOMmS2rieFJTilPRCGRUr5Gt5CqSrm45hCbiIhDpqAMg+6iNbelHUyWtG/w8EZGYhllKoldRGyS8CVac+UV2vAj/iS4IPnDMZhc21BG01wcIuKQ5mg0XsdQBp3LCwJT5IwxbxStHkPE3u0ZxCYidinixhi+H8EYTJNXWFQpSuhGrUYGQXROscs/beKFMkReBM2P3vj5MqYa77242A9taC7O/yW7gzZ8DEZxdzpeZ/BuzevrHF2EhSuv2P+yx3LYY11HKZZdIvxR7e2ERvJ2FBHR3DiHhX8KsTudTptNbLFkDpahzDJuidygc1d8h2EUC9ZjQWlxioit1MwKuUcXmwi+bXrxKXcS/9CUiX56Kl+Ksb602koIjJS4TUYMzXCZ91f5Mt6NYmoPOtbCKhv/K36uvntwc/IKiiarcDPUV1vGowHNzyNUHgErEwdgMfAoblwKzeUAYjg6EbdCWwa0gjy74V1R/x/Xmf8ODl1BaS76o/mW+jPaEBOKx6X4luvlh28MDTg9nxXB0HYHFlEHw+FLTRmFxxitCPW2uJmP2x+5+PPSdpahmPUef07cI5j3sSX5OwJDCcJV5iRb67F1N69++H6IHIviyAfPKSZsIoKp4pBeZsbs4EaXnkqpiIE9XbmyBJy6EPKzTTm/z6FDLxzZGpypRdDHfiJWUDggBgMAAJARAJ0BKigAEQA+UR6NRKOhoRgNVAA4BQS2AFiPf/tHzD8T+aJ2JbDO4BqNsB4gH6we73zs3WAfwD1AP2A9KL9u/g8/ZP0paVK9k/FLKZsCf9jxobuYNUz7YHmy/yXomf6Xk7+Sf+V/XvgI/kv9K/1HA0/syJ2HzwanjoYPs63fPM6KryLVRPwDrG9JxZ2mZi/o8h0AAP3jvuVTW4YdLPOn74ApUVrSJs+5F/flt8kmFfx7ObmywwYH5SH58VUH1QsNAVFDpMy3zFDxuvBO7W4uH/5a7GbxAZq8fg3v+sGyx6SrPo/Z8tSDBSPGbyWUG5e4xdlkikby/JdFJLxwEkR36QHc37rgdGJCfsmfCuT8tBv5F13Y7KfultFAo62WwBHIYxw8qzMZ0pB5v2/Hb/9eGuPbpTC8IEXpo/Yt8rXD2Dg94D2KUIoG88sLwlecZDX/47SVLZQkb+CLqpMPdGRKL0KcROA7lf+ufDvzES78o08ezbK8v8X+FW3OcL/+u26mBbdRVPXQ5XoHmLScAYeGCGqv6UT3o7N6L5wPEh/em8jRCZwxuV7zwpP23SjfIFDKwakI05/uYgSHndoHKosZoYa+5+V/FGOiEqrT+GXtC7eEN/GO6+cJuPAsaHiYIC1n2nd+z8rWGCyxfLAzolVxbn97MB/4tbZ0XU0P0pEJ+GOLE3NFlfplmrMiQJ/Rmf3bG8uOOmtZTuVMuDlSOBhm+HeEJM+x6EOvbMsD+YkVTEMxffiIDzrdDXMQLzM/+SfwIxlcvNQ774gzuBJLSR8CwcFvLkhxcpiW+xJ/Vf+fNDzG8lQLUo2VbWbTD/J0pI5qTnMzX0dpJ7B/xrzL0WX1rSZuHNl7b2FoUAXUpT9Om+m/RSBMDJurAuPkMdhfZse4Yn/ugGs//Amv6O9fuAfzoD6EulkDpYWmvx8wrHiMRkryRYrio3SXaviVO0EFkQDe+q6vIGSk5spo7rAHYoE1zMKHxGxfInkDIiIVwM/l7F9sonwYc2gx+sonwdXaf13O7BFgAA==",width:1136,height:474}},6379:(t,e,h)=>{"use strict";h.r(e),h.d(e,{default:()=>Ht});var s=h(5893),i=h(7294),n=h(6638);const o=()=>{},v="SpaceInvaders",r={INIT:"init",RUN:"run",END:"end"};var a=h(1991),m=h(2501),c=h(4924);const l=t=>void 0!==t;class Z{setPosition({x:t,y:e}){l(t)&&(this.x=t),l(e)&&(this.y=e)}setSize({width:t,height:e}){l(t)&&(this.width=t),l(e)&&(this.height=e)}get centerX(){return this.x+this.width/2}get centerY(){return this.y+this.height/2}get rect(){return[this.x,this.y,this.width,this.height]}get bounds(){const{x:t,y:e,width:h,height:s}=this;return{top:e,bottom:e+s,left:t,right:t+h}}collides(t){const e=this.bounds,h=t.bounds,s=Math.max(e.top,h.top),i=Math.min(e.bottom,h.bottom),n=Math.max(e.left,h.left),o=Math.min(e.right,h.right);return s<i&&n<o}}const d=(t,e)=>h=>{h.preventDefault();const{x:s,y:i}=(t=>{const e=t.target,h=e.getBoundingClientRect();let s,i;if("offsetX"in t&&"offsetY"in t)s=t.offsetX,i=t.offsetY;else{const e=t.changedTouches[0];s=e.clientX-h.x,i=e.clientY-h.y}const n=e.width,o=e.height;return{x:s/(h.width/n),y:i/(h.height/o)}})(h);s>t.left&&s<t.right&&i>t.top&&i<t.bottom&&(null==e||e())};class V extends Z{constructor({canvas:t,position:e,size:h,style:s,text:i,onDown:n,onUp:o}){if(super(),this.x=0,this.y=0,this.style={backgroundColor:"black",borderColor:"white",borderWidth:2,paddingX:20,paddingY:10},e&&this.setPosition(e),s&&(this.style=Object.assign(Object.assign({},this.style),s)),h)this.setSize(h);else{const e=t.getContext("2d"),{width:h,height:s}=i.measure(e);this.setSize({width:h+2*this.style.paddingX,height:s+2*this.style.paddingY})}this.text=i,this.text.setPosition({x:this.centerX,y:this.centerY}),this.text.style.textAlign="center",this.text.style.textBaseline="middle";const v=d(this.bounds,n),r=d(this.bounds,o);t.addEventListener("touchstart",v),t.addEventListener("touchend",r),t.addEventListener("mousedown",v),t.addEventListener("mouseup",r),this.unmount=()=>{t.removeEventListener("touchstart",v),t.removeEventListener("touchend",r),t.removeEventListener("mousedown",v),t.removeEventListener("mouseup",r)}}draw(t){t.fillStyle=this.style.backgroundColor,t.fillRect(...this.rect),t.strokeStyle=this.style.borderColor,t.lineWidth=this.style.borderWidth,t.strokeRect(...this.rect),this.text.draw(t)}}class H extends Z{constructor({position:t,size:e,style:h,value:s}){super(),this.x=0,this.y=0,this.style={color:"white",fontFamily:v,fontSize:20,textAlign:"left",textBaseline:"top"},this.value="",t&&this.setPosition(t),e&&this.setSize(e),h&&(this.style=Object.assign(Object.assign({},this.style),h)),s&&(this.value=s)}measure(t){t.font=`${this.style.fontSize}px ${this.style.fontFamily}`,t.textBaseline=this.style.textBaseline;const e=t.measureText(this.value);return this.width=e.actualBoundingBoxLeft+e.actualBoundingBoxRight,this.height=e.fontBoundingBoxAscent+e.fontBoundingBoxDescent,{width:this.width,height:this.height}}draw(t){t.fillStyle=this.style.color,t.font=`${this.style.fontSize}px ${this.style.fontFamily}`,t.textAlign=this.style.textAlign,t.textBaseline=this.style.textBaseline,t.fillText(this.value,this.x,this.y)}}const u=40,g=20,p=30,w=150,f=60;function x({score:t}){const e=this.canvas,h=this.context,s=new H({value:t>0?"Victory":"Game Over",position:{x:e.width/2,y:e.height/4},style:{fontSize:u,textAlign:"center"}}),i=new H({value:`score: ${t}`,position:{x:e.width/2,y:e.height/3},style:{fontSize:g,textAlign:"center"}}),n=new V({canvas:e,position:{x:(0,c.R)(e.width,w),y:e.height*(3/4)-f},size:{width:w,height:f},text:new H({value:"Restart",style:{fontSize:p}}),onDown:()=>{const t=new KeyboardEvent("keydown",{key:" "});document.dispatchEvent(t)}});s.draw(h),i.draw(h),n.draw(h),this.garbage.add(n.unmount),setTimeout((()=>{const t=(0,a.f)(m.Y.SPACE,(()=>{this.changeState(r.INIT)}));this.garbage.add(t)}),300)}class y extends Z{constructor({position:t,size:e,speedX:h,speedY:s,sprites:i}){super(),this.spriteIndex=0,this.setPosition(t),this.setSize(e),this.sprites=i,this.speedX=h,this.speedY=s}get image(){return this.sprites[this.spriteIndex]}toggleImage(){this.spriteIndex^=1}moveX(){this.x+=this.speedX}moveY(){this.y+=this.speedY}toggleMoveDirection(){this.speedX=-this.speedX}speedUp(t){this.speedX>=0&&(this.speedX+=t),this.speedX<0&&(this.speedX-=t)}draw(t){t.drawImage(this.image,...this.rect)}}const A=t=>{const e=new Image;return e.src=`data:image/svg+xml;charset=utf-8,${encodeURIComponent(t)}`,e},b=Object.entries({alienTop1:'<svg xmlns="http://www.w3.org/2000/svg" width="80" height="80" fill="white"><path fill="#D9D9D9" d="M30 0h10v10H30V0ZM0 70h10v10H0V70Zm10-10h10v10H10V60Zm10 10h10v10H20V70Zm30 0h10v10H50V70Zm20 0h10v10H70V70ZM60 60h10v10H60V60Zm-20 0h10v10H40V60Zm-10 0h10v10H30V60Zm20-10h10v10H50V50Zm-30 0h10v10H20V50Zm50-10h10v10H70V40Zm0-10h10v10H70V30ZM60 40h10v10H60V40Zm0-10h10v10H60V30ZM50 40h10v10H50V40Zm-10 0h10v10H40V40Zm0-10h10v10H40V30ZM30 40h10v10H30V40Zm0-10h10v10H30V30ZM20 40h10v10H20V40Zm-10 0h10v10H10V40ZM0 40h10v10H0V40Zm0-10h10v10H0V30Zm10 0h10v10H10V30Zm50-10h10v10H60V20Zm-10 0h10v10H50V20Zm-10 0h10v10H40V20Zm-10 0h10v10H30V20Zm-20 0h10v10H10V20Zm10 0h10v10H20V20Zm30-10h10v10H50V10Zm-10 0h10v10H40V10Zm-20 0h10v10H20V10Zm10 0h10v10H30V10ZM40 0h10v10H40V0Z"/></svg>',alienTop2:'<svg xmlns="http://www.w3.org/2000/svg" width="80" height="80" fill="white"><path fill="#D9D9D9" d="M30 0h10v10H30V0ZM10 20h10v10H10V20Zm0 10h10v10H10V30ZM0 30h10v10H0V30Zm0 10h10v10H0V40Zm10 0h10v10H10V40Zm0 10h10v10H10V50ZM0 60h10v10H0V60Zm10 10h10v10H10V70Zm10-30h10v10H20V40Zm10-10h10v10H30V30Zm0 10h10v10H30V40Zm0 10h10v10H30V50ZM20 20h10v10H20V20Zm10 0h10v10H30V20ZM20 10h10v10H20V10Zm10 0h10v10H30V10ZM50 0H40v10h10V0Zm20 20H60v10h10V20Zm0 10H60v10h10V30Zm10 0H70v10h10V30Zm0 10H70v10h10V40Zm-10 0H60v10h10V40Zm0 10H60v10h10V50Zm10 10H70v10h10V60ZM70 70H60v10h10V70ZM60 40H50v10h10V40ZM50 30H40v10h10V30Zm0 10H40v10h10V40Zm0 10H40v10h10V50Zm10-30H50v10h10V20Zm-10 0H40v10h10V20Zm10-10H50v10h10V10Zm-10 0H40v10h10V10Z"/></svg>',alienMid1:'<svg xmlns="http://www.w3.org/2000/svg" width="110" height="80" fill="white"><path fill="#D9D9D9" d="M20 0h10v10H20V0Zm10 10h10v10H30V10Zm0 10h10v10H30V20Zm10 0h10v10H40V20Zm10 0h10v10H50V20ZM40 30h10v10H40V30Zm0 10h10v10H40V40Zm0 10h10v10H40V50Zm10-20h10v10H50V30Zm0 10h10v10H50V40Zm0 10h10v10H50V50Zm10-30h10v10H60V20Zm0 10h10v10H60V30Zm0 10h10v10H60V40Zm0 10h10v10H60V50Zm10 0h10v10H70V50Zm0-10h10v10H70V40Zm0-20h10v10H70V20Zm0-10h10v10H70V10ZM80 0h10v10H80V0Zm0 20h10v10H80V20Zm0 10h10v10H80V30Zm10 0h10v10H90V30Zm0 10h10v10H90V40Zm10 0h10v10h-10V40Zm0-10h10v10h-10V30Zm0-10h10v10h-10V20Zm0-10h10v10h-10V10ZM90 50h10v10H90V50ZM80 40h10v10H80V40Zm0 10h10v10H80V50Zm0 10h10v10H80V60Zm10 10h10v10H90V70ZM30 40h10v10H30V40Zm0 10h10v10H30V50ZM20 20h10v10H20V20Zm0 10h10v10H20V30Zm-10 0h10v10H10V30ZM0 30h10v10H0V30Zm0-10h10v10H0V20Zm0-10h10v10H0V10Zm0 30h10v10H0V40Zm10 0h10v10H10V40Zm0 10h10v10H10V50Zm10 0h10v10H20V50Zm0 10h10v10H20V60ZM10 70h10v10H10V70Zm10-30h10v10H20V40Z"/></svg>',alienMid2:'<svg xmlns="http://www.w3.org/2000/svg" width="110" height="80" fill="white"><path fill="#D9D9D9" d="M80 10H70v10h10V10Zm0 10H70v10h10V20Zm10 0H80v10h10V20Zm0 10H80v10h10V30Zm10 0H90v10h10V30Zm0 10H90v10h10V40Zm10 0h-10v10h10V40Zm0 10h-10v10h10V50Zm0 10h-10v10h10V60ZM90 40H80v10h10V40Zm0 10H80v10h10V50Zm0 10H80v10h10V60ZM80 70H70v10h10V70Zm-10 0H60v10h10V70Zm10-30H70v10h10V40Zm0 10H70v10h10V50ZM70 20H60v10h10V20Zm0 10H60v10h10V30Zm0 10H60v10h10V40Zm0 10H60v10h10V50ZM60 20H50v10h10V20Zm0 10H50v10h10V30Zm0 10H50v10h10V40Zm0 10H50v10h10V50ZM90 0H80v10h10V0ZM30 10h10v10H30V10Zm0 10h10v10H30V20Zm-10 0h10v10H20V20Zm0 10h10v10H20V30Zm-10 0h10v10H10V30Zm0 10h10v10H10V40ZM0 40h10v10H0V40Zm0 10h10v10H0V50Zm0 10h10v10H0V60Zm20-20h10v10H20V40Zm0 10h10v10H20V50Zm0 10h10v10H20V60Zm10 10h10v10H30V70Zm10 0h10v10H40V70ZM30 40h10v10H30V40Zm0 10h10v10H30V50Zm10-30h10v10H40V20Zm0 10h10v10H40V30Zm0 10h10v10H40V40Zm0 10h10v10H40V50Z"/><path fill="#D9D9D9" d="M50 20h10v10H50V20Zm0 10h10v10H50V30Zm0 10h10v10H50V40Zm0 10h10v10H50V50ZM20 0h10v10H20V0Z"/></svg>',alienBot1:'<svg xmlns="http://www.w3.org/2000/svg" width="120" height="80" fill="white"><path fill="#D9D9D9" d="M40 0h10v10H40V0Zm0 10h10v10H40V10Zm0 10h10v10H40V20ZM50 0h10v10H50V0Zm0 10h10v10H50V10Zm0 10h10v10H50V20Zm0 10h10v10H50V30Zm0 10h10v10H50V40Zm-10 0h10v10H40V40ZM30 10h10v10H30V10Zm0 10h10v10H30V20ZM20 10h10v10H20V10Zm-10 0h10v10H10V10Zm10 10h10v10H20V20Zm-10 0h10v10H10V20ZM0 20h10v10H0V20Zm0 10h10v10H0V30Zm10 0h10v10H10V30Zm10 0h10v10H20V30ZM0 40h10v10H0V40Zm10 0h10v10H10V40Zm10 0h10v10H20V40Zm10 0h10v10H30V40Zm10 10h10v10H40V50Zm-10 0h10v10H30V50Zm0 10h10v10H30V60Zm-10 0h10v10H20V60ZM10 70h10v10H10V70ZM0 70h10v10H0V70ZM80 0H70v10h10V0Zm0 10H70v10h10V10Zm0 10H70v10h10V20ZM70 0H60v10h10V0Zm0 10H60v10h10V10Zm0 10H60v10h10V20Zm0 10H60v10h10V30Zm0 10H60v10h10V40Zm10 0H70v10h10V40Zm10-30H80v10h10V10Zm0 10H80v10h10V20Zm10-10H90v10h10V10Zm10 0h-10v10h10V10Zm-10 10H90v10h10V20Zm10 0h-10v10h10V20Zm10 0h-10v10h10V20Zm0 10h-10v10h10V30Zm-10 0h-10v10h10V30Zm-10 0H90v10h10V30Zm20 10h-10v10h10V40Zm-10 0h-10v10h10V40Zm-10 0H90v10h10V40Zm-10 0H80v10h10V40ZM80 50H70v10h10V50Zm10 0H80v10h10V50Zm0 10H80v10h10V60Zm10 0H90v10h10V60Zm10 10h-10v10h10V70Zm10 0h-10v10h10V70Z"/></svg>',alienBot2:'<svg xmlns="http://www.w3.org/2000/svg" width="120" height="80" fill="white"><path fill="#D9D9D9" d="M40 0h10v10H40V0Zm10 0h10v10H50V0Zm0 10h10v10H50V10Zm-10 0h10v10H40V10Zm-10 0h10v10H30V10Zm-10 0h10v10H20V10Zm-10 0h10v10H10V10Zm0 10h10v10H10V20ZM0 20h10v10H0V20Zm0 10h10v10H0V30Zm10 0h10v10H10V30ZM0 40h10v10H0V40Zm10 0h10v10H10V40Zm10-20h10v10H20V20Zm10 0h10v10H30V20Zm10 0h10v10H40V20Zm10 0h10v10H50V20Zm0 10h10v10H50V30Zm-30 0h10v10H20V30Zm0 10h10v10H20V40Zm10 0h10v10H30V40Zm10 0h10v10H40V40Zm10 0h10v10H50V40ZM40 50h10v10H40V50Zm-10 0h10v10H30V50Zm-10 0h10v10H20V50Zm0 10h10v10H20V60Zm-10 0h10v10H10V60Zm10 10h10v10H20V70Zm10 0h10v10H30V70ZM80 0H70v10h10V0ZM70 0H60v10h10V0Zm0 10H60v10h10V10Zm10 0H70v10h10V10Zm10 0H80v10h10V10Zm10 0H90v10h10V10Zm10 0h-10v10h10V10Zm0 10h-10v10h10V20Zm10 0h-10v10h10V20Zm0 10h-10v10h10V30Zm-10 0h-10v10h10V30Zm10 10h-10v10h10V40Zm-10 0h-10v10h10V40Zm-10-20H90v10h10V20Zm-10 0H80v10h10V20Zm-10 0H70v10h10V20Zm-10 0H60v10h10V20Zm0 10H60v10h10V30Zm30 0H90v10h10V30Zm0 10H90v10h10V40Zm-10 0H80v10h10V40Zm-10 0H70v10h10V40Zm-10 0H60v10h10V40Zm10 10H70v10h10V50Zm10 0H80v10h10V50Zm10 0H90v10h10V50Zm0 10H90v10h10V60Zm10 0h-10v10h10V60Zm-10 10H90v10h10V70Zm-10 0H80v10h10V70Z"/></svg>'}).reduce(((t,[e,h])=>(t[e]=A(h),t)),{}),M=[{width:26,height:26,sprites:[b.alienTop1,b.alienTop2]},{width:26,height:26,sprites:[b.alienTop1,b.alienTop2]},{width:36,height:26,sprites:[b.alienMid1,b.alienMid2]},{width:36,height:26,sprites:[b.alienMid1,b.alienMid2]},{width:40,height:26,sprites:[b.alienBot1,b.alienBot2]},{width:40,height:26,sprites:[b.alienBot1,b.alienBot2]}],E=Math.max(...M.map((({width:t})=>t))),I={setup:(t,e)=>{const h=[];let s=50;const i=M.flatMap((({width:t,height:e,sprites:h})=>{const i=(E-t)/2,n=Array.from({length:7}).map(((n,o)=>new y({position:{x:i+o*(t+i+10+i),y:s},size:{width:t,height:e},sprites:h,speedX:.5,speedY:8})));return s+=e+10,n}));return i.forEach((t=>{const e=setInterval((()=>t.toggleImage()),1e3);h.push(e)})),e.invaders=new Set(i),()=>{h.forEach(clearInterval)}},raf:[({context:t},{invaders:e})=>{e.forEach((e=>e.draw(t)))},({canvas:t},{invaders:e,score:h})=>{let s=!1;e.forEach((e=>{e.moveX();const h=e.bounds;(h.right>t.width||h.left<0)&&(s=!0)})),s&&(e.forEach((t=>{t.toggleMoveDirection(),t.moveY()})),h.value>0&&(h.value-=1))},(t,e)=>{const{invaders:h,player:s}=e;let i=!1;h.forEach((t=>{t.bounds.bottom>=s.bounds.top&&(i=!0)})),i&&(e.score.value=0,e.gameover=!0)}]};var S=h(6030);const D=(t,e,h)=>(0,S.M)("keyup",t,e,h);class B extends Z{constructor({position:t,size:e,speed:h,color:s}){super(),this.setPosition(t),this.setSize(e),this.speed=h,this.color=s}move(){this.y-=this.speed}draw(t){t.fillStyle=this.color,t.fillRect(...this.rect)}}class R extends Z{constructor({position:t,size:e,speed:h,image:s}){super(),this.setPosition(t),this.setSize(e),this.speed=h,this.image=s}moveLeft(){this.x-=this.speed}moveRight(){this.x+=this.speed}fire({size:t,speed:e,color:h}){const{width:s,height:i}=t,n={x:this.centerX-s/2,y:this.y-i};return new B({position:n,size:t,speed:e,color:h})}draw(t){t.drawImage(this.image,...this.rect)}}const k={player:A('<svg xmlns="http://www.w3.org/2000/svg" width="100" height="53" fill="white"><path fill="#fff" d="M0 26.9818V53h100V26.9818h-7.8431v-7.7091h-32.353V7.70909h-6.8627V0h-5.8824v7.70909h-6.8627V19.2727H7.84314v7.7091H0Z"/></svg>')},z={setup:(t,e)=>(0,a.f)(m.Y.SPACE,(()=>{e.bullet||(e.bullet=e.player.fire({size:{width:4,height:10},speed:7,color:"yellow"}))})),raf:[({context:t},{bullet:e})=>{e&&e.draw(t)},(t,e)=>{const{bullet:h}=e;h&&(h.move(),h.y<0&&(e.bullet=null))},(t,e)=>{const{bullet:h,invaders:s}=e;h&&s.forEach((t=>{t.collides(h)&&(e.bullet=null,s.delete(t),e.score.value+=10,(t=>{t.forEach((t=>t.speedUp(.1)))})(s),0===s.size&&(e.gameover=!0))}))}]},C={fontSize:20,textAlign:"left"},Y=[{text:"<",onMouseDown:()=>{const t=new KeyboardEvent("keydown",{key:m.Y.ARROW_LEFT});document.dispatchEvent(t)},onMouseUp:()=>{const t=new KeyboardEvent("keyup",{key:m.Y.ARROW_LEFT});document.dispatchEvent(t)}},{text:"fire",onMouseDown:()=>{const t=new KeyboardEvent("keydown",{key:m.Y.SPACE});document.dispatchEvent(t)}},{text:">",onMouseDown:()=>{const t=new KeyboardEvent("keydown",{key:m.Y.ARROW_RIGHT});document.dispatchEvent(t)},onMouseUp:()=>{const t=new KeyboardEvent("keyup",{key:m.Y.ARROW_RIGHT});document.dispatchEvent(t)}}],P=30,X=170,F=60,T=[I,{setup:({canvas:t},e)=>{const h={x:(0,c.R)(t.width,40),y:t.height-90};e.player=new R({position:h,size:{width:40,height:20},speed:5,image:k.player}),e.controls.rightPressed=!1,e.controls.leftPressed=!1;const s=(0,a.f)(m.Y.ARROW_LEFT,(()=>{e.controls.leftPressed=!0})),i=(0,a.f)(m.Y.ARROW_RIGHT,(()=>{e.controls.rightPressed=!0})),n=D(m.Y.ARROW_LEFT,(()=>{e.controls.leftPressed=!1})),o=D(m.Y.ARROW_RIGHT,(()=>{e.controls.rightPressed=!1}));return()=>{s(),i(),n(),o()}},raf:[({context:t,canvas:e},{player:h,controls:s})=>{h.draw(t);const i=h.bounds;s.rightPressed&&i.right<e.width&&h.moveRight(),s.leftPressed&&i.left>0&&h.moveLeft()}]},z,{setup:(t,e)=>{e.score.value=0,e.score.text=new H({value:"score: 0",position:{x:10,y:20},style:C})},raf:[({context:t},e)=>{const{value:h,text:s}=e.score;s.value=`score: ${h}`,s.draw(t)}]},{setup:({canvas:t},e)=>{const h=(t.width-40)/3,s=t.height-50-10,i=Y.map((({text:e,onMouseDown:i,onMouseUp:n},o)=>new V({canvas:t,position:{x:10+o*(h+10),y:s},size:{width:h,height:50},text:new H({value:e,style:{fontSize:20}}),onDown:i,onUp:n})));return e.controls.buttons=i,()=>{i.forEach((t=>t.unmount()))}},raf:[({context:t},{controls:e})=>{e.buttons.forEach((e=>e.draw(t)))}]}];function L(){const t=this.canvas,e=this.context,h={context:e,canvas:t},s={invaders:new Set,bullet:null,player:{},controls:{},score:{},gameover:!1,paused:!1};T.map((({setup:t})=>null==t?void 0:t(h,s))).filter(l).forEach((t=>this.garbage.add(t)));const i=()=>{if(this.clear(),T.forEach((({raf:t})=>{t.forEach((t=>t(h,s)))})),s.gameover)this.changeState(r.END,{score:s.score.value});else{if(s.paused){const h=new V({canvas:t,position:{x:(0,c.R)(t.width,X),y:(0,c.R)(t.height,F)},size:{height:F,width:X},style:{backgroundColor:"black",borderColor:"white",borderWidth:2},text:new H({value:"Continue",style:{fontSize:P}}),onDown:()=>{s.paused=!1,h.unmount(),i()}});return h.draw(e),void this.garbage.add(h.unmount)}this.rafId=requestAnimationFrame(i)}};this.pause=()=>{s.paused=!0},i()}var O=h(3673),K=h.n(O),U=h(5114);const G=120,J=60,N={backgroundColor:"transparent",borderColor:"red"},W={color:"yellow",fontSize:30};var Q=function(t,e,h,s){return new(h||(h=Promise))((function(i,n){function o(t){try{r(s.next(t))}catch(t){n(t)}}function v(t){try{r(s.throw(t))}catch(t){n(t)}}function r(t){var e;t.done?i(t.value):(e=t.value,e instanceof h?e:new h((function(t){t(e)}))).then(o,v)}r((s=s.apply(t,e||[])).next())}))};const j=new Image,_=new Promise((t=>{j.onload=()=>t(!0),j.onerror=()=>t(!1)}));j.src=K().src;const q=new FontFace(v,`url(${U})`).load().then((t=>(document.fonts.add(t),!0)));function $(){return Q(this,void 0,void 0,(function*(){const t=this.canvas,e=this.context;[new H({position:{x:80,y:t.height/2},style:{fontSize:24,textAlign:"left"},value:"«Left» - Move left"}),new H({position:{x:80,y:t.height/2+30},style:{fontSize:24,textAlign:"left"},value:"«Right» - Move right"}),new H({position:{x:80,y:t.height/2+60},style:{fontSize:24,textAlign:"left"},value:"«Space» - Fire"})].forEach((t=>t.draw(e)));const h=new V({canvas:t,position:{x:(0,c.R)(t.width,G),y:t.height*(3/4)-J},size:{width:G,height:J},text:new H({value:"Start",style:W}),style:N,onDown:()=>{const t=new KeyboardEvent("keydown",{key:m.Y.SPACE});document.dispatchEvent(t)}});(yield q)&&h.draw(e);const s=t.width-40,i=K().width/s,n=K().height/i;(yield _)&&e.drawImage(j,20,t.height/5,s,n);const o=(0,a.f)(m.Y.SPACE,(()=>{this.changeState(r.RUN)}));this.garbage.add(h.unmount),this.garbage.add(o)}))}class tt{constructor(t){this.garbage=new Set,this.pause=o,this.canvas=t,this.context=t.getContext("2d"),this.init=$,this.run=L,this.end=x}clear(){this.context.clearRect(0,0,this.canvas.width,this.canvas.height)}changeState(t,e){switch(this.unmount(),this.clear(),t){case r.INIT:this.init(e);break;case r.RUN:this.run(e);break;case r.END:this.end(e)}}unmount(){this.garbage.forEach((t=>t())),this.garbage.clear(),cancelAnimationFrame(this.rafId)}}var et=h(3379),ht=h.n(et),st=h(7795),it=h.n(st),nt=h(569),ot=h.n(nt),vt=h(3565),rt=h.n(vt),at=h(9216),mt=h.n(at),ct=h(4589),lt=h.n(ct),Zt=h(9386),dt={};dt.styleTagTransform=lt(),dt.setAttributes=rt(),dt.insert=ot().bind(null,"head"),dt.domAPI=it(),dt.insertStyleElement=mt(),ht()(Zt.Z,dt);const Vt=Zt.Z&&Zt.Z.locals?Zt.Z.locals:void 0,Ht=()=>{const t=(0,i.useRef)(null),e=(0,i.useRef)(null),h=(0,i.useRef)();var o,v;return(0,i.useEffect)((()=>{if(e.current)return(0,n.F)(),h.current=new tt(e.current),h.current.init(),()=>{h.current.clear()}}),[]),o=t,v=()=>{h.current.pause()},(0,i.useEffect)((()=>{const t=t=>{o.current&&!o.current.contains(t.target)&&v()};return document.addEventListener("click",t),()=>{document.removeEventListener("click",t)}}),[o,v]),(0,s.jsx)("div",Object.assign({className:Vt.root,ref:t},{children:(0,s.jsx)("canvas",{ref:e,width:400,height:700,className:Vt.canvas,tabIndex:0,onClick:()=>{var e;null===(e=t.current)||void 0===e||e.focus()}})}))}},6638:(t,e,h)=>{"use strict";h.d(e,{F:()=>s});const s=()=>{const t=document.activeElement;t&&t.blur()}},5114:(t,e,h)=>{"use strict";t.exports=h.p+"777ddd818be389f600c5.woff"}}]);
//# sourceMappingURL=379_d3790dab38d3de55e0ac.js.map