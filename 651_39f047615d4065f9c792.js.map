{"version":3,"file":"651_39f047615d4065f9c792.js","mappings":"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","sources":["webpack://portfolio/./src/page/applications/spaceInvaders/style.m.css","webpack://portfolio/./node_modules/css-loader/dist/runtime/getUrl.js","webpack://portfolio/./src/page/applications/spaceInvaders/assets/text-logo.png","webpack://portfolio/./src/page/applications/spaceInvaders/style.m.css?c023","webpack://portfolio/./src/utils/toolkit/isDefined.ts","webpack://portfolio/./src/utils/toolkit/invoke.ts","webpack://portfolio/./src/utils/dom/onKeyUp.ts","webpack://portfolio/./src/page/applications/spaceInvaders/engine/GameElement/constants.ts","webpack://portfolio/./src/page/applications/spaceInvaders/engine/GameElement/index.ts","webpack://portfolio/./src/page/applications/spaceInvaders/engine/GameElement/utils.ts","webpack://portfolio/./src/page/applications/spaceInvaders/engine/Game/index.ts","webpack://portfolio/./src/page/applications/spaceInvaders/game/constants.ts","webpack://portfolio/./src/page/applications/spaceInvaders/elements/button/getEventCoords.ts","webpack://portfolio/./src/page/applications/spaceInvaders/elements/button/getEventHandler.ts","webpack://portfolio/./src/page/applications/spaceInvaders/elements/button/index.ts","webpack://portfolio/./src/page/applications/spaceInvaders/game/end/utils.ts","webpack://portfolio/./src/page/applications/spaceInvaders/game/end/index.ts","webpack://portfolio/./src/page/applications/spaceInvaders/game/init/constants.ts","webpack://portfolio/./src/page/applications/spaceInvaders/game/init/utils.ts","webpack://portfolio/./src/page/applications/spaceInvaders/game/init/index.ts","webpack://portfolio/./src/page/applications/spaceInvaders/game/pause/index.ts","webpack://portfolio/./src/page/applications/spaceInvaders/game/pause/utils.ts","webpack://portfolio/./src/page/applications/spaceInvaders/game/run/controls/constants.ts","webpack://portfolio/./src/page/applications/spaceInvaders/engine/utils.ts","webpack://portfolio/./src/page/applications/spaceInvaders/elements/invader/constants.ts","webpack://portfolio/./src/page/applications/spaceInvaders/elements/invader/index.ts","webpack://portfolio/./src/page/applications/spaceInvaders/game/run/invaders/constants.ts","webpack://portfolio/./src/page/applications/spaceInvaders/elements/player/constants.ts","webpack://portfolio/./src/page/applications/spaceInvaders/elements/player/index.ts","webpack://portfolio/./src/page/applications/spaceInvaders/game/run/player/index.ts","webpack://portfolio/./src/page/applications/spaceInvaders/elements/score/constants.ts","webpack://portfolio/./src/page/applications/spaceInvaders/elements/score/index.ts","webpack://portfolio/./src/page/applications/spaceInvaders/game/run/score/index.ts","webpack://portfolio/./src/page/applications/spaceInvaders/elements/bullet/constants.ts","webpack://portfolio/./src/page/applications/spaceInvaders/elements/bullet/index.ts","webpack://portfolio/./src/page/applications/spaceInvaders/game/run/bullet/index.ts","webpack://portfolio/./src/page/applications/spaceInvaders/game/run/borders/index.ts","webpack://portfolio/./src/page/applications/spaceInvaders/game/run/index.ts","webpack://portfolio/./src/page/applications/spaceInvaders/game/run/invaders/index.ts","webpack://portfolio/./src/page/applications/spaceInvaders/game/run/controls/index.ts","webpack://portfolio/./src/page/applications/spaceInvaders/game/index.ts","webpack://portfolio/./src/page/applications/spaceInvaders/Content.tsx"],"sourcesContent":["// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/api.js\";\nimport ___CSS_LOADER_GET_URL_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/getUrl.js\";\nvar ___CSS_LOADER_URL_IMPORT_0___ = new URL(\"./assets/space-invaders.woff\", import.meta.url);\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\nvar ___CSS_LOADER_URL_REPLACEMENT_0___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_0___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"@font-face {\\n    font-family: 'SpaceInvaders';\\n    src: url(\" + ___CSS_LOADER_URL_REPLACEMENT_0___ + \") format('woff');\\n    font-style: normal;\\n}\\n\\n.spaceInvaders_root_lNtkt {\\n    height: 100%;\\n    display: flex;\\n    justify-content: center;\\n    align-items: center;\\n    background-color: black;\\n    background-size: 150px;\\n}\\n\\n.spaceInvaders_canvas_JNvly {\\n    max-height: 100%;\\n    max-width: 100%;\\n    outline: 1px solid black;\\n}\\n\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/page/applications/spaceInvaders/style.m.css\"],\"names\":[],\"mappings\":\"AAAA;IACI,4BAA4B;IAC5B,2DAAqD;IACrD,kBAAkB;AACtB;;AAEA;IACI,YAAY;IACZ,aAAa;IACb,uBAAuB;IACvB,mBAAmB;IACnB,uBAAuB;IACvB,sBAAsB;AAC1B;;AAEA;IACI,gBAAgB;IAChB,eAAe;IACf,wBAAwB;AAC5B\",\"sourcesContent\":[\"@font-face {\\n    font-family: 'SpaceInvaders';\\n    src: url(./assets/space-invaders.woff) format('woff');\\n    font-style: normal;\\n}\\n\\n.root {\\n    height: 100%;\\n    display: flex;\\n    justify-content: center;\\n    align-items: center;\\n    background-color: black;\\n    background-size: 150px;\\n}\\n\\n.canvas {\\n    max-height: 100%;\\n    max-width: 100%;\\n    outline: 1px solid black;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\n___CSS_LOADER_EXPORT___.locals = {\n\t\"root\": \"spaceInvaders_root_lNtkt\",\n\t\"canvas\": \"spaceInvaders_canvas_JNvly\"\n};\nexport default ___CSS_LOADER_EXPORT___;\n","\"use strict\";\n\nmodule.exports = function (url, options) {\n  if (!options) {\n    options = {};\n  }\n  if (!url) {\n    return url;\n  }\n  url = String(url.__esModule ? url.default : url);\n\n  // If url is already wrapped in quotes, remove them\n  if (/^['\"].*['\"]$/.test(url)) {\n    url = url.slice(1, -1);\n  }\n  if (options.hash) {\n    url += options.hash;\n  }\n\n  // Should url be wrapped?\n  // See https://drafts.csswg.org/css-values-3/#urls\n  if (/[\"'() \\t\\n]|(%20)/.test(url) || options.needQuotes) {\n    return \"\\\"\".concat(url.replace(/\"/g, '\\\\\"').replace(/\\n/g, \"\\\\n\"), \"\\\"\");\n  }\n  return url;\n};","module.exports = {\n        srcSet: __webpack_public_path__ + \"6b062cc9ca4233c1-1136.webp\"+\" 1136w\",\n        images: [{path: __webpack_public_path__ + \"6b062cc9ca4233c1-1136.webp\",width: 1136,height: 474}],\n        src: __webpack_public_path__ + \"6b062cc9ca4233c1-1136.webp\",\n        toString: function(){return __webpack_public_path__ + \"6b062cc9ca4233c1-1136.webp\"},\n        placeholder: \"data:image/webp;base64,UklGRk4FAABXRUJQVlA4WAoAAAAQAAAAJwAAEAAAQUxQSCICAAABkChJsmlbc/Bs27Zt27Zt27Zt+977bNu2fW2cc/Zaqx7/ISImQMQu2QOMmS2rieFJTilPRCGRUr5Gt5CqSrm45hCbiIhDpqAMg+6iNbelHUyWtG/w8EZGYhllKoldRGyS8CVac+UV2vAj/iS4IPnDMZhc21BG01wcIuKQ5mg0XsdQBp3LCwJT5IwxbxStHkPE3u0ZxCYidinixhi+H8EYTJNXWFQpSuhGrUYGQXROscs/beKFMkReBM2P3vj5MqYa77242A9taC7O/yW7gzZ8DEZxdzpeZ/BuzevrHF2EhSuv2P+yx3LYY11HKZZdIvxR7e2ERvJ2FBHR3DiHhX8KsTudTptNbLFkDpahzDJuidygc1d8h2EUC9ZjQWlxioit1MwKuUcXmwi+bXrxKXcS/9CUiX56Kl+Ksb602koIjJS4TUYMzXCZ91f5Mt6NYmoPOtbCKhv/K36uvntwc/IKiiarcDPUV1vGowHNzyNUHgErEwdgMfAoblwKzeUAYjg6EbdCWwa0gjy74V1R/x/Xmf8ODl1BaS76o/mW+jPaEBOKx6X4luvlh28MDTg9nxXB0HYHFlEHw+FLTRmFxxitCPW2uJmP2x+5+PPSdpahmPUef07cI5j3sSX5OwJDCcJV5iRb67F1N69++H6IHIviyAfPKSZsIoKp4pBeZsbs4EaXnkqpiIE9XbmyBJy6EPKzTTm/z6FDLxzZGpypRdDHfiJWUDggBgMAAJARAJ0BKigAEQA+UR6NRKOhoRgNVAA4BQS2AFiPf/tHzD8T+aJ2JbDO4BqNsB4gH6we73zs3WAfwD1AP2A9KL9u/g8/ZP0paVK9k/FLKZsCf9jxobuYNUz7YHmy/yXomf6Xk7+Sf+V/XvgI/kv9K/1HA0/syJ2HzwanjoYPs63fPM6KryLVRPwDrG9JxZ2mZi/o8h0AAP3jvuVTW4YdLPOn74ApUVrSJs+5F/flt8kmFfx7ObmywwYH5SH58VUH1QsNAVFDpMy3zFDxuvBO7W4uH/5a7GbxAZq8fg3v+sGyx6SrPo/Z8tSDBSPGbyWUG5e4xdlkikby/JdFJLxwEkR36QHc37rgdGJCfsmfCuT8tBv5F13Y7KfultFAo62WwBHIYxw8qzMZ0pB5v2/Hb/9eGuPbpTC8IEXpo/Yt8rXD2Dg94D2KUIoG88sLwlecZDX/47SVLZQkb+CLqpMPdGRKL0KcROA7lf+ufDvzES78o08ezbK8v8X+FW3OcL/+u26mBbdRVPXQ5XoHmLScAYeGCGqv6UT3o7N6L5wPEh/em8jRCZwxuV7zwpP23SjfIFDKwakI05/uYgSHndoHKosZoYa+5+V/FGOiEqrT+GXtC7eEN/GO6+cJuPAsaHiYIC1n2nd+z8rWGCyxfLAzolVxbn97MB/4tbZ0XU0P0pEJ+GOLE3NFlfplmrMiQJ/Rmf3bG8uOOmtZTuVMuDlSOBhm+HeEJM+x6EOvbMsD+YkVTEMxffiIDzrdDXMQLzM/+SfwIxlcvNQ774gzuBJLSR8CwcFvLkhxcpiW+xJ/Vf+fNDzG8lQLUo2VbWbTD/J0pI5qTnMzX0dpJ7B/xrzL0WX1rSZuHNl7b2FoUAXUpT9Om+m/RSBMDJurAuPkMdhfZse4Yn/ugGs//Amv6O9fuAfzoD6EulkDpYWmvx8wrHiMRkryRYrio3SXaviVO0EFkQDe+q6vIGSk5spo7rAHYoE1zMKHxGxfInkDIiIVwM/l7F9sonwYc2gx+sonwdXaf13O7BFgAA==\",\n        width: 1136,\n        height: 474\n      }","\n      import API from \"!../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[1].use[1]!./style.m.css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[1].use[1]!./style.m.css\";\n       export default content && content.locals ? content.locals : undefined;\n","export const isDefined = <T>(value: T | undefined | void): value is T => {\n    return value !== undefined;\n};\n","import type {Lambda} from '../types';\n\nexport const invoke = (cb: Lambda): void => {cb()};\n","import type {OnKeyEventOptions, OnKeyEventUnsubscribe} from './onKeyEvent';\nimport {onKeyEvent} from './onKeyEvent';\n\nexport const onKeyUp = (\n    key: string,\n    handler: (event: KeyboardEvent) => void,\n    options?: OnKeyEventOptions,\n): OnKeyEventUnsubscribe => {\n    return onKeyEvent('keyup', key, handler, options);\n};\n","import type {Style} from './types';\n\nexport const DEFAULT_STYLE: Style = {\n    backgroundColor: 'transparent',\n    borderColor: 'transparent',\n    borderWidth: 0,\n    color: 'black',\n    fontFamily: 'serif',\n    fontSize: 14,\n    fontWeight: 1,\n    textAlign: 'center',\n    textBaseline: 'middle',\n    fitText: true,\n} as const;\n","import type {DeepPartial} from 'utility-types';\n\nimport {isDefined} from '~/utils/toolkit';\nimport type {Lambda} from '~/utils/types';\n\nimport type {Game} from '../Game';\n\nimport type {\n    Position,\n    Size,\n    Bounds,\n    Speed,\n    Style,\n    Rect,\n    CollisionCallback,\n} from './types';\nimport {DEFAULT_STYLE} from './constants';\nimport {checkCollision} from './utils';\n\nexport * from './types';\n\nexport type GameElementParams = DeepPartial<{\n    position: Position;\n    size: Size;\n    speed: Speed;\n    style: Style;\n}>;\n\nexport class GameElement {\n    /* props */\n\n    private _x = 0;\n    /**\n     * Horizontal coordinate of the upper-left corner of the element.\n     * The coordinate axis goes from left to right.\n     */\n    get x(): number {\n        return this._x;\n    }\n\n    private _y = 0;\n    /**\n     * Vertical coordinate of the upper-left corner of the element.\n     * The coordinate axis goes from top to bottom.\n     */\n    get y(): number {\n        return this._y;\n    }\n\n    private _width = 0;\n    /** Width of the element. */\n    get width(): number {\n        return this._width;\n    }\n\n    private _height = 0;\n    /** Height of the element. */\n    get height(): number {\n        return this._height;\n    }\n\n    private _speedX = 0;\n    /** Movement speed of the element along the x axis. */\n    get speedX(): number {\n        return this._speedX;\n    }\n\n    private _speedY = 0;\n    /** Movement speed of the element along the y axis. */\n    get speedY(): number {\n        return this._speedY;\n    }\n\n    private _tags: Set<string> = new Set();\n    /** Identifiers of the element. */\n    get tags(): Set<string> {\n        return this._tags;\n    }\n\n    /** Styles describing the display of the element. */\n    style: Style = {...DEFAULT_STYLE};\n    /** Text value of the element. */\n    text: string | undefined;\n    /** Image filling the element. */\n    image: HTMLImageElement | null = null;\n\n    private collisions: Map<GameElement | string, CollisionCallback<any>[]> = new Map();\n    private destructors: Set<Lambda> = new Set();\n\n    /* constructor */\n    constructor({position, size, speed, style}: GameElementParams = {}) {\n        position && this.setPosition(position);\n        size && this.setSize(size);\n        speed && this.setSpeed(speed);\n        style && this.setStyle(style);\n    }\n\n    /* computeds */\n\n    /** Central x-axis coordinate of the element. */\n    get centerX(): number {\n        return this.x + this.width / 2;\n    }\n\n    /** Central y-axis coordinate of the element. */\n    get centerY(): number {\n        return this.y + this.height / 2;\n    }\n\n    /** Tuple of shape `[x, y, width, height]`. */\n    get rect(): Rect {\n        return [this.x, this.y, this.width, this.height];\n    }\n\n    /** Coordinates of each side of the element. */\n    get bounds(): Bounds {\n        const {x, y, width, height} = this;\n\n        return {\n            top: y,\n            bottom: y + height,\n            left: x,\n            right: x + width,\n        };\n    }\n\n    /* methods */\n\n    /** Merge provided object with own element position. */\n    setPosition({x, y}: Partial<Position>): void {\n        if (isDefined(x)) this._x = x;\n        if (isDefined(y)) this._y = y;\n    }\n\n    /** Merge provided object with own element size. */\n    setSize({width, height}: Partial<Size>): void {\n        if (isDefined(width)) this._width = width;\n        if (isDefined(height)) this._height = height;\n    }\n\n    /** Merge provided object with own element speed. */\n    setSpeed({speedX, speedY}: Partial<Speed>): void {\n        if (isDefined(speedX)) this._speedX = speedX;\n        if (isDefined(speedY)) this._speedY = speedY;\n    }\n\n    /** Merge provided object with own element style. */\n    setStyle(style: Partial<Style>): void {\n        Object.assign(this.style, style);\n    }\n\n    /** Check if the element has intersection with other element. */\n    collides(element: GameElement): boolean {\n        const a = this.bounds;\n        const b = element.bounds;\n\n        // https://ru.stackoverflow.com/a/758539\n        const top = Math.max(a.top, b.top);\n        const bottom = Math.min(a.bottom, b.bottom);\n        const left = Math.max(a.left, b.left);\n        const right = Math.min(a.right, b.right);\n\n        return top <= bottom && left <= right;\n    }\n\n    /** Shift the element by the speed value. */\n    move(delta: number): void {\n        this._x += this._speedX * delta;\n        this._y += this._speedY * delta;\n    }\n\n    private drawRect(context: CanvasRenderingContext2D): void {\n        context.fillStyle = this.style.backgroundColor;\n        context.fillRect(...this.rect);\n    }\n\n    private drawBorders(context: CanvasRenderingContext2D): void {\n        context.strokeStyle = this.style.borderColor;\n        context.lineWidth = this.style.borderWidth;\n        context.strokeRect(...this.rect);\n    }\n\n    private drawText(context: CanvasRenderingContext2D, text: string): void {\n        context.fillStyle = this.style.color;\n        context.lineWidth = this.style.fontWeight;\n        context.font = `${this.style.fontSize}px ${this.style.fontFamily}`;\n        context.textAlign = this.style.textAlign;\n        context.textBaseline = this.style.textBaseline;\n        context.fillText(\n            text,\n            this.centerX,\n            this.centerY,\n            this.style.fitText ? this.width : undefined,\n        );\n    }\n\n    private drawImage(context: CanvasRenderingContext2D, image: HTMLImageElement): void {\n        context.drawImage(image, ...this.rect);\n    }\n\n    /** Draw the element. */\n    draw(context: CanvasRenderingContext2D): void {\n        this.drawRect(context);\n        this.drawBorders(context);\n        if (this.image) this.drawImage(context, this.image);\n        if (this.text) this.drawText(context, this.text);\n    }\n\n    /**\n     * When the element collides other, the callback will be invoked.\n     * Returns unsubscribe function.\n     */\n    addOnCollision(\n        value: GameElement | string,\n        callback: CollisionCallback<this>,\n    ): Lambda {\n        const array = this.collisions.get(value) ?? [];\n        array.push(callback);\n        this.collisions.set(value, array);\n\n        return () => this.removeOnCollision(value, callback);\n    }\n\n    /** Remove collision callback. */\n    removeOnCollision(\n        value: GameElement | string,\n        callback: CollisionCallback<this>,\n    ): void {\n        const array = this.collisions.get(value) ?? [];\n        const result = array.filter(val => val !== callback);\n        this.collisions.set(value, result);\n    }\n\n    /** Check collision with all registered elements, and call corresponding callbacks. */\n    checkCollisions(game: Game): void {\n        this.collisions.forEach((callbacks, value) => {\n            const elements = value instanceof GameElement\n                ? [value]\n                : game.getElements(value);\n\n            checkCollision(this, elements, callbacks);\n        });\n    }\n\n    /**\n     * When the element is destroyed, the callback will be invoked.\n     * Returns unsubscribe function.\n     */\n    addOnDestroy(callback: Lambda): Lambda {\n        this.destructors.add(callback);\n\n        return () => this.removeOnDestroy(callback);\n    }\n\n    /** Remove destroy callback. */\n    removeOnDestroy(callback: Lambda): void {\n        this.destructors.delete(callback);\n    }\n\n    /** Call all element destructors. */\n    destroy(): void {\n        this.destructors.forEach(callback => callback());\n    }\n}\n","import type {CollisionCallback, GameElement} from './index';\n\nexport const checkCollision = (\n    self: GameElement,\n    elements: GameElement[],\n    callbacks: CollisionCallback<any>[],\n): void => {\n    elements.forEach(element => {\n        if (element.collides(self)) {\n            callbacks.forEach(callback => callback(element, self));\n        }\n    });\n};\n","import {invoke, isDefined} from '~/utils/toolkit';\nimport {onKeyDown, onKeyUp} from '~/utils/dom';\nimport type {OnKeyEventOptions} from '~/utils/dom';\nimport type {Lambda} from '~/utils/types';\n\nimport {GameElement} from '../GameElement';\n\ntype MakeSceneCallback = (game: Game, args?: any) => void;\n\nexport class Game {\n    /* props */\n\n    /** Map of game scenes and their initialization functions. */\n    private scenes: Map<string, MakeSceneCallback> = new Map();\n    /** Current scene. */\n    scene: string | null = null;\n    /** List of all game elements. */\n    private elements: Set<GameElement> = new Set();\n    /** Current `requestAnimationFrame` id */\n    private rafId = 0;\n    /** Timestamp of last frame */\n    private lastFrameTime = performance.now();\n\n    private _canvas: HTMLCanvasElement;\n    get canvas(): HTMLCanvasElement {\n        return this._canvas;\n    }\n\n    private _context: CanvasRenderingContext2D;\n    get context(): CanvasRenderingContext2D {\n        return this._context;\n    }\n\n    private unsibscribes: Set<Lambda> = new Set();\n\n    /* constructor */\n    constructor(canvas: HTMLCanvasElement) {\n        canvas.tabIndex = 1;\n        canvas.focus();\n        this._canvas = canvas;\n        this._context = canvas.getContext('2d')!;\n    }\n\n    /* computeds */\n\n    /** Width of the game field. */\n    get width(): number {\n        return this.canvas.width;\n    }\n\n    /** Height of the game field. */\n    get height(): number {\n        return this.canvas.height;\n    }\n\n    /** Difference between current and last frame in seconds. */\n    get delta(): number {\n        return (performance.now() - this.lastFrameTime) / 1000;\n    }\n\n    /* methods */\n\n    /** Register game scene with its initialization function. */\n    addScene(name: string, callback: MakeSceneCallback): void {\n        this.scenes.set(name, callback);\n    }\n\n    /**\n     * Set game active scene.\n     * Note, you should call clean function manually if needed.\n    */\n    applyScene(name: string, args?: Record<PropertyKey, unknown>): void {\n        const scene = this.scenes.get(name);\n        if (!scene) {\n            throw new Error(`Game has no scene \"${name}\". Make sure to add it with \"makeScene\".`);\n        }\n\n        this.scene = name;\n        scene(this, args);\n    }\n\n    /** Remove record about game scene. */\n    deleteScene(name: string): void {\n        this.scenes.delete(name);\n    }\n\n    /** Register a game element. */\n    addElements(value: GameElement | GameElement[]): void {\n        const elements = [value].flat();\n\n        elements.forEach(element => {\n            this.elements.add(element);\n        });\n    }\n\n    /** Get game element by its tag. */\n    getElement<T extends GameElement = GameElement>(tag: string): T | undefined {\n        return Array.from(this.elements).find(element => element.tags.has(tag)) as T;\n    }\n\n    /** Get all game elements with provided tag. */\n    getElements<T extends GameElement = GameElement>(tag: string): T[] {\n        return Array.from(this.elements).filter(element => element.tags.has(tag)) as T[];\n    }\n\n    /** Remove record about game element. */\n    deleteElement(tag: string): void;\n    deleteElement(element: GameElement): void;\n    deleteElement(value: GameElement | string): void {\n        const element = value instanceof GameElement ? value : this.getElement(value);\n        if (!element) return;\n\n        this.elements.delete(element);\n        element.destroy();\n    }\n\n    /**\n     * Remove elements with provided tag.\n     * If no tag provided, all elements would be removed.\n     */\n    deleteElements(tag?: string): void {\n        const elements = isDefined(tag)\n            ? this.getElements(tag)\n            : this.elements;\n\n        elements.forEach(element => {\n            element.destroy();\n            this.elements.delete(element);\n        });\n    }\n\n    /** Start game. */\n    start() {\n        this.lastFrameTime = performance.now();\n        this.run();\n    }\n\n    /** Process game ticks. */\n    run(): void {\n        this.tick();\n        this.lastFrameTime = performance.now();\n        this.rafId = requestAnimationFrame(() => this.run());\n    }\n\n    /** Performs unit of work in game. */\n    tick(): void {\n        this.context.clearRect(0, 0, this.width, this.height);\n\n        this.elements.forEach(\n            element => element.draw(this.context),\n        );\n\n        this.elements.forEach(\n            element => element.move(this.delta),\n        );\n\n        this.elements.forEach(\n            element => element.checkCollisions(this),\n        );\n    }\n\n    /** Stop game. */\n    stop(): void {\n        cancelAnimationFrame(this.rafId);\n    }\n\n    /**\n     * When the key is pressed, the callback will be invoked.\n     * Returns unsubscribe function.\n     */\n    onKeyDown(key: string, callback: Lambda, options?: OnKeyEventOptions): Lambda {\n        const unsubscribe = onKeyDown(key, callback, {...options, target: this.canvas});\n        this.unsibscribes.add(unsubscribe);\n\n        return () => {\n            unsubscribe();\n            this.unsibscribes.delete(unsubscribe);\n        };\n    }\n\n    /**\n     * When the key is released, the callback will be invoked.\n     * Returns unsubscribe function.\n     */\n    onKeyUp(key: string, callback: Lambda, options?: OnKeyEventOptions): Lambda {\n        const unsubscribe = onKeyUp(key, callback, {...options, target: this.canvas});\n        this.unsibscribes.add(unsubscribe);\n\n        return () => {\n            unsubscribe();\n            this.unsibscribes.delete(unsubscribe);\n        };\n    }\n\n    /** Clear all `onKeyUp` and `onKeyDown` listeners. */\n    clearEventListeners() {\n        this.unsibscribes.forEach(invoke);\n        this.unsibscribes.clear();\n    }\n\n    /** Clear all registered keyboard events and game elements. */\n    clear() {\n        this.deleteElements();\n        this.clearEventListeners();\n    }\n\n    /** Delete the game. */\n    destroy() {\n        this.stop();\n        this.deleteElements();\n        this.clearEventListeners();\n    }\n}\n","import font from '../assets/space-invaders.woff';\n\nexport const GAME_FONT_NAME = 'SpaceInvaders';\nnew FontFace(GAME_FONT_NAME, `url(${font})`).load()\n    .then(result => {\n        document.fonts.add(result);\n        return result;\n    }).catch(() => null);\n\nexport const GAME_SCENE = {\n    INIT: 'init_scene',\n    RUN: 'run_scene',\n    END: 'end_scene',\n    PAUSE: 'pause_scene',\n} as const;\n","type Coords = {\n    x: number;\n    y: number;\n};\n\nexport const getEventCoords = (event: MouseEvent | TouchEvent): Coords => {\n    const target = event.target as HTMLCanvasElement;\n    const rect = target.getBoundingClientRect();\n\n    let offsetX: number;\n    let offsetY: number;\n\n    if ('offsetX' in event && 'offsetY' in event) {\n        offsetX = event.offsetX;\n        offsetY = event.offsetY;\n    } else {\n        const touch = event.changedTouches[0];\n        offsetX = touch.clientX - rect.x;\n        offsetY = touch.clientY - rect.y;\n    }\n\n    const initialWidth = target.width;\n    const initialHeight = target.height;\n\n    const scaleX = rect.width / initialWidth;\n    const scaleY = rect.height / initialHeight;\n\n    const x = offsetX / scaleX;\n    const y = offsetY / scaleY;\n\n    return {x, y};\n};\n","import type {Bounds} from '../../engine';\n\nimport {getEventCoords} from './getEventCoords';\n\nexport const getEventHandler = (\n    bounds: Bounds,\n    handler?: () => void,\n) => (event: MouseEvent | TouchEvent) => {\n    event.preventDefault();\n    const {x, y} = getEventCoords(event);\n\n    if (\n        x > bounds.left\n        && x < bounds.right\n        && y > bounds.top\n        && y < bounds.bottom\n    ) {\n        handler?.();\n    }\n};\n","import {invoke} from '~/utils/toolkit';\nimport type {Lambda} from '~/utils/types';\n\nimport type {GameElementParams} from '../../engine';\nimport {GameElement} from '../../engine';\nimport {GAME_FONT_NAME} from '../../game/constants';\n\nimport {getEventHandler} from './getEventHandler';\n\nexport type ButtonParams = {\n    text: string;\n    canvas: HTMLCanvasElement;\n    onButtonDown?: Lambda;\n    onButtonUp?: Lambda;\n} & GameElementParams;\n\nconst DEFAULT_STYLE = {\n    backgroundColor: 'black',\n    borderColor: 'white',\n    borderWidth: 2,\n    fontFamily: GAME_FONT_NAME,\n    color: 'white',\n};\n\nexport class Button extends GameElement {\n    constructor({\n        canvas,\n        style,\n        text,\n        onButtonDown,\n        onButtonUp,\n        ...rest\n    }: ButtonParams) {\n        super(rest);\n\n        this.text = text;\n        this.setStyle({...DEFAULT_STYLE, ...style});\n\n        const garbage: Array<(() => void)> = [];\n\n        if (onButtonDown) {\n            const downHandler = getEventHandler(this.bounds, onButtonDown);\n            const events = ['touchstart', 'mousedown'] as const;\n            const unmounts = events.map(event => {\n                canvas.addEventListener(event, downHandler);\n                return () => canvas.removeEventListener(event, downHandler);\n            });\n            garbage.push(...unmounts);\n        }\n\n        if (onButtonUp) {\n            const upHandler = getEventHandler(this.bounds, onButtonUp);\n            const events = ['touchend', 'mouseup'] as const;\n            const unmounts = events.map(event => {\n                canvas.addEventListener(event, upHandler);\n                return () => canvas.removeEventListener(event, upHandler);\n            });\n            garbage.push(...unmounts);\n        }\n\n        this.addOnDestroy(() => {\n            garbage.forEach(invoke);\n        });\n    }\n}\n","import {getCenterCoordinate} from '~/utils/getCenterCoordinate';\nimport {KEYBOARD_KEY} from '~/constants/keyboard';\n\nimport {Button} from '../../elements/button';\nimport type {Game, Style} from '../../engine';\nimport {GameElement} from '../../engine';\nimport {GAME_FONT_NAME} from '../constants';\n\nexport const makeTitle = (game: Game, score: number): GameElement => {\n    const position = {\n        x: game.width / 2,\n        y: game.height / 4,\n    };\n\n    const style: Partial<Style> = {\n        fontSize: 40,\n        color: 'white',\n        fontFamily: GAME_FONT_NAME,\n        fitText: false,\n    };\n\n    const title = new GameElement({position, style});\n    title.text = score > 0 ? 'Victory' : 'Game Over';\n\n    return title;\n};\n\nexport const makeSubtitle = (game: Game, score: number): GameElement => {\n    const position = {\n        x: game.width / 2,\n        y: game.height / 3,\n    };\n\n    const style: Partial<Style> = {\n        fontSize: 20,\n        color: 'white',\n        fontFamily: GAME_FONT_NAME,\n        fitText: false,\n    };\n\n    const subtitle = new GameElement({position, style});\n    subtitle.text = `score: ${score}`;\n\n    return subtitle;\n};\n\nexport const makeButton = (game: Game): Button => {\n    const size = {\n        width: 150,\n        height: 60,\n    };\n\n    const position = {\n        x: getCenterCoordinate(game.width, size.width),\n        y: game.height * (3 / 4) - size.height,\n\n    };\n\n    const button = new Button({\n        canvas: game.canvas,\n        size,\n        position,\n        text: 'Restart',\n        style: {\n            fontSize: 30,\n        },\n        onButtonDown: () => {\n            const event = new KeyboardEvent('keydown', {key: KEYBOARD_KEY.SPACE});\n            game.canvas.dispatchEvent(event);\n        },\n    });\n\n    return button;\n};\n","import {KEYBOARD_KEY} from '~/constants/keyboard';\n\nimport {GAME_SCENE} from '../constants';\nimport type {Game} from '../../engine';\n\nimport {makeButton, makeSubtitle, makeTitle} from './utils';\n\ntype Params = {\n    score: number;\n};\n\nexport const endScene = (game: Game, {score}: Params) => {\n    const title = makeTitle(game, score);\n    const subtitle = makeSubtitle(game, score);\n    const button = makeButton(game);\n\n    game.addElements(title);\n    game.addElements(subtitle);\n    game.addElements(button);\n\n    game.onKeyDown(KEYBOARD_KEY.SPACE, () => {\n        game.clear();\n        game.applyScene(GAME_SCENE.INIT);\n    }, {once: true});\n};\n","import logo from '../../assets/text-logo.png';\n\nexport const logoElement = new Image();\nlogoElement.src = logo.src;\n","import {getCenterCoordinate} from '~/utils/getCenterCoordinate';\nimport {KEYBOARD_KEY} from '~/constants/keyboard';\n\nimport {GameElement} from '../../engine';\nimport type {Game} from '../../engine';\nimport {Button} from '../../elements/button';\nimport logo from '../../assets/text-logo.png';\nimport {GAME_FONT_NAME} from '../constants';\n\nimport {logoElement} from './constants';\n\nexport const makeImage = (game: Game): GameElement => {\n    const padding = 20;\n    const width = game.width - padding * 2;\n    const scale = logo.width / width;\n    const height = logo.height / scale;\n    const size = {width, height};\n\n    const x = padding;\n    const y = game.height / 5;\n    const position = {x, y};\n\n    const image = new GameElement({size, position});\n    image.image = logoElement;\n\n    return image;\n};\n\nexport const makeTexts = (game: Game): GameElement[] => {\n    const size = {\n        height: 30,\n    };\n\n    const labels = [\n        'Left - Move left',\n        'Right - Move right',\n        'Space - Fire',\n    ];\n\n    return labels.map((value, index) => {\n        const y = game.height / 2 + size.height * index;\n        const position = {x: 80, y};\n\n        const text = new GameElement({\n            size,\n            position,\n            style: {\n                color: 'white',\n                fontSize: 24,\n                textAlign: 'left',\n                fitText: false,\n                fontFamily: GAME_FONT_NAME,\n            },\n        });\n\n        text.text = value;\n\n        return text;\n    });\n};\n\nexport const makeButton = (game: Game) => {\n    const size = {\n        height: 60,\n        width: 120,\n    };\n\n    const position = {\n        x: getCenterCoordinate(game.width, size.width),\n        y: game.height * (3 / 4) - size.height,\n    };\n\n    const button = new Button({\n        canvas: game.canvas,\n        size,\n        position,\n        text: 'Start',\n        style: {\n            borderColor: 'red',\n            color: 'yellow',\n            fontSize: 30,\n        },\n        onButtonDown: () => {\n            const event = new KeyboardEvent('keydown', {key: KEYBOARD_KEY.SPACE});\n            game.canvas.dispatchEvent(event);\n        },\n    });\n\n    return button;\n};\n","import {KEYBOARD_KEY} from '~/constants/keyboard';\n\nimport type {Game} from '../../engine';\nimport {GAME_SCENE} from '../constants';\n\nimport {makeButton, makeImage, makeTexts} from './utils';\n\nexport const initScene = (game: Game) => {\n    const image = makeImage(game);\n    const texts = makeTexts(game);\n    const button = makeButton(game);\n\n    game.addElements(image);\n    game.addElements(texts);\n    game.addElements(button);\n\n    game.onKeyDown(KEYBOARD_KEY.SPACE, () => {\n        game.clear();\n        game.applyScene(GAME_SCENE.RUN);\n    }, {once: true});\n};\n","import type {Game} from '../../engine';\n\nimport {makeButton} from './utils';\n\nexport const pauseScene = (game: Game): void => {\n    const button = makeButton(game);\n    game.addElements(button);\n    button.draw(game.context);\n    game.stop();\n};\n","import {getCenterCoordinate} from '~/utils/getCenterCoordinate';\n\nimport {Button} from '../../elements/button';\nimport type {Game} from '../../engine';\nimport {GAME_SCENE} from '../constants';\n\nexport const makeButton = (game: Game) => {\n    const size = {\n        height: 60,\n        width: 170,\n    };\n\n    const position = {\n        x: getCenterCoordinate(game.width, size.width),\n        y: getCenterCoordinate(game.height, size.height),\n    };\n\n    const button = new Button({\n        canvas: game.canvas,\n        size,\n        position,\n        text: 'Continue',\n        style: {\n            fontSize: 30,\n        },\n        onButtonDown: () => {\n            game.scene = GAME_SCENE.RUN;\n            game.deleteElements('pause');\n            game.start();\n        },\n    });\n\n    button.tags.add('pause');\n\n    return button;\n};\n","import {KEYBOARD_KEY} from '~/constants/keyboard';\n\nimport type {Style} from '../../../engine';\n\nexport const BUTTONS_GAP = 10;\n\nexport const BUTTON_STYLE: Partial<Style> = {\n    fontSize: 20,\n    color: 'white',\n};\n\nexport const getButtonsConfig = (canvas: HTMLCanvasElement) => [\n    {\n        text: '<',\n        onButtonDown: () => {\n            const event = new KeyboardEvent('keydown', {key: KEYBOARD_KEY.ARROW_LEFT});\n            canvas.dispatchEvent(event);\n        },\n        onButtonUp: () => {\n            const event = new KeyboardEvent('keyup', {key: KEYBOARD_KEY.ARROW_LEFT});\n            canvas.dispatchEvent(event);\n        },\n    },\n    {\n        text: 'fire',\n        onButtonDown: () => {\n            const event = new KeyboardEvent('keydown', {key: KEYBOARD_KEY.SPACE});\n            canvas.dispatchEvent(event);\n        },\n    },\n    {\n        text: '>',\n        onButtonDown: () => {\n            const event = new KeyboardEvent('keydown', {key: KEYBOARD_KEY.ARROW_RIGHT});\n            canvas.dispatchEvent(event);\n        },\n        onButtonUp: () => {\n            const event = new KeyboardEvent('keyup', {key: KEYBOARD_KEY.ARROW_RIGHT});\n            canvas.dispatchEvent(event);\n        },\n    },\n];\n","export const makeSvgImage = (image: string): HTMLImageElement => {\n    const img = new Image();\n    img.src = `data:image/svg+xml;charset=utf-8,${encodeURIComponent(image)}`;\n    return img;\n};\n","import type {Speed, Style} from '../../engine';\nimport {makeSvgImage} from '../../engine/utils';\n\nexport const ACCELERATION = 10;\n\nexport const INVADER_SPEED: Speed = {\n    speedX: 20,\n    speedY: 0,\n};\n\nexport const SHIFT_Y = 8;\n\nexport const INVADER_STYLE: Partial<Style> = {\n    backgroundColor: 'transparent',\n    borderColor: 'transparent',\n    borderWidth: 0,\n};\n\nexport const INVADER_TYPE = {\n    TOP: 'top',\n    MID: 'mid',\n    BOT: 'bot',\n} as const;\n\nconst SPRITES = Object.entries({\n    invaderTop1: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"80\" height=\"80\" fill=\"white\"><path fill=\"#D9D9D9\" d=\"M30 0h10v10H30V0ZM0 70h10v10H0V70Zm10-10h10v10H10V60Zm10 10h10v10H20V70Zm30 0h10v10H50V70Zm20 0h10v10H70V70ZM60 60h10v10H60V60Zm-20 0h10v10H40V60Zm-10 0h10v10H30V60Zm20-10h10v10H50V50Zm-30 0h10v10H20V50Zm50-10h10v10H70V40Zm0-10h10v10H70V30ZM60 40h10v10H60V40Zm0-10h10v10H60V30ZM50 40h10v10H50V40Zm-10 0h10v10H40V40Zm0-10h10v10H40V30ZM30 40h10v10H30V40Zm0-10h10v10H30V30ZM20 40h10v10H20V40Zm-10 0h10v10H10V40ZM0 40h10v10H0V40Zm0-10h10v10H0V30Zm10 0h10v10H10V30Zm50-10h10v10H60V20Zm-10 0h10v10H50V20Zm-10 0h10v10H40V20Zm-10 0h10v10H30V20Zm-20 0h10v10H10V20Zm10 0h10v10H20V20Zm30-10h10v10H50V10Zm-10 0h10v10H40V10Zm-20 0h10v10H20V10Zm10 0h10v10H30V10ZM40 0h10v10H40V0Z\"/></svg>',\n    invaderTop2: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"80\" height=\"80\" fill=\"white\"><path fill=\"#D9D9D9\" d=\"M30 0h10v10H30V0ZM10 20h10v10H10V20Zm0 10h10v10H10V30ZM0 30h10v10H0V30Zm0 10h10v10H0V40Zm10 0h10v10H10V40Zm0 10h10v10H10V50ZM0 60h10v10H0V60Zm10 10h10v10H10V70Zm10-30h10v10H20V40Zm10-10h10v10H30V30Zm0 10h10v10H30V40Zm0 10h10v10H30V50ZM20 20h10v10H20V20Zm10 0h10v10H30V20ZM20 10h10v10H20V10Zm10 0h10v10H30V10ZM50 0H40v10h10V0Zm20 20H60v10h10V20Zm0 10H60v10h10V30Zm10 0H70v10h10V30Zm0 10H70v10h10V40Zm-10 0H60v10h10V40Zm0 10H60v10h10V50Zm10 10H70v10h10V60ZM70 70H60v10h10V70ZM60 40H50v10h10V40ZM50 30H40v10h10V30Zm0 10H40v10h10V40Zm0 10H40v10h10V50Zm10-30H50v10h10V20Zm-10 0H40v10h10V20Zm10-10H50v10h10V10Zm-10 0H40v10h10V10Z\"/></svg>',\n    invaderMid1: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"110\" height=\"80\" fill=\"white\"><path fill=\"#D9D9D9\" d=\"M20 0h10v10H20V0Zm10 10h10v10H30V10Zm0 10h10v10H30V20Zm10 0h10v10H40V20Zm10 0h10v10H50V20ZM40 30h10v10H40V30Zm0 10h10v10H40V40Zm0 10h10v10H40V50Zm10-20h10v10H50V30Zm0 10h10v10H50V40Zm0 10h10v10H50V50Zm10-30h10v10H60V20Zm0 10h10v10H60V30Zm0 10h10v10H60V40Zm0 10h10v10H60V50Zm10 0h10v10H70V50Zm0-10h10v10H70V40Zm0-20h10v10H70V20Zm0-10h10v10H70V10ZM80 0h10v10H80V0Zm0 20h10v10H80V20Zm0 10h10v10H80V30Zm10 0h10v10H90V30Zm0 10h10v10H90V40Zm10 0h10v10h-10V40Zm0-10h10v10h-10V30Zm0-10h10v10h-10V20Zm0-10h10v10h-10V10ZM90 50h10v10H90V50ZM80 40h10v10H80V40Zm0 10h10v10H80V50Zm0 10h10v10H80V60Zm10 10h10v10H90V70ZM30 40h10v10H30V40Zm0 10h10v10H30V50ZM20 20h10v10H20V20Zm0 10h10v10H20V30Zm-10 0h10v10H10V30ZM0 30h10v10H0V30Zm0-10h10v10H0V20Zm0-10h10v10H0V10Zm0 30h10v10H0V40Zm10 0h10v10H10V40Zm0 10h10v10H10V50Zm10 0h10v10H20V50Zm0 10h10v10H20V60ZM10 70h10v10H10V70Zm10-30h10v10H20V40Z\"/></svg>',\n    invaderMid2: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"110\" height=\"80\" fill=\"white\"><path fill=\"#D9D9D9\" d=\"M80 10H70v10h10V10Zm0 10H70v10h10V20Zm10 0H80v10h10V20Zm0 10H80v10h10V30Zm10 0H90v10h10V30Zm0 10H90v10h10V40Zm10 0h-10v10h10V40Zm0 10h-10v10h10V50Zm0 10h-10v10h10V60ZM90 40H80v10h10V40Zm0 10H80v10h10V50Zm0 10H80v10h10V60ZM80 70H70v10h10V70Zm-10 0H60v10h10V70Zm10-30H70v10h10V40Zm0 10H70v10h10V50ZM70 20H60v10h10V20Zm0 10H60v10h10V30Zm0 10H60v10h10V40Zm0 10H60v10h10V50ZM60 20H50v10h10V20Zm0 10H50v10h10V30Zm0 10H50v10h10V40Zm0 10H50v10h10V50ZM90 0H80v10h10V0ZM30 10h10v10H30V10Zm0 10h10v10H30V20Zm-10 0h10v10H20V20Zm0 10h10v10H20V30Zm-10 0h10v10H10V30Zm0 10h10v10H10V40ZM0 40h10v10H0V40Zm0 10h10v10H0V50Zm0 10h10v10H0V60Zm20-20h10v10H20V40Zm0 10h10v10H20V50Zm0 10h10v10H20V60Zm10 10h10v10H30V70Zm10 0h10v10H40V70ZM30 40h10v10H30V40Zm0 10h10v10H30V50Zm10-30h10v10H40V20Zm0 10h10v10H40V30Zm0 10h10v10H40V40Zm0 10h10v10H40V50Z\"/><path fill=\"#D9D9D9\" d=\"M50 20h10v10H50V20Zm0 10h10v10H50V30Zm0 10h10v10H50V40Zm0 10h10v10H50V50ZM20 0h10v10H20V0Z\"/></svg>',\n    invaderBot1: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"120\" height=\"80\" fill=\"white\"><path fill=\"#D9D9D9\" d=\"M40 0h10v10H40V0Zm0 10h10v10H40V10Zm0 10h10v10H40V20ZM50 0h10v10H50V0Zm0 10h10v10H50V10Zm0 10h10v10H50V20Zm0 10h10v10H50V30Zm0 10h10v10H50V40Zm-10 0h10v10H40V40ZM30 10h10v10H30V10Zm0 10h10v10H30V20ZM20 10h10v10H20V10Zm-10 0h10v10H10V10Zm10 10h10v10H20V20Zm-10 0h10v10H10V20ZM0 20h10v10H0V20Zm0 10h10v10H0V30Zm10 0h10v10H10V30Zm10 0h10v10H20V30ZM0 40h10v10H0V40Zm10 0h10v10H10V40Zm10 0h10v10H20V40Zm10 0h10v10H30V40Zm10 10h10v10H40V50Zm-10 0h10v10H30V50Zm0 10h10v10H30V60Zm-10 0h10v10H20V60ZM10 70h10v10H10V70ZM0 70h10v10H0V70ZM80 0H70v10h10V0Zm0 10H70v10h10V10Zm0 10H70v10h10V20ZM70 0H60v10h10V0Zm0 10H60v10h10V10Zm0 10H60v10h10V20Zm0 10H60v10h10V30Zm0 10H60v10h10V40Zm10 0H70v10h10V40Zm10-30H80v10h10V10Zm0 10H80v10h10V20Zm10-10H90v10h10V10Zm10 0h-10v10h10V10Zm-10 10H90v10h10V20Zm10 0h-10v10h10V20Zm10 0h-10v10h10V20Zm0 10h-10v10h10V30Zm-10 0h-10v10h10V30Zm-10 0H90v10h10V30Zm20 10h-10v10h10V40Zm-10 0h-10v10h10V40Zm-10 0H90v10h10V40Zm-10 0H80v10h10V40ZM80 50H70v10h10V50Zm10 0H80v10h10V50Zm0 10H80v10h10V60Zm10 0H90v10h10V60Zm10 10h-10v10h10V70Zm10 0h-10v10h10V70Z\"/></svg>',\n    invaderBot2: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"120\" height=\"80\" fill=\"white\"><path fill=\"#D9D9D9\" d=\"M40 0h10v10H40V0Zm10 0h10v10H50V0Zm0 10h10v10H50V10Zm-10 0h10v10H40V10Zm-10 0h10v10H30V10Zm-10 0h10v10H20V10Zm-10 0h10v10H10V10Zm0 10h10v10H10V20ZM0 20h10v10H0V20Zm0 10h10v10H0V30Zm10 0h10v10H10V30ZM0 40h10v10H0V40Zm10 0h10v10H10V40Zm10-20h10v10H20V20Zm10 0h10v10H30V20Zm10 0h10v10H40V20Zm10 0h10v10H50V20Zm0 10h10v10H50V30Zm-30 0h10v10H20V30Zm0 10h10v10H20V40Zm10 0h10v10H30V40Zm10 0h10v10H40V40Zm10 0h10v10H50V40ZM40 50h10v10H40V50Zm-10 0h10v10H30V50Zm-10 0h10v10H20V50Zm0 10h10v10H20V60Zm-10 0h10v10H10V60Zm10 10h10v10H20V70Zm10 0h10v10H30V70ZM80 0H70v10h10V0ZM70 0H60v10h10V0Zm0 10H60v10h10V10Zm10 0H70v10h10V10Zm10 0H80v10h10V10Zm10 0H90v10h10V10Zm10 0h-10v10h10V10Zm0 10h-10v10h10V20Zm10 0h-10v10h10V20Zm0 10h-10v10h10V30Zm-10 0h-10v10h10V30Zm10 10h-10v10h10V40Zm-10 0h-10v10h10V40Zm-10-20H90v10h10V20Zm-10 0H80v10h10V20Zm-10 0H70v10h10V20Zm-10 0H60v10h10V20Zm0 10H60v10h10V30Zm30 0H90v10h10V30Zm0 10H90v10h10V40Zm-10 0H80v10h10V40Zm-10 0H70v10h10V40Zm-10 0H60v10h10V40Zm10 10H70v10h10V50Zm10 0H80v10h10V50Zm10 0H90v10h10V50Zm0 10H90v10h10V60Zm10 0h-10v10h10V60Zm-10 10H90v10h10V70Zm-10 0H80v10h10V70Z\"/></svg>',\n}).reduce<Record<string, HTMLImageElement>>((acc, [key, value]) => {\n    acc[key] = makeSvgImage(value);\n    return acc;\n}, {});\n\nexport const INVADERS_CONFIG = {\n    [INVADER_TYPE.TOP]: {\n        width: 26,\n        height: 26,\n        sprites: [SPRITES.invaderTop1, SPRITES.invaderTop2],\n    },\n    [INVADER_TYPE.MID]: {\n        width: 36,\n        height: 26,\n        sprites: [SPRITES.invaderMid1, SPRITES.invaderMid2],\n    },\n    [INVADER_TYPE.BOT]: {\n        width: 40,\n        height: 26,\n        sprites: [SPRITES.invaderBot1, SPRITES.invaderBot2],\n    },\n} as const;\n","import type {ValuesType} from 'utility-types';\n\nimport type {GameElementParams} from '../../engine';\nimport {GameElement} from '../../engine';\n\nimport type {INVADER_TYPE} from './constants';\nimport {ACCELERATION, INVADERS_CONFIG, INVADER_STYLE, SHIFT_Y, INVADER_SPEED} from './constants';\n\ntype Sprites = readonly [HTMLImageElement, HTMLImageElement];\ntype InvaderType = ValuesType<typeof INVADER_TYPE>;\n\nexport type InvaderParams = {\n    type: InvaderType;\n} & GameElementParams;\n\nexport class Invader extends GameElement {\n    private sprites: Sprites;\n    private spriteIndex = 0;\n\n    constructor({type, ...rest}: InvaderParams) {\n        const {width, height, sprites} = INVADERS_CONFIG[type];\n        const size = {width, height};\n\n        super({\n            ...rest,\n            size,\n            speed: INVADER_SPEED,\n            style: INVADER_STYLE,\n        });\n\n        this.sprites = sprites;\n        this.image = sprites[this.spriteIndex];\n        this.tags.add('invader');\n\n        const iid = setInterval(() => this.toggleImage(), 1000);\n        this.addOnDestroy(() => {\n            clearInterval(iid);\n        });\n    }\n\n    get direction(): 'left' | 'right' {\n        return this.speedX < 0 ? 'left' : 'right';\n    }\n\n    toggleImage(): void {\n        // eslint-disable-next-line no-bitwise\n        this.spriteIndex ^= 1;\n        this.image = this.sprites[this.spriteIndex];\n    }\n\n    toggleDirection(): void {\n        const speedX = -this.speedX;\n        this.setSpeed({speedX});\n    }\n\n    speedUp(): void {\n        const speedX = Math.sign(this.speedX) * (Math.abs(this.speedX) + ACCELERATION);\n        this.setSpeed({speedX});\n    }\n\n    shiftY(): void {\n        const y = this.y + SHIFT_Y;\n        this.setPosition({y});\n    }\n}\n","import {INVADERS_CONFIG, INVADER_TYPE} from '../../../elements/invader/constants';\n\nexport const INVADERS_GAP = 10;\n\nconst INVADERS_PER_ROW = 7;\nexport const ROWS_CONFIG = [\n    {\n        type: INVADER_TYPE.TOP,\n        count: INVADERS_PER_ROW,\n    },\n    {\n        type: INVADER_TYPE.TOP,\n        count: INVADERS_PER_ROW,\n    },\n    {\n        type: INVADER_TYPE.MID,\n        count: INVADERS_PER_ROW,\n    },\n    {\n        type: INVADER_TYPE.MID,\n        count: INVADERS_PER_ROW,\n    },\n    {\n        type: INVADER_TYPE.BOT,\n        count: INVADERS_PER_ROW,\n    },\n    {\n        type: INVADER_TYPE.BOT,\n        count: INVADERS_PER_ROW,\n    },\n];\n\nexport const INVADERS_MAX_WIDTH = Math.max(\n    ...Object.values(INVADERS_CONFIG).map(({width}) => width),\n);\n","import type {Size} from '../../engine';\nimport {makeSvgImage} from '../../engine/utils';\n\nexport const PLAYER_SIZE: Size = {\n    width: 40,\n    height: 20,\n};\n\nexport const PLAYER_SPEED = 200;\n\nexport const PLAYER_IMAGE = makeSvgImage(\n    '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"100\" height=\"53\" fill=\"white\"><path fill=\"#fff\" d=\"M0 26.9818V53h100V26.9818h-7.8431v-7.7091h-32.353V7.70909h-6.8627V0h-5.8824v7.70909h-6.8627V19.2727H7.84314v7.7091H0Z\"/></svg>',\n);\n","import {GameElement} from '../../engine';\nimport type {GameElementParams} from '../../engine';\nimport type {Bullet} from '../bullet';\n\nimport {PLAYER_IMAGE, PLAYER_SIZE, PLAYER_SPEED} from './constants';\n\nexport class Player extends GameElement {\n    image = PLAYER_IMAGE;\n\n    constructor(params: GameElementParams = {}) {\n        super({...params, size: PLAYER_SIZE});\n\n        this.tags.add('player');\n    }\n\n    goLeft(): void {\n        const speedX = -PLAYER_SPEED;\n        this.setSpeed({speedX});\n    }\n\n    goRight(): void {\n        const speedX = PLAYER_SPEED;\n        this.setSpeed({speedX});\n    }\n\n    stop(): void {\n        this.setSpeed({speedX: 0});\n    }\n\n    moveLeft(): void {\n        const x = this.x - PLAYER_SPEED;\n        this.setPosition({x});\n    }\n\n    moveRight(): void {\n        const x = this.x + PLAYER_SPEED;\n        this.setPosition({x});\n    }\n\n    fire(bullet: Bullet): Bullet {\n        const {width, height} = bullet;\n\n        bullet.setPosition({\n            x: this.centerX - width / 2,\n            y: this.y - height,\n        });\n\n        return bullet;\n    }\n}\n","import {getCenterCoordinate} from '~/utils/getCenterCoordinate';\n\nimport {Player} from '../../../elements/player';\nimport type {Game} from '../../../engine';\n\nconst addGameFieldCollision = (player: Player): void => {\n    player.addOnCollision('border_left', border => {\n        const x = border.bounds.right + 1;\n        player.stop();\n        player.setPosition({x});\n    });\n    player.addOnCollision('border_right', border => {\n        const x = border.bounds.left - player.width - 1;\n        player.stop();\n        player.setPosition({x});\n    });\n};\n\nexport const makePlayer = (game: Game): Player => {\n    const player = new Player();\n    const position = {\n        x: getCenterCoordinate(game.width, player.width),\n        y: game.height - 90,\n    };\n    player.setPosition(position);\n\n    addGameFieldCollision(player);\n\n    return player;\n};\n","import type {Style} from '../../engine';\nimport {GAME_FONT_NAME} from '../../game/constants';\n\nexport const SCORE_STYLE: Partial<Style> = {\n    color: 'white',\n    fontSize: 20,\n    textAlign: 'left',\n    fontFamily: GAME_FONT_NAME,\n    fitText: false,\n};\n","import type {GameElementParams} from '../../engine';\nimport {GameElement} from '../../engine';\n\nimport {SCORE_STYLE} from './constants';\n\nexport class Score extends GameElement {\n    value = 0;\n\n    constructor(params: GameElementParams = {}) {\n        super({\n            ...params,\n            style: SCORE_STYLE,\n        });\n\n        this.tags.add('score');\n        this.updateText();\n    }\n\n    updateText(): void {\n        this.text = `score: ${this.value}`;\n    }\n\n    increase(value: number): void {\n        this.value += value;\n        this.updateText();\n    }\n\n    decrease(value: number): void {\n        let next = this.value - value;\n        if (next < 0) {next = 0}\n\n        this.value = next;\n        this.updateText();\n    }\n}\n","import {Score} from '../../../elements/score';\n\nexport const makeScore = (): Score => {\n    const position = {x: 10, y: 20};\n\n    return new Score({position});\n};\n","import type {Size, Style, Speed} from '../../engine';\n\nexport const BULLET_SIZE: Size = {\n    width: 4,\n    height: 10,\n};\n\nexport const BULLET_STYLE: Partial<Style> = {\n    backgroundColor: 'yellow',\n    borderWidth: 0,\n};\n\nexport const BULLET_SPEED: Speed = {\n    speedX: 0,\n    speedY: -300,\n};\n","import type {GameElementParams} from '../../engine';\nimport {GameElement} from '../../engine';\n\nimport {\n    BULLET_SIZE,\n    BULLET_SPEED,\n    BULLET_STYLE,\n} from './constants';\n\nexport class Bullet extends GameElement {\n    constructor(params: GameElementParams = {}) {\n        super({\n            ...params,\n            size: BULLET_SIZE,\n            speed: BULLET_SPEED,\n            style: BULLET_STYLE,\n        });\n\n        this.tags.add('bullet');\n    }\n}\n","import {Bullet} from '../../../elements/bullet';\nimport type {Score} from '../../../elements/score';\nimport type {Game} from '../../../engine';\n\nconst addGameFieldCollision = (bullet: Bullet, game: Game): void => {\n    const callback = () => {\n        const score = game.getElement<Score>('score')!;\n        score.decrease(10);\n\n        game.deleteElement(bullet);\n    };\n\n    bullet.addOnCollision('border_top', callback);\n};\n\nexport const makeBullet = (game: Game): Bullet => {\n    const bullet = new Bullet();\n\n    addGameFieldCollision(bullet, game);\n\n    return bullet;\n};\n","import type {Game, Rect} from '../../../engine';\nimport {GameElement} from '../../../engine';\n\nconst makeBorder = ([x, y, width, height]: Rect): GameElement => {\n    const position = {x, y};\n    const size = {width, height};\n\n    const border = new GameElement({position, size});\n    border.tags.add('border');\n\n    return border;\n};\n\nconst makeLeftBorder = (game: Game): GameElement => {\n    const border = makeBorder([0, 0, 0, game.height]);\n    border.tags.add('border_left');\n\n    return border;\n};\n\nconst makeRightBorder = (game: Game): GameElement => {\n    const border = makeBorder([game.width, 0, 0, game.height]);\n    border.tags.add('border_right');\n\n    return border;\n};\n\nconst makeTopBorder = (game: Game): GameElement => {\n    const border = makeBorder([0, 0, game.width, 0]);\n    border.tags.add('border_top');\n\n    return border;\n};\n\nconst makeBottomBorder = (game: Game): GameElement => {\n    const border = makeBorder([0, game.height, game.width, 0]);\n    border.tags.add('border_bottom');\n\n    return border;\n};\n\nexport const makeBorders = (game: Game): GameElement[] => {\n    return [\n        makeLeftBorder(game),\n        makeRightBorder(game),\n        makeTopBorder(game),\n        makeBottomBorder(game),\n    ];\n};\n","import {KEYBOARD_KEY} from '~/constants/keyboard';\n\nimport type {Game} from '../../engine';\n\nimport {makeControls} from './controls';\nimport {makeInvaders} from './invaders';\nimport {makePlayer} from './player';\nimport {makeScore} from './score';\nimport {makeBullet} from './bullet';\nimport {makeBorders} from './borders';\n\nexport const runScene = (game: Game): void => {\n    const borders = makeBorders(game);\n    const invaders = makeInvaders(game);\n    const player = makePlayer(game);\n    const controls = makeControls(game);\n    const score = makeScore();\n\n    game.addElements(borders);\n    game.addElements(invaders);\n    game.addElements(player);\n    game.addElements(controls);\n    game.addElements(score);\n\n    game.onKeyDown(KEYBOARD_KEY.ARROW_LEFT, () => {\n        player.goLeft();\n    });\n    game.onKeyUp(KEYBOARD_KEY.ARROW_LEFT, () => {\n        player.stop();\n    });\n\n    game.onKeyDown(KEYBOARD_KEY.ARROW_RIGHT, () => {\n        player.goRight();\n    });\n    game.onKeyUp(KEYBOARD_KEY.ARROW_RIGHT, () => {\n        player.stop();\n    });\n\n    game.onKeyDown(KEYBOARD_KEY.SPACE, () => {\n        const current = game.getElement('bullet');\n        if (current) return;\n\n        const bullet = makeBullet(game);\n        player.fire(bullet);\n        game.addElements(bullet);\n    });\n};\n","import {Invader} from '../../../elements/invader';\nimport {INVADERS_CONFIG} from '../../../elements/invader/constants';\nimport {GameElement} from '../../../engine';\nimport type {Game} from '../../../engine';\nimport type {Score} from '../../../elements/score';\nimport {GAME_SCENE} from '../../constants';\n\nimport {INVADERS_GAP, INVADERS_MAX_WIDTH, ROWS_CONFIG} from './constants';\n\nconst generateInvaders = (): Invader[] => {\n    let y = 50;\n\n    return ROWS_CONFIG.flatMap(({type, count}) => {\n        // Parameters of the invader type in the row.\n        const {width, height} = INVADERS_CONFIG[type];\n        // Difference between largest and current invader type.\n        const offset = (INVADERS_MAX_WIDTH - width) / 2;\n        // Real distance between two invaders in the row.\n        const gap = offset + INVADERS_GAP + offset;\n\n        let x = 1 + offset;\n\n        const result = Array.from({length: count}).map(() => {\n            const position = {x, y};\n            const invader = new Invader({type, position});\n            // Shift next invader.\n            x += width + gap;\n\n            return invader;\n        });\n\n        y += height + INVADERS_GAP;\n\n        return result;\n    });\n};\n\nconst addBordersCollision = (invader: Invader, game: Game): void => {\n    const decreaseScore = () => {\n        const score = game.getElement<Score>('score')!;\n        score.decrease(1);\n    };\n\n    const processInvader = (element: Invader) => {\n        if (element.direction === 'left') {\n            element.setPosition({x: element.x + 1});\n        }\n        if (element.direction === 'right') {\n            element.setPosition({x: element.x - 1});\n        }\n        element.toggleDirection();\n        element.shiftY();\n    };\n\n    invader.addOnCollision('border_left', () => {\n        const invaders = game.getElements<Invader>('invader');\n        if (invaders.some(element => element.direction === 'left')) {\n            invaders.forEach(processInvader);\n            decreaseScore();\n        }\n    });\n\n    invader.addOnCollision('border_right', () => {\n        const invaders = game.getElements<Invader>('invader');\n        if (invaders.some(element => element.direction === 'right')) {\n            invaders.forEach(processInvader);\n            decreaseScore();\n        }\n    });\n};\n\nconst addFatalCollision = (invader: Invader, game: Game): void => {\n    const callback = () => {\n        game.clear();\n        game.applyScene(GAME_SCENE.END, {score: 0});\n    };\n\n    const deadLine = new GameElement({\n        position: {x: 0, y: game.height - 90},\n        size: {width: game.width, height: 0},\n    });\n\n    invader.addOnCollision(deadLine, callback);\n};\n\nconst addBulletCollision = (invader: Invader, game: Game): void => {\n    const callback = () => {\n        game.deleteElement(invader);\n        game.deleteElement('bullet');\n\n        const score = game.getElement<Score>('score')!;\n        score.increase(10);\n\n        const invaders = game.getElements<Invader>('invader');\n        if (invaders.length) {\n            invaders.forEach(value => value.speedUp());\n        } else {\n            game.clear();\n            game.applyScene(GAME_SCENE.END, {score: score.value});\n        }\n    };\n\n    invader.addOnCollision('bullet', callback);\n};\n\nexport const makeInvaders = (game: Game): Invader[] => {\n    const invaders = generateInvaders();\n    invaders.forEach(invader => {\n        addFatalCollision(invader, game);\n        addBulletCollision(invader, game);\n        addBordersCollision(invader, game);\n    });\n\n    return invaders;\n};\n","import {Button} from '../../../elements/button';\nimport type {Game} from '../../../engine';\n\nimport {BUTTONS_GAP, BUTTON_STYLE, getButtonsConfig} from './constants';\n\nexport const makeControls = (game: Game): Button[] => {\n    const buttonsConfig = getButtonsConfig(game.canvas);\n    const gap = BUTTONS_GAP;\n    const gapsCount = buttonsConfig.length + 1;\n\n    const width = (game.width - gap * gapsCount) / 3;\n    const height = 50;\n    const size = {width, height};\n\n    const y = game.height - height - gap;\n\n    return buttonsConfig.map(({text, onButtonDown, onButtonUp}, index) => {\n        const x = gap + index * (width + gap);\n        const position = {x, y};\n\n        return new Button({\n            text,\n            onButtonDown,\n            onButtonUp,\n            canvas: game.canvas,\n            size,\n            position,\n            style: BUTTON_STYLE,\n        });\n    });\n};\n","import {Game} from '../engine';\n\nimport {GAME_SCENE} from './constants';\nimport {endScene} from './end';\nimport {initScene} from './init';\nimport {pauseScene} from './pause';\nimport {runScene} from './run';\n\nexport class SpaceInvaders extends Game {\n    constructor(canvas: HTMLCanvasElement) {\n        super(canvas);\n\n        this.addScene(GAME_SCENE.INIT, initScene);\n        this.addScene(GAME_SCENE.RUN, runScene);\n        this.addScene(GAME_SCENE.PAUSE, pauseScene);\n        this.addScene(GAME_SCENE.END, endScene);\n    }\n\n    begin(): void {\n        this.applyScene(GAME_SCENE.INIT);\n        this.start();\n    }\n\n    pause() {\n        if (this.scene === GAME_SCENE.RUN) {\n            this.applyScene(GAME_SCENE.PAUSE);\n        }\n    }\n}\n","import type {MutableRefObject} from 'react';\nimport {useCallback, useEffect, useRef} from 'react';\n\nimport {useClickOutside} from '~/utils/useClickOutside';\n\nimport css from './style.m.css';\nimport {SpaceInvaders} from './game';\n\nconst Content = () => {\n    const root = useRef<HTMLDivElement>(null);\n    const canvas = useRef<HTMLCanvasElement>(null);\n    const game = useRef() as MutableRefObject<SpaceInvaders>;\n\n    useEffect(() => {\n        if (!canvas.current) return;\n\n        game.current = new SpaceInvaders(canvas.current);\n        game.current.begin();\n\n        return () => {\n            game.current.destroy();\n        };\n    }, []);\n\n    const pause = useCallback(() => game.current.pause(), []);\n    useClickOutside(root, pause);\n\n    // Capture focus\n    const onClick = () => {\n        canvas.current?.focus();\n    };\n\n    return (\n        <div\n            className={css.root}\n            ref={root}\n            onClick={onClick}\n        >\n            <canvas\n                ref={canvas}\n                width={400}\n                height={700}\n                className={css.canvas}\n            />\n        </div>\n    );\n};\n\nexport default Content;\n"],"names":["___CSS_LOADER_URL_IMPORT_0___","URL","___CSS_LOADER_EXPORT___","___CSS_LOADER_URL_REPLACEMENT_0___","push","module","id","locals","exports","url","options","String","__esModule","default","test","slice","hash","needQuotes","concat","replace","srcSet","images","path","width","height","src","toString","placeholder","styleTagTransform","setAttributes","insert","domAPI","insertStyleElement","undefined","isDefined","value","invoke","cb","DEFAULT_STYLE","backgroundColor","borderColor","borderWidth","color","fontFamily","fontSize","fontWeight","textAlign","textBaseline","fitText","GameElement","x","this","_x","y","_y","_width","_height","speedX","_speedX","speedY","_speedY","tags","_tags","constructor","position","size","speed","style","Set","image","collisions","Map","destructors","setPosition","setSize","setSpeed","setStyle","centerX","centerY","rect","bounds","top","bottom","left","right","Object","assign","collides","element","a","b","Math","max","min","move","delta","drawRect","context","fillStyle","fillRect","drawBorders","strokeStyle","lineWidth","strokeRect","drawText","text","font","fillText","drawImage","draw","addOnCollision","callback","array","get","set","removeOnCollision","result","filter","val","checkCollisions","game","forEach","callbacks","self","elements","checkCollision","getElements","addOnDestroy","add","removeOnDestroy","delete","destroy","Game","canvas","_canvas","_context","scenes","scene","rafId","lastFrameTime","performance","now","unsibscribes","tabIndex","focus","getContext","addScene","name","applyScene","args","Error","deleteScene","addElements","flat","getElement","tag","Array","from","find","has","deleteElement","deleteElements","start","run","tick","requestAnimationFrame","clearRect","stop","cancelAnimationFrame","onKeyDown","key","unsubscribe","target","onKeyUp","handler","onKeyEvent","clearEventListeners","clear","GAME_FONT_NAME","FontFace","load","then","document","fonts","catch","GAME_SCENE","getEventHandler","event","preventDefault","getBoundingClientRect","offsetX","offsetY","touch","changedTouches","clientX","clientY","initialWidth","initialHeight","getEventCoords","Button","onButtonDown","onButtonUp","super","garbage","downHandler","unmounts","map","addEventListener","removeEventListener","upHandler","endScene","score","title","makeTitle","subtitle","makeSubtitle","button","getCenterCoordinate","KeyboardEvent","dispatchEvent","makeButton","once","logoElement","Image","initScene","padding","scale","makeImage","texts","index","makeTexts","pauseScene","BUTTON_STYLE","makeSvgImage","img","encodeURIComponent","INVADER_SPEED","INVADER_STYLE","INVADER_TYPE","SPRITES","entries","invaderTop1","invaderTop2","invaderMid1","invaderMid2","invaderBot1","invaderBot2","reduce","acc","INVADERS_CONFIG","sprites","Invader","type","rest","spriteIndex","iid","setInterval","toggleImage","clearInterval","direction","toggleDirection","speedUp","sign","abs","shiftY","ROWS_CONFIG","count","INVADERS_MAX_WIDTH","values","PLAYER_SIZE","PLAYER_IMAGE","Player","params","goLeft","goRight","PLAYER_SPEED","moveLeft","moveRight","fire","bullet","SCORE_STYLE","Score","updateText","increase","decrease","next","BULLET_SIZE","BULLET_STYLE","BULLET_SPEED","Bullet","makeBorder","border","makeLeftBorder","makeRightBorder","makeTopBorder","makeBottomBorder","runScene","borders","makeBorders","invaders","flatMap","offset","gap","length","invader","generateInvaders","deadLine","addFatalCollision","addBulletCollision","decreaseScore","processInvader","some","addBordersCollision","makeInvaders","player","addGameFieldCollision","makePlayer","controls","buttonsConfig","gapsCount","makeControls","makeBullet","SpaceInvaders","begin","pause","root","useRef","useEffect","current","useCallback","useClickOutside","className","ref","onClick"],"sourceRoot":""}