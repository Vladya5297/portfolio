(self.webpackChunkportfolio=self.webpackChunkportfolio||[]).push([[52],{9386:(t,e,h)=>{"use strict";h.d(e,{Z:()=>c});var s=h(7537),n=h.n(s),i=h(3645),o=h.n(i),v=h(1667),r=h.n(v),a=new URL(h(5114),h.b),m=o()(n()),l=r()(a);m.push([t.id,"@font-face {\n    font-family: 'SpaceInvaders';\n    src: url("+l+") format('woff');\n    font-style: normal;\n}\n\n.spaceInvaders_root_lNtkt {\n    height: 100%;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    background-color: silver;\n    background-size: 150px;\n}\n\n.spaceInvaders_canvas_JNvly {\n    max-height: 100%;\n    max-width: 100%;\n    background-color: black;\n    outline: 1px solid black;\n}\n","",{version:3,sources:["webpack://./src/page/applications/spaceInvaders/style.m.css"],names:[],mappings:"AAAA;IACI,4BAA4B;IAC5B,2DAAqD;IACrD,kBAAkB;AACtB;;AAEA;IACI,YAAY;IACZ,aAAa;IACb,uBAAuB;IACvB,mBAAmB;IACnB,wBAAwB;IACxB,sBAAsB;AAC1B;;AAEA;IACI,gBAAgB;IAChB,eAAe;IACf,uBAAuB;IACvB,wBAAwB;AAC5B",sourcesContent:["@font-face {\n    font-family: 'SpaceInvaders';\n    src: url(./assets/space-invaders.woff) format('woff');\n    font-style: normal;\n}\n\n.root {\n    height: 100%;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    background-color: silver;\n    background-size: 150px;\n}\n\n.canvas {\n    max-height: 100%;\n    max-width: 100%;\n    background-color: black;\n    outline: 1px solid black;\n}\n"],sourceRoot:""}]),m.locals={root:"spaceInvaders_root_lNtkt",canvas:"spaceInvaders_canvas_JNvly"};const c=m},1667:t=>{"use strict";t.exports=function(t,e){return e||(e={}),t?(t=String(t.__esModule?t.default:t),/^['"].*['"]$/.test(t)&&(t=t.slice(1,-1)),e.hash&&(t+=e.hash),/["'() \t\n]|(%20)/.test(t)||e.needQuotes?'"'.concat(t.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):t):t}},3673:(t,e,h)=>{t.exports={srcSet:h.p+"6b062cc9ca4233c1-1136.webp 1136w",images:[{path:h.p+"6b062cc9ca4233c1-1136.webp",width:1136,height:474}],src:h.p+"6b062cc9ca4233c1-1136.webp",toString:function(){return h.p+"6b062cc9ca4233c1-1136.webp"},placeholder:"data:image/webp;base64,UklGRk4FAABXRUJQVlA4WAoAAAAQAAAAJwAAEAAAQUxQSCICAAABkChJsmlbc/Bs27Zt27Zt27Zt+977bNu2fW2cc/Zaqx7/ISImQMQu2QOMmS2rieFJTilPRCGRUr5Gt5CqSrm45hCbiIhDpqAMg+6iNbelHUyWtG/w8EZGYhllKoldRGyS8CVac+UV2vAj/iS4IPnDMZhc21BG01wcIuKQ5mg0XsdQBp3LCwJT5IwxbxStHkPE3u0ZxCYidinixhi+H8EYTJNXWFQpSuhGrUYGQXROscs/beKFMkReBM2P3vj5MqYa77242A9taC7O/yW7gzZ8DEZxdzpeZ/BuzevrHF2EhSuv2P+yx3LYY11HKZZdIvxR7e2ERvJ2FBHR3DiHhX8KsTudTptNbLFkDpahzDJuidygc1d8h2EUC9ZjQWlxioit1MwKuUcXmwi+bXrxKXcS/9CUiX56Kl+Ksb602koIjJS4TUYMzXCZ91f5Mt6NYmoPOtbCKhv/K36uvntwc/IKiiarcDPUV1vGowHNzyNUHgErEwdgMfAoblwKzeUAYjg6EbdCWwa0gjy74V1R/x/Xmf8ODl1BaS76o/mW+jPaEBOKx6X4luvlh28MDTg9nxXB0HYHFlEHw+FLTRmFxxitCPW2uJmP2x+5+PPSdpahmPUef07cI5j3sSX5OwJDCcJV5iRb67F1N69++H6IHIviyAfPKSZsIoKp4pBeZsbs4EaXnkqpiIE9XbmyBJy6EPKzTTm/z6FDLxzZGpypRdDHfiJWUDggBgMAAJARAJ0BKigAEQA+UR6NRKOhoRgNVAA4BQS2AFiPf/tHzD8T+aJ2JbDO4BqNsB4gH6we73zs3WAfwD1AP2A9KL9u/g8/ZP0paVK9k/FLKZsCf9jxobuYNUz7YHmy/yXomf6Xk7+Sf+V/XvgI/kv9K/1HA0/syJ2HzwanjoYPs63fPM6KryLVRPwDrG9JxZ2mZi/o8h0AAP3jvuVTW4YdLPOn74ApUVrSJs+5F/flt8kmFfx7ObmywwYH5SH58VUH1QsNAVFDpMy3zFDxuvBO7W4uH/5a7GbxAZq8fg3v+sGyx6SrPo/Z8tSDBSPGbyWUG5e4xdlkikby/JdFJLxwEkR36QHc37rgdGJCfsmfCuT8tBv5F13Y7KfultFAo62WwBHIYxw8qzMZ0pB5v2/Hb/9eGuPbpTC8IEXpo/Yt8rXD2Dg94D2KUIoG88sLwlecZDX/47SVLZQkb+CLqpMPdGRKL0KcROA7lf+ufDvzES78o08ezbK8v8X+FW3OcL/+u26mBbdRVPXQ5XoHmLScAYeGCGqv6UT3o7N6L5wPEh/em8jRCZwxuV7zwpP23SjfIFDKwakI05/uYgSHndoHKosZoYa+5+V/FGOiEqrT+GXtC7eEN/GO6+cJuPAsaHiYIC1n2nd+z8rWGCyxfLAzolVxbn97MB/4tbZ0XU0P0pEJ+GOLE3NFlfplmrMiQJ/Rmf3bG8uOOmtZTuVMuDlSOBhm+HeEJM+x6EOvbMsD+YkVTEMxffiIDzrdDXMQLzM/+SfwIxlcvNQ774gzuBJLSR8CwcFvLkhxcpiW+xJ/Vf+fNDzG8lQLUo2VbWbTD/J0pI5qTnMzX0dpJ7B/xrzL0WX1rSZuHNl7b2FoUAXUpT9Om+m/RSBMDJurAuPkMdhfZse4Yn/ugGs//Amv6O9fuAfzoD6EulkDpYWmvx8wrHiMRkryRYrio3SXaviVO0EFkQDe+q6vIGSk5spo7rAHYoE1zMKHxGxfInkDIiIVwM/l7F9sonwYc2gx+sonwdXaf13O7BFgAA==",width:1136,height:474}},9052:(t,e,h)=>{"use strict";h.r(e),h.d(e,{default:()=>Zt});var s=h(5893),n=h(7294),i=h(6638);const o="SpaceInvaders",v={INIT:"init",RUN:"run",END:"end"};var r=h(1991),a=h(2501);const m=t=>void 0!==t;class l{setPosition({x:t,y:e}){m(t)&&(this.x=t),m(e)&&(this.y=e)}setSize({width:t,height:e}){m(t)&&(this.width=t),m(e)&&(this.height=e)}get centerX(){return this.x+this.width/2}get centerY(){return this.y+this.height/2}get rect(){return[this.x,this.y,this.width,this.height]}get bounds(){const{x:t,y:e,width:h,height:s}=this;return{top:e,bottom:e+s,left:t,right:t+h}}collides(t){const e=this.bounds,h=t.bounds,s=Math.max(e.top,h.top),n=Math.min(e.bottom,h.bottom),i=Math.max(e.left,h.left),o=Math.min(e.right,h.right);return s<n&&i<o}}const c=(t,e)=>h=>{h.preventDefault();const{x:s,y:n}=(t=>{const e=t.target,h=e.getBoundingClientRect();let s,n;if("offsetX"in t&&"offsetY"in t)s=t.offsetX,n=t.offsetY;else{const e=t.changedTouches[0];s=e.clientX-h.x,n=e.clientY-h.y}const i=e.width,o=e.height;return{x:s/(h.width/i),y:n/(h.height/o)}})(h);s>t.left&&s<t.right&&n>t.top&&n<t.bottom&&(null==e||e())};class Z extends l{constructor({canvas:t,position:e,size:h,style:s,text:n,onDown:i,onUp:o}){super(),this.setPosition(e),this.setSize(h),this.style=s,this.text=n,this.text.setPosition({x:this.centerX,y:this.centerY}),this.text.style.textAlign="center",this.text.style.textBaseline="middle";const v=c(this.bounds,i),r=c(this.bounds,o);t.addEventListener("touchstart",v),t.addEventListener("touchend",r),t.addEventListener("mousedown",v),t.addEventListener("mouseup",r),this.unmount=()=>{t.removeEventListener("touchstart",v),t.removeEventListener("touchend",r),t.removeEventListener("mousedown",v),t.removeEventListener("mouseup",r)}}draw(t){t.fillStyle=this.style.backgroundColor,t.fillRect(...this.rect),t.strokeStyle=this.style.borderColor,t.lineWidth=this.style.borderWidth,t.strokeRect(...this.rect),this.text.draw(t)}}class V extends l{constructor({position:t,size:e,style:h,value:s}){super(),this.x=0,this.y=0,this.style={color:"white",fontFamily:o,fontSize:20,textAlign:"left",textBaseline:"top"},this.value="",t&&this.setPosition(t),e&&this.setSize(e),h&&(this.style=Object.assign(Object.assign({},this.style),h)),s&&(this.value=s)}measure(t){t.font=`${this.style.fontSize}px ${this.style.fontFamily}`;const e=t.measureText(this.value);return{width:e.actualBoundingBoxLeft+e.actualBoundingBoxRight,height:e.fontBoundingBoxAscent+e.fontBoundingBoxDescent}}draw(t){t.fillStyle=this.style.color,t.font=`${this.style.fontSize}px ${this.style.fontFamily}`,t.textAlign=this.style.textAlign,t.textBaseline=this.style.textBaseline,t.fillText(this.value,this.x,this.y,this.width)}}const H=40,d=20,u=30,g=150,w=60,p={backgroundColor:"transparent",borderColor:"white",borderWidth:2};function f({score:t}){const e=this.canvas,h=this.context,s=new V({value:"Game Over",position:{x:e.width/2,y:e.height/4},style:{fontSize:H,textAlign:"center"}}),n=new V({value:`score: ${t}`,position:{x:e.width/2,y:e.height/3},style:{fontSize:d,textAlign:"center"}}),i=new Z({canvas:e,position:{x:e.width/2-g/2,y:e.height*(3/4)-w},size:{width:g,height:w},text:new V({value:"Restart",style:{fontSize:u}}),style:p,onDown:()=>{const t=new KeyboardEvent("keydown",{key:" "});document.dispatchEvent(t)}});s.draw(h),n.draw(h),i.draw(h),this.garbage.add(i.unmount),setTimeout((()=>{const t=(0,r.f)(a.Y.SPACE,(()=>{this.changeState(v.INIT)}));this.garbage.add(t)}),300)}class x extends l{constructor({position:t,size:e,speedX:h,speedY:s,sprites:n}){super(),this.spriteIndex=0,this.setPosition(t),this.setSize(e),this.sprites=n,this.speedX=h,this.speedY=s}get image(){return this.sprites[this.spriteIndex]}toggleImage(){this.spriteIndex^=1}moveX(){this.x+=this.speedX}moveY(){this.y+=this.speedY}toggleMoveDirection(){this.speedX=-this.speedX}speedUp(t){this.speedX>=0&&(this.speedX+=t),this.speedX<0&&(this.speedX-=t)}draw(t){t.drawImage(this.image,...this.rect)}}const A=t=>{const e=new Image;return e.src=`data:image/svg+xml;charset=utf-8,${encodeURIComponent(t)}`,e},y=Object.entries({alienTop1:'<svg xmlns="http://www.w3.org/2000/svg" width="80" height="80" fill="white"><path fill="#D9D9D9" d="M30 0h10v10H30V0ZM0 70h10v10H0V70Zm10-10h10v10H10V60Zm10 10h10v10H20V70Zm30 0h10v10H50V70Zm20 0h10v10H70V70ZM60 60h10v10H60V60Zm-20 0h10v10H40V60Zm-10 0h10v10H30V60Zm20-10h10v10H50V50Zm-30 0h10v10H20V50Zm50-10h10v10H70V40Zm0-10h10v10H70V30ZM60 40h10v10H60V40Zm0-10h10v10H60V30ZM50 40h10v10H50V40Zm-10 0h10v10H40V40Zm0-10h10v10H40V30ZM30 40h10v10H30V40Zm0-10h10v10H30V30ZM20 40h10v10H20V40Zm-10 0h10v10H10V40ZM0 40h10v10H0V40Zm0-10h10v10H0V30Zm10 0h10v10H10V30Zm50-10h10v10H60V20Zm-10 0h10v10H50V20Zm-10 0h10v10H40V20Zm-10 0h10v10H30V20Zm-20 0h10v10H10V20Zm10 0h10v10H20V20Zm30-10h10v10H50V10Zm-10 0h10v10H40V10Zm-20 0h10v10H20V10Zm10 0h10v10H30V10ZM40 0h10v10H40V0Z"/></svg>',alienTop2:'<svg xmlns="http://www.w3.org/2000/svg" width="80" height="80" fill="white"><path fill="#D9D9D9" d="M30 0h10v10H30V0ZM10 20h10v10H10V20Zm0 10h10v10H10V30ZM0 30h10v10H0V30Zm0 10h10v10H0V40Zm10 0h10v10H10V40Zm0 10h10v10H10V50ZM0 60h10v10H0V60Zm10 10h10v10H10V70Zm10-30h10v10H20V40Zm10-10h10v10H30V30Zm0 10h10v10H30V40Zm0 10h10v10H30V50ZM20 20h10v10H20V20Zm10 0h10v10H30V20ZM20 10h10v10H20V10Zm10 0h10v10H30V10ZM50 0H40v10h10V0Zm20 20H60v10h10V20Zm0 10H60v10h10V30Zm10 0H70v10h10V30Zm0 10H70v10h10V40Zm-10 0H60v10h10V40Zm0 10H60v10h10V50Zm10 10H70v10h10V60ZM70 70H60v10h10V70ZM60 40H50v10h10V40ZM50 30H40v10h10V30Zm0 10H40v10h10V40Zm0 10H40v10h10V50Zm10-30H50v10h10V20Zm-10 0H40v10h10V20Zm10-10H50v10h10V10Zm-10 0H40v10h10V10Z"/></svg>',alienMid1:'<svg xmlns="http://www.w3.org/2000/svg" width="110" height="80" fill="white"><path fill="#D9D9D9" d="M20 0h10v10H20V0Zm10 10h10v10H30V10Zm0 10h10v10H30V20Zm10 0h10v10H40V20Zm10 0h10v10H50V20ZM40 30h10v10H40V30Zm0 10h10v10H40V40Zm0 10h10v10H40V50Zm10-20h10v10H50V30Zm0 10h10v10H50V40Zm0 10h10v10H50V50Zm10-30h10v10H60V20Zm0 10h10v10H60V30Zm0 10h10v10H60V40Zm0 10h10v10H60V50Zm10 0h10v10H70V50Zm0-10h10v10H70V40Zm0-20h10v10H70V20Zm0-10h10v10H70V10ZM80 0h10v10H80V0Zm0 20h10v10H80V20Zm0 10h10v10H80V30Zm10 0h10v10H90V30Zm0 10h10v10H90V40Zm10 0h10v10h-10V40Zm0-10h10v10h-10V30Zm0-10h10v10h-10V20Zm0-10h10v10h-10V10ZM90 50h10v10H90V50ZM80 40h10v10H80V40Zm0 10h10v10H80V50Zm0 10h10v10H80V60Zm10 10h10v10H90V70ZM30 40h10v10H30V40Zm0 10h10v10H30V50ZM20 20h10v10H20V20Zm0 10h10v10H20V30Zm-10 0h10v10H10V30ZM0 30h10v10H0V30Zm0-10h10v10H0V20Zm0-10h10v10H0V10Zm0 30h10v10H0V40Zm10 0h10v10H10V40Zm0 10h10v10H10V50Zm10 0h10v10H20V50Zm0 10h10v10H20V60ZM10 70h10v10H10V70Zm10-30h10v10H20V40Z"/></svg>',alienMid2:'<svg xmlns="http://www.w3.org/2000/svg" width="110" height="80" fill="white"><path fill="#D9D9D9" d="M80 10H70v10h10V10Zm0 10H70v10h10V20Zm10 0H80v10h10V20Zm0 10H80v10h10V30Zm10 0H90v10h10V30Zm0 10H90v10h10V40Zm10 0h-10v10h10V40Zm0 10h-10v10h10V50Zm0 10h-10v10h10V60ZM90 40H80v10h10V40Zm0 10H80v10h10V50Zm0 10H80v10h10V60ZM80 70H70v10h10V70Zm-10 0H60v10h10V70Zm10-30H70v10h10V40Zm0 10H70v10h10V50ZM70 20H60v10h10V20Zm0 10H60v10h10V30Zm0 10H60v10h10V40Zm0 10H60v10h10V50ZM60 20H50v10h10V20Zm0 10H50v10h10V30Zm0 10H50v10h10V40Zm0 10H50v10h10V50ZM90 0H80v10h10V0ZM30 10h10v10H30V10Zm0 10h10v10H30V20Zm-10 0h10v10H20V20Zm0 10h10v10H20V30Zm-10 0h10v10H10V30Zm0 10h10v10H10V40ZM0 40h10v10H0V40Zm0 10h10v10H0V50Zm0 10h10v10H0V60Zm20-20h10v10H20V40Zm0 10h10v10H20V50Zm0 10h10v10H20V60Zm10 10h10v10H30V70Zm10 0h10v10H40V70ZM30 40h10v10H30V40Zm0 10h10v10H30V50Zm10-30h10v10H40V20Zm0 10h10v10H40V30Zm0 10h10v10H40V40Zm0 10h10v10H40V50Z"/><path fill="#D9D9D9" d="M50 20h10v10H50V20Zm0 10h10v10H50V30Zm0 10h10v10H50V40Zm0 10h10v10H50V50ZM20 0h10v10H20V0Z"/></svg>',alienBot1:'<svg xmlns="http://www.w3.org/2000/svg" width="120" height="80" fill="white"><path fill="#D9D9D9" d="M40 0h10v10H40V0Zm0 10h10v10H40V10Zm0 10h10v10H40V20ZM50 0h10v10H50V0Zm0 10h10v10H50V10Zm0 10h10v10H50V20Zm0 10h10v10H50V30Zm0 10h10v10H50V40Zm-10 0h10v10H40V40ZM30 10h10v10H30V10Zm0 10h10v10H30V20ZM20 10h10v10H20V10Zm-10 0h10v10H10V10Zm10 10h10v10H20V20Zm-10 0h10v10H10V20ZM0 20h10v10H0V20Zm0 10h10v10H0V30Zm10 0h10v10H10V30Zm10 0h10v10H20V30ZM0 40h10v10H0V40Zm10 0h10v10H10V40Zm10 0h10v10H20V40Zm10 0h10v10H30V40Zm10 10h10v10H40V50Zm-10 0h10v10H30V50Zm0 10h10v10H30V60Zm-10 0h10v10H20V60ZM10 70h10v10H10V70ZM0 70h10v10H0V70ZM80 0H70v10h10V0Zm0 10H70v10h10V10Zm0 10H70v10h10V20ZM70 0H60v10h10V0Zm0 10H60v10h10V10Zm0 10H60v10h10V20Zm0 10H60v10h10V30Zm0 10H60v10h10V40Zm10 0H70v10h10V40Zm10-30H80v10h10V10Zm0 10H80v10h10V20Zm10-10H90v10h10V10Zm10 0h-10v10h10V10Zm-10 10H90v10h10V20Zm10 0h-10v10h10V20Zm10 0h-10v10h10V20Zm0 10h-10v10h10V30Zm-10 0h-10v10h10V30Zm-10 0H90v10h10V30Zm20 10h-10v10h10V40Zm-10 0h-10v10h10V40Zm-10 0H90v10h10V40Zm-10 0H80v10h10V40ZM80 50H70v10h10V50Zm10 0H80v10h10V50Zm0 10H80v10h10V60Zm10 0H90v10h10V60Zm10 10h-10v10h10V70Zm10 0h-10v10h10V70Z"/></svg>',alienBot2:'<svg xmlns="http://www.w3.org/2000/svg" width="120" height="80" fill="white"><path fill="#D9D9D9" d="M40 0h10v10H40V0Zm10 0h10v10H50V0Zm0 10h10v10H50V10Zm-10 0h10v10H40V10Zm-10 0h10v10H30V10Zm-10 0h10v10H20V10Zm-10 0h10v10H10V10Zm0 10h10v10H10V20ZM0 20h10v10H0V20Zm0 10h10v10H0V30Zm10 0h10v10H10V30ZM0 40h10v10H0V40Zm10 0h10v10H10V40Zm10-20h10v10H20V20Zm10 0h10v10H30V20Zm10 0h10v10H40V20Zm10 0h10v10H50V20Zm0 10h10v10H50V30Zm-30 0h10v10H20V30Zm0 10h10v10H20V40Zm10 0h10v10H30V40Zm10 0h10v10H40V40Zm10 0h10v10H50V40ZM40 50h10v10H40V50Zm-10 0h10v10H30V50Zm-10 0h10v10H20V50Zm0 10h10v10H20V60Zm-10 0h10v10H10V60Zm10 10h10v10H20V70Zm10 0h10v10H30V70ZM80 0H70v10h10V0ZM70 0H60v10h10V0Zm0 10H60v10h10V10Zm10 0H70v10h10V10Zm10 0H80v10h10V10Zm10 0H90v10h10V10Zm10 0h-10v10h10V10Zm0 10h-10v10h10V20Zm10 0h-10v10h10V20Zm0 10h-10v10h10V30Zm-10 0h-10v10h10V30Zm10 10h-10v10h10V40Zm-10 0h-10v10h10V40Zm-10-20H90v10h10V20Zm-10 0H80v10h10V20Zm-10 0H70v10h10V20Zm-10 0H60v10h10V20Zm0 10H60v10h10V30Zm30 0H90v10h10V30Zm0 10H90v10h10V40Zm-10 0H80v10h10V40Zm-10 0H70v10h10V40Zm-10 0H60v10h10V40Zm10 10H70v10h10V50Zm10 0H80v10h10V50Zm10 0H90v10h10V50Zm0 10H90v10h10V60Zm10 0h-10v10h10V60Zm-10 10H90v10h10V70Zm-10 0H80v10h10V70Z"/></svg>'}).reduce(((t,[e,h])=>(t[e]=A(h),t)),{}),b=[{width:26,height:26,sprites:[y.alienTop1,y.alienTop2]},{width:26,height:26,sprites:[y.alienTop1,y.alienTop2]},{width:36,height:26,sprites:[y.alienMid1,y.alienMid2]},{width:36,height:26,sprites:[y.alienMid1,y.alienMid2]},{width:40,height:26,sprites:[y.alienBot1,y.alienBot2]},{width:40,height:26,sprites:[y.alienBot1,y.alienBot2]}],M=Math.max(...b.map((({width:t})=>t))),E={setup:(t,e)=>{const h=[];let s=50;const n=b.flatMap((({width:t,height:e,sprites:h})=>{const n=(M-t)/2,i=Array.from({length:7}).map(((i,o)=>new x({position:{x:n+o*(t+n+10+n),y:s},size:{width:t,height:e},sprites:h,speedX:.5,speedY:8})));return s+=e+10,i}));return n.forEach((t=>{const e=setInterval((()=>t.toggleImage()),1e3);h.push(e)})),e.invaders=new Set(n),()=>{h.forEach(clearInterval)}},raf:[({context:t},{invaders:e})=>{e.forEach((e=>e.draw(t)))},({canvas:t},{invaders:e,score:h})=>{let s=!1;e.forEach((e=>{e.moveX();const h=e.bounds;(h.right>t.width||h.left<0)&&(s=!0)})),s&&(e.forEach((t=>{t.toggleMoveDirection(),t.moveY()})),h.value>0&&(h.value-=1))},(t,e)=>{const{invaders:h,player:s}=e;let n=!1;h.forEach((t=>{t.bounds.bottom>=s.bounds.top&&(n=!0)})),n&&(e.score.value=0,e.gameover=!0)}]};var I=h(6030);const B=(t,e,h)=>(0,I.M)("keyup",t,e,h);class D extends l{constructor({position:t,size:e,speed:h,color:s}){super(),this.setPosition(t),this.setSize(e),this.speed=h,this.color=s}move(){this.y-=this.speed}draw(t){t.fillStyle=this.color,t.fillRect(...this.rect)}}class S extends l{constructor({position:t,size:e,speed:h,image:s}){super(),this.setPosition(t),this.setSize(e),this.speed=h,this.image=s}moveLeft(){this.x-=this.speed}moveRight(){this.x+=this.speed}fire({size:t,speed:e,color:h}){const{width:s,height:n}=t,i={x:this.centerX-s/2,y:this.y-n};return new D({position:i,size:t,speed:e,color:h})}draw(t){t.drawImage(this.image,...this.rect)}}const k={player:A('<svg xmlns="http://www.w3.org/2000/svg" width="100" height="53" fill="white"><path fill="#fff" d="M0 26.9818V53h100V26.9818h-7.8431v-7.7091h-32.353V7.70909h-6.8627V0h-5.8824v7.70909h-6.8627V19.2727H7.84314v7.7091H0Z"/></svg>')},z={setup:(t,e)=>(0,r.f)(a.Y.SPACE,(()=>{e.bullet||(e.bullet=e.player.fire({size:{width:4,height:10},speed:7,color:"yellow"}))})),raf:[({context:t},{bullet:e})=>{e&&e.draw(t)},(t,e)=>{const{bullet:h}=e;h&&(h.move(),h.y<0&&(e.bullet=null))},(t,e)=>{const{bullet:h,invaders:s}=e;h&&s.forEach((t=>{t.collides(h)&&(e.bullet=null,s.delete(t),e.score.value+=10,(t=>{t.forEach((t=>t.speedUp(.1)))})(s),0===s.size&&(e.gameover=!0))}))}]},C={fontSize:20,textAlign:"left"},R={backgroundColor:"transparent",borderColor:"white",borderWidth:2},P=[{text:"<",onMouseDown:()=>{const t=new KeyboardEvent("keydown",{key:"ArrowLeft"});document.dispatchEvent(t)},onMouseUp:()=>{const t=new KeyboardEvent("keyup",{key:"ArrowLeft"});document.dispatchEvent(t)}},{text:"fire",onMouseDown:()=>{const t=new KeyboardEvent("keydown",{key:" "});document.dispatchEvent(t)}},{text:">",onMouseDown:()=>{const t=new KeyboardEvent("keydown",{key:"ArrowRight"});document.dispatchEvent(t)},onMouseUp:()=>{const t=new KeyboardEvent("keyup",{key:"ArrowRight"});document.dispatchEvent(t)}}],X=[E,{setup:({canvas:t},e)=>{const h={x:t.width/2-20,y:t.height-90};e.player=new S({position:h,size:{width:40,height:20},speed:5,image:k.player}),e.controls.rightPressed=!1,e.controls.leftPressed=!1;const s=(0,r.f)(a.Y.ARROW_LEFT,(()=>{e.controls.leftPressed=!0})),n=(0,r.f)(a.Y.ARROW_RIGHT,(()=>{e.controls.rightPressed=!0})),i=B(a.Y.ARROW_LEFT,(()=>{e.controls.leftPressed=!1})),o=B(a.Y.ARROW_RIGHT,(()=>{e.controls.rightPressed=!1}));return()=>{s(),n(),i(),o()}},raf:[({context:t,canvas:e},{player:h,controls:s})=>{h.draw(t);const n=h.bounds;s.rightPressed&&n.right<e.width&&h.moveRight(),s.leftPressed&&n.left>0&&h.moveLeft()}]},z,{setup:(t,e)=>{e.score.value=0,e.score.text=new V({value:"score: 0",position:{x:10,y:20},style:C})},raf:[({context:t},e)=>{const{value:h,text:s}=e.score;s.value=`score: ${h}`,s.draw(t)}]},{setup:({canvas:t},e)=>{const h=(t.width-40)/3,s=t.height-50-10,n=P.map((({text:e,onMouseDown:n,onMouseUp:i},o)=>new Z({canvas:t,position:{x:10+o*(h+10),y:s},size:{width:h,height:50},style:R,text:new V({value:e,style:{fontSize:20}}),onDown:n,onUp:i})));return e.controls.buttons=n,()=>{n.forEach((t=>t.unmount()))}},raf:[({context:t},{controls:e})=>{e.buttons.forEach((e=>e.draw(t)))}]}];function Y(){const t=this.canvas,e={context:this.context,canvas:t},h={invaders:new Set,bullet:null,player:{},controls:{},score:{}};X.map((({setup:t})=>null==t?void 0:t(e,h))).filter(m).forEach((t=>this.garbage.add(t)));const s=()=>{this.clear(),X.forEach((({raf:t})=>{t.forEach((t=>t(e,h)))})),h.gameover?this.changeState(v.END,{score:h.score.value}):this.rafId=requestAnimationFrame(s)};s()}var F=h(3673),L=h.n(F),T=h(5114);const K=120,U=60,G={backgroundColor:"transparent",borderColor:"red",borderWidth:2},J={color:"yellow",fontSize:30};var N=function(t,e,h,s){return new(h||(h=Promise))((function(n,i){function o(t){try{r(s.next(t))}catch(t){i(t)}}function v(t){try{r(s.throw(t))}catch(t){i(t)}}function r(t){var e;t.done?n(t.value):(e=t.value,e instanceof h?e:new h((function(t){t(e)}))).then(o,v)}r((s=s.apply(t,e||[])).next())}))};const O=new Image,W=new Promise((t=>{O.onload=()=>t(!0),O.onerror=()=>t(!1)}));O.src=L().src;const Q=new FontFace(o,`url(${T})`).load().then((t=>(document.fonts.add(t),!0)));function j(){return N(this,void 0,void 0,(function*(){const t=this.canvas,e=this.context;[new V({position:{x:80,y:t.height/2},style:{fontSize:24,textAlign:"left"},value:"«Left» - Move left"}),new V({position:{x:80,y:t.height/2+30},style:{fontSize:24,textAlign:"left"},value:"«Right» - Move right"}),new V({position:{x:80,y:t.height/2+60},style:{fontSize:24,textAlign:"left"},value:"«Space» - Fire"})].forEach((t=>t.draw(e)));const h=new Z({canvas:t,position:{x:t.width/2-K/2,y:t.height*(3/4)-U},size:{width:K,height:U},text:new V({value:"Start",style:J}),style:G,onDown:()=>{const t=new KeyboardEvent("keydown",{key:a.Y.SPACE});document.dispatchEvent(t)}});(yield Q)&&h.draw(e);const s=t.width-40,n=L().width/s,i=L().height/n;(yield W)&&e.drawImage(O,20,t.height/5,s,i);const o=(0,r.f)(a.Y.SPACE,(()=>{this.changeState(v.RUN)}));this.garbage.add(h.unmount),this.garbage.add(o)}))}class q{constructor(t){this.garbage=new Set,this.canvas=t,this.context=t.getContext("2d"),this.init=j,this.run=Y,this.end=f}clear(){this.context.clearRect(0,0,this.canvas.width,this.canvas.height)}changeState(t,e){switch(this.unmount(),this.clear(),t){case v.INIT:this.init(e);break;case v.RUN:this.run(e);break;case v.END:this.end(e)}}unmount(){this.garbage.forEach((t=>t())),this.garbage.clear(),cancelAnimationFrame(this.rafId)}}var _=h(3379),$=h.n(_),tt=h(7795),et=h.n(tt),ht=h(569),st=h.n(ht),nt=h(3565),it=h.n(nt),ot=h(9216),vt=h.n(ot),rt=h(4589),at=h.n(rt),mt=h(9386),lt={};lt.styleTagTransform=at(),lt.setAttributes=it(),lt.insert=st().bind(null,"head"),lt.domAPI=et(),lt.insertStyleElement=vt(),$()(mt.Z,lt);const ct=mt.Z&&mt.Z.locals?mt.Z.locals:void 0,Zt=()=>{const t=(0,n.useRef)(null);return(0,n.useEffect)((()=>{const e=t.current;if(!e)return;(0,i.F)();const h=new q(e);return h.init(),()=>{h.clear()}}),[]),(0,s.jsx)("div",Object.assign({className:ct.root},{children:(0,s.jsx)("canvas",{ref:t,width:400,height:700,className:ct.canvas})}))}},6638:(t,e,h)=>{"use strict";h.d(e,{F:()=>s});const s=()=>{const t=document.activeElement;t&&t.blur()}},5114:(t,e,h)=>{"use strict";t.exports=h.p+"777ddd818be389f600c5.woff"}}]);
//# sourceMappingURL=52_3518ee607228ba214341.js.map